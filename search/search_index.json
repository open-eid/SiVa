{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"INTRODUCTION","text":"<p>SiVa is digital signature validation web service that provides JSON API to validate following file types:</p> <ul> <li>Estonian DDOC containers</li> <li>Estonian BDOC containers with <code>TimeMark</code> and <code>TimeStamp</code> signatures</li> <li>Estonian ASiCS containers with time stamp tokens</li> <li>ETSI standard based ASiCE and ASiCS containers</li> <li>ETSI standard based XAdES, CAdES and PAdES signatures</li> <li>ETSI standard based XAdES signatures with datafiles in hashcode form</li> </ul> <p>Main purpose of this documentation is to give overview what SiVa is, how it is built and provide information for deploying the service and integrating with the service.</p>"},{"location":"#siva-architecture-document-sections-overview","title":"SiVa architecture document sections overview","text":"<p>Below list will give You an overview of what each section of the SiVa architecture document will cover:</p> <ul> <li>Definitions - defines and explains most common concepts used in SiVa documentation</li> <li>Background - gives overview what SiVa is and   it's main features.</li> <li>Structure and activities - gives overview of   main SiVa subsystems and base validation Java libraries   used for different validation services</li> <li>Interfaces - Description of SiVa   JSON API request and response</li> <li>Deployment - gives general overview of   servers required when deploying SiVa validation web service   into production</li> <li>Quality Assurance - overview of quality assurance strategy and testing</li> <li>Roadmap - info about planned releases</li> </ul>"},{"location":"version_info/","title":"VERSION HISTORY","text":"Version number Change date Author Description 0.1 06.05.2016 Mihkel Selgal Initial SiVa architecture 1.0 26.10.2016 Priit Reiser, Aare Nurm Documentation updates 1.1 04.05.2017 Vadim Pudov, Allan Juhanson, Julia Solovei, Aare Nurm Documentation updates 1.2 01.11.2017 Aare Nurm Update to new version of mkdocs. Addition of SIVA 2.0 documentation structure 1.3 20.12.2017 Aare Nurm, Siim Suu, Madis Piigli Documentation updates 1.4 29.01.2019 Aare Nurm Addition of SIVA 3.0 document structure 1.5 21.03.2019 Jorgen Heinsoo SIVA 3.2 documentation additions with diagnostic data report description 1.6 04.04.2019 Aare Nurm Finalizing the documentation for release 1.7 12.06.2020 Aare Nurm, Priit \u00dcksk\u00fcla SIVA 3.3 documentation additions 1.8 01.03.2021 Markus Kivisalu SIVA 3.4 documentation additions 1.9 12.04.2021 Markus Kivisalu Updated URL-s and reference links 1.10 16.06.2021 Risto Seene, Markus Kivisalu SIVA 3.5 documentation additions 1.11 20.04.2022 Aare Nurm Roadmap added 1.12 20.05.2022 Aare Nurm SignedBy field description update 1.13 07.11.2022 Aare Nurm SIVA 3.6 documentation additions. Removal of xroad-validation-service 1.14 08.05.2023 Ivo Mattus, Heiti Tobi SIVA 3.7 documentation additions. 1.15 25.03.2024 Heiti Tobi Roadmap updated. 1.16 29.04.2024 Ivo Mattus, Raido Raagmaa, Heiti Tobi Request size limit configuration and test cases update 1.17 19.06.2024 Jevgeni Krutov SOAP interface removed 1.18 10.12.2024 Jevgeni Krutov, Heiti Tobi Documented API changes related to validation of timestamps"},{"location":"siva/component_diagram/","title":"Component diagram","text":""},{"location":"siva/component_diagram/#web-api","title":"Web API","text":"<p>Web API is standard Spring Boot Web application module inside SiVa webapp it will take in JSON or SOAP requests sent by systems that are integrated with SiVa web service API. The incoming requests will be converted to SiVa Proxy Module Java request objects. Web API module also does basic validation of incoming requests. Checking that all the required fields are present and document type is correct.</p> <p>When validation has been completed by proxy selected validation service the returned qualified validation report Java object will be marshalled based on incoming request to JSON or SOAP and returned to client that requested the validation.</p>"},{"location":"siva/component_diagram/#external-configuration-resources","title":"External configuration resources","text":"<ul> <li>Optionally SiVa webapp can load in configuration file (i.e application.yml) at application startup time.   Configuration file can control Spring Boot configuration options in addition to SiVa application   specific options.</li> <li>Optionally SiVa webapp can also load in logging configuration options</li> </ul>"},{"location":"siva/component_diagram/#validation-proxy-service","title":"Validation proxy service","text":"<p>Validation proxy service or validation service selector is Spring Boot module that will take the Web API sent request object and try to find matching validation service based on the <code>documentType</code>inside the request object. When matching validation service have been found the proxy request is converted to validation request and sent to matched validation service.</p> <p>When no matching validation service has not been found exception is raised and error object is returned to Web API module. On successful validation the qualified validation report Java object sent from validation service is returned to Web API module.</p> <p>Note</p> <p>Validation services can be added dynamically to SiVa by conforming to pattern <code>documentType + \"ValidationService\"</code> and new validation service module must be Maven dependency of <code>siva-validation-proxy</code>. Example would be <code>BDOCValidationService</code>.</p>"},{"location":"siva/component_diagram/#validation-reporting-service","title":"Validation reporting service","text":"<p>Validation reporting service is optional module that can be turned on or off using configuration file. It's Spring Boot module and main purpose is to collect data about: incoming request, validation reports and errors that have been reported during validation process.</p> <p>When HTTP authentication header have been set the reporting service will also collect its and adds to required statistics reports.</p> <p>After the report object have been created the data will be sent to configured reporting service. SiVa is preconfigured to work with Google Analytics.</p>"},{"location":"siva/component_diagram/#tsl-loader","title":"TSL Loader","text":"<p>TSL loader loads in contents of TSL file from given URL in online mode or from directory when using offline mode in predefined interval.</p>"},{"location":"siva/component_diagram/#validation-services","title":"Validation services","text":"<p>All validation services use different Java library to validate given document in request. The used validation library is described in each of the validation service section.</p> <p>Common process that all validation services do with proxy forwarded validation process is:</p> <ul> <li>Convert the Base64 encoded document into <code>InputStream</code> byte array</li> <li>Check that given document is correct format (i.e valid BDOC). If not then error is thrown and   validation process is terminated.</li> <li>After validation of signatures has been completed the validation service starts to build   qualified validation report</li> <li>Validation report is created even validation <code>FAILED</code> or ended with <code>INDETERMINATE</code> result</li> </ul>"},{"location":"siva/component_diagram/#pdf-validation-service","title":"PDF Validation service","text":"<p>PDF or PaDES as known in DSS validation service uses Digidoc4J DSS fork Java library PaDES validation functionality using the validation policy that complies with Estonian laws and regulations.</p> <p>Configurable functionality:</p> <ul> <li>Possibility to add additional validation policies using SiVa <code>application.yml</code> configuration section.</li> </ul>"},{"location":"siva/component_diagram/#bdoc-validation-service","title":"BDOC validation service","text":"<p>BDOC for ASiC compliant containers both TM and TS will latest Maven released DigiDoc4J library</p>"},{"location":"siva/component_diagram/#ddoc-validation-service","title":"DDOC Validation service","text":"<p>DDOC for previous generation digitally signed files will use latest Maven release of JDigiDoc</p>"},{"location":"siva/component_diagram/#x-road-validation-service","title":"X-Road validation service","text":"<p>X-Road containers are similar to ASiCE containers but are not valid ASiCE containers. There we could not use DSS nor DigiDoc4J provided ASiCE validation functionality but need to X-Road developed <code>asicverifier</code> Java command line utility to validate these containers.</p> <p>Source code for <code>asicverifier</code> can be found in GitHub xroad-public repository*[]: <code>Asicverfier</code> has been integrated into SiVa as Java library. Making possible to use all the Java libraries packaged into <code>asicverifier</code> fat JAR.</p> <p>Configurable functionality:</p> <ul> <li>In SiVa configuration <code>application.yml</code> file You can define alternative location for <code>globalconf</code> directory to be loaded in using input stream</li> </ul>"},{"location":"siva/definitions/","title":"10.1. DEFINITIONS","text":"BDOC A digital signature format that was created in order to replace the DDOC (DigiDoc) digital signature format that is specific to Estonia. DDOC A format of digitally signed files based on the ETSI TS 101 903 Standard that is called \u2018XML Advanced Electronic Signatures (XAdES)\u2019. The standard describes the structure of digitally signed documents on various levels of incorporation of additional validity verification information. DigiDoc corresponds to the XAdES profile \u2018XAdES-X-L\u2019. DSS Digital Signature Services is Java library to sign and validate European digital signature formats Fat JAR The fat JAR is the JAR, which contains classes from all the libraries, on which your project depends and,   the classes of built project. JAR Java Archive is a package file format typically used to aggregate many Java class files and associated metadata   and resources (text, images, etc.) into one file to distribute application software or libraries on the Java platform. JVM The Java Virtual Machine is the runtime engine of the Java Platform, which   allows any program written in Java or other language compiled into Java bytecode to run on any   computer that has a native JVM. Linux an operating system, based on UNIX, that runs on many different hardware platforms and whose source   code is available to the public. PDF Portable document format is a file format that provides an electronic image of text or text and graphics that   looks like a printed document and can be viewed, printed, and electronically transmitted. SiVa is RESTful web service providing digital signature validation services for BDOC, DDOC, PDF and X-Road   files Spring Boot is a framework from the team at Pivotal, designed to simplify the bootstrapping and development of a new   Spring application. The framework takes an opinionated approach to configuration, freeing developers from the   need to define boilerplate configuration X-Road X-Road, the data exchange layer for information systems, is a technological and organizational environment enabling a secure Internet-based data exchange between information systems."},{"location":"siva/deployment_view/","title":"Deployment view","text":""},{"location":"siva/deployment_view/#load-balancer","title":"Load balancer","text":"<p>Load balancer can distribute traffic between SiVa nodes when there is more then one instance running. SiVa do not set any specific requirements for load balancer but in diagram the Nginx reverse proxy option is used.</p>"},{"location":"siva/deployment_view/#siva-web-application","title":"SiVa web application","text":"<p>SiVa web appliction is executable Spring Boot JAR file. This means all the dependencies and servlet containers are packaged inside single JAR file. The JAR file can be placed anywhere in server and the JAR must be marked executable if its not already.</p> <p>There also should be separate user created to run executalbe JAR as Linux service.</p> <p>Read more about running Spring Boot applications as Linux system service</p>"},{"location":"siva/deployment_view/#siva-x-road-validation-service","title":"SiVa X-Road validation service","text":"<p>SiVa X-Road validation service is also Spring Boot executable JAR application and also should be installed as Linux service. X-Road validation service communicates with SiVa web application over HTTP and default port is 8081</p> <p>X-Road separate installation is required to avoid BouncyCastle libraries version conflicts and class loader issues.</p>"},{"location":"siva/deployment_view/#security-server","title":"Security server","text":"<p>Into XRoad v6 security server the SiVa validation service will be registered to provide service to other organisations using XRoad infrastructure. Setting up XRoad Security server is out of scope for SiVa documentaiton.</p>"},{"location":"siva/introduction/","title":"Introduction","text":"<p>SiVa is digital signature validation web service that provides SOAP and JSON API to validate following file types:</p> <ul> <li>Older Estonian digital signature files with DDOC extension</li> <li>BDOC containers with <code>TimeMark</code> and <code>TimeStamp</code> signatures</li> <li>Digitally signed PDF files</li> <li>X-Road security server ASiCE signature containers</li> </ul> <p>Architecture document main purpose is to give overview what SiVa is. Give an overview of it's internal processes and provide information when deploying it to production environment.</p>"},{"location":"siva/introduction/#siva-architecture-document-sections-overview","title":"SiVa architecture document sections overview","text":"<p>Below list will give You an overview of what each section of the SiVa architecture document will cover:</p> <ul> <li>Overview - gives overview what SiVa is and   it's main features.</li> <li>Regulatory environment - legal analysis   and standards that are used when building SiVa application</li> <li>Component diagram - gives overview of   main SiVa subsystems and and and base validation Java libraries   used for different validation services</li> <li>Deployment view - gives general overview of   servers required when deploying SiVa validation web service   into production</li> <li>Interfaces - Description of SiVa   SOAP and JSON API request and response</li> <li>Database schema - description of SiVa   validation administration service database</li> <li>Use cases - describes main processes in SiVa   validation web service</li> <li>Deploying - how to build, deploy and configure   SiVa web service</li> <li>Logging - how to configure and setup SiVa validation   service logging support</li> </ul>"},{"location":"siva/introduction/#download-documentation","title":"Download documentation","text":"<ul> <li>Download documentation in PDF format</li> </ul>"},{"location":"siva/logging/","title":"Logging","text":"<p>Logging functionality is handled by the SLF4J logging facade and on top of it the Logback framework is used.\u00a0As a result, logging can be configured via the standard Logback configuration file.\u00a0By default, logging works on the <code>INFO</code> level and logs are directed to the system console as well as a log file.</p> <p>The logback xml configuration file can be found at:</p> <pre><code>pdfValidator/pdf-validator-webapp/src/main/resources/logback.xml\n</code></pre> <p>and when compiled the file will reside at\u00a0</p> <pre><code>WEB-INF/classes/logback.xml\n</code></pre> <p>within the packaged war. There is also a possibility to set the location of the default configuration file with a system property\u00a0<code>logback.configurationFile</code> as a JVM argument.\u00a0The value of this property can be a URL, a resource on the class path or a path to a file external to the application.</p> <pre><code>java -Dlogback.configurationFile=/path/to/config.xml\n</code></pre> <p>In this configuration file there are three appenders: <code>STDOUT</code> (logs to standard output), <code>FILE</code> (logs to a file) and <code>SYSLOG</code> (logs to syslog server over the network). To disable certain appender from logging, commenting out its <code>appender-ref</code> is sufficient, but it is recommended that the appender itself should also be commented out. For example to disable <code>SYSLOG</code> appender (which is the default configuration), then one can use following configuration:</p> <pre><code>&lt;!--\n&lt;appender name=\"SYSLOG\" class=\"ch.qos.logback.classic.net.SyslogAppender\"&gt;\n    &lt;syslogHost&gt;enter\\_ip\\_or\\_hostname\\_here&lt;/syslogHost&gt;\n    &lt;port&gt;514&lt;/port&gt;\n    &lt;facility&gt;USER&lt;/facility&gt;\n    &lt;filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\"&gt;\n        &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/filter&gt;\n    &lt;suffixPattern&gt;%-5level %logger{0}:%L \\[%thread\\] - %msg&lt;/suffixPattern&gt;\n&lt;/appender&gt;\n--&gt;\n\n&lt;root level=\"DEBUG\"&gt;\n&lt;appender-ref ref=\"STDOUT\"/&gt;\n&lt;appender-ref ref=\"FILE\"/&gt;\n&lt;!--&lt;appender-ref ref=\"SYSLOG\"/&gt;--&gt;\n\n&lt;/root&gt;\n</code></pre> <p>Logback configuration manual:\u00a0http://logback.qos.ch/manual/</p>"},{"location":"siva/logging/#stdout-appender","title":"STDOUT appender","text":"<ul> <li>Default the log level is set to DEBUG</li> <li>Appender output pattern is:\u00a0<code>%d{HH:mm:ss.SSS} %-5level %logger{0}:%L [%thread] - %msg%n</code></li> </ul>"},{"location":"siva/logging/#file-appender","title":"FILE appender","text":"<ul> <li>Default log level is set to <code>INFO</code></li> <li>uses\u00a0RollingFileAppender configured with\u00a0<code>TimeBasedRollingPolicy</code>.   Current configuration makes a seperate logfile for each day and each   file is kept for 30 days.</li> </ul> <p>PS! keep in mind when using relative   destination file path, then the path is added at the end of the   currently working directory, i.e. where the application was started.   (Current day's logfile path:\u00a0<code>logs/pdf-validator-webapp.log</code>,   prievious days pattern:\u00a0</p> <pre><code>    logs/pdf-validator-webapp.%d{yyyy-MM-dd}.log)\n</code></pre> <ul> <li>Appender output pattern is:\u00a0 <code>%d{HH:mm:ss.SSS} %-5level %logger{0}:%L \\[%thread\\] - %msg%n</code><pre><code>-Dlogback.configurationFile=config.xml\n</code></pre> </li> </ul>"},{"location":"siva/logging/#syslog-appender","title":"SYSLOG appender","text":"<ul> <li>Default log level is set to <code>INFO</code></li> <li>Target's ip/hostname and port are\u00a0configurable</li> <li>Syslog messsages' severity is\u00a0configurable</li> <li>Syslog messages' payload's timestamp and hostname part are created   implicitly and the suffixpattern is:\u00a0 <code>%-5level %logger{0}:%L \\[%thread\\] - %msg</code></li> </ul>"},{"location":"siva/overview/","title":"Overview","text":""},{"location":"siva/overview/#what-is-siva","title":"What is SiVa?","text":"<p>SiVa (Signature Validation) web service is continued development of PDF Validation web service. Service provides a JSON and SOAP based API web interface which purpose is to validate signatures in digitally signed BDOC, DDOC, PDF and X-Road ASiCE files according to validation policy (described in the Validation Policy section).</p> <p>SiVa uses following Java libraries and command line utilities:</p> <ul> <li>EU DSS (Digital Signature Service) library is chosen for digitally signed   PDF file validation</li> <li>DigiDoc4J Java library to validate BDOC containers. Supported signature   types are <code>TimeStamp</code> and <code>TimeMark</code></li> <li>JDigiDoc Java library is used to validate DDOC files starting from version</li> <li>X-Road ASiCE containers are validated using X-Road security server project   provided command line utility</li> </ul>"},{"location":"siva/overview/#validation-libraries","title":"Validation libraries","text":""},{"location":"siva/overview/#digidoc4j-eu-dss-fork","title":"DigiDoc4j EU DSS fork","text":"<p>DigiDoc4J EU DSS fork library for PDF files was chosen because it all the main validation constrains already provided and all new constraints can be added easily. For more information on EU DSS, see: https://joinup.ec.europa.eu/asset/sd-dss/description.</p> <p>SiVa will use the following functionality of EU DSS library:</p> <ul> <li>PaDES Validation Functionality</li> <li>TSL loading functionality</li> </ul>"},{"location":"siva/overview/#digidoc4j","title":"DigiDoc4J","text":"<p>DigiDoc4J will be used to validate both <code>TimeMark</code> and <code>TimeStamp</code> based BDOC containers. DigiDoc4J was chosen because it's only Java library that can validate Estonian BDOC files according to SiVa validation policy. For more information on DigiDoc4J: https://github.com/open-eid/digidoc4j</p> <p>SiVa will use the following functionality of DigiDoc4J:</p> <ul> <li>BDOC validation functionality</li> </ul>"},{"location":"siva/overview/#jdigidoc","title":"JDigiDoc","text":"<p>JDigiDoc provides support for DDOC files the library was chosen because it provides most complete support for all required DDOC versions. Read more about JDigiDoc: https://github.com/open-eid/jdigidoc</p> <p>SiVa will use the following functionality of JDigiDoc:</p> <ul> <li>DDOC validation functionality</li> </ul>"},{"location":"siva/overview/#x-road-signature-validation-utility","title":"X-Road signature validation utility","text":"<p>X-Road signature validation utility is command line tool to validate X-Road Security server generated ASiCe files. The utility was chosen because it's only available packaged to tool to validate X-Road signature files.</p>"},{"location":"siva/overview/#main-features-of-siva-validation-service","title":"Main features of SiVa validation service:","text":"<ul> <li>SiVa SOAP ETSI compliant API to validate all supported signatures.</li> <li>SiVa REST ETSI compliant API to validate all supported signatures.</li> <li>SiVa handles files in PDF-format version 1.7 and later,   signed with PadES-profile signatures.</li> <li>Service handles DDOC files starting from version 1.0 or later</li> <li>Service supports BDOC files starting from version 2.1 or later</li> <li>Service supports X-Road 6 security server ASiCE containers</li> <li>Service supports up to 10MB file size upload</li> <li>SiVa uses European Commission\u2019s TSL (Trusted Service   Status List) for certificate chain validation for PDF and BDOC files.<ul> <li>European Commission\u2019s TSL contains references to TSLs of   European Union\u2019s member states and members of the European   Economic Area. This allows the PDF Validator to validate   signature that has been signed with certificates issued in any   of European Union\u2019s member states.</li> <li>During the validation process, a certificate chain is created   from signer\u2019s certificate up to the trust anchor (national trust   list referenced by the central European Commission's trust list)   for all certificates included in the signature (i.e. the   signer's certificate, OCSP service's certificate, time-stamping   Service's certificate).</li> </ul> </li> <li>SiVas for DDOC and X-Road signature containers will use configured   list certificates.</li> <li>Signatures with PadES-LT and PadES-LTA profile are supported.</li> <li>BDOC signatures with type BDOC-TM and BDOC-TS are supported</li> <li>SiVa extracts data files from DDOC containers.</li> </ul> <p>At the time of creating the current documentation, it is expected that SiVa will be used by the following applications:</p> <ul> <li>DigiDoc3 Client application</li> <li>Third party document management applications</li> </ul>"},{"location":"siva/qa_strategy/","title":"10.6.1 QA Strategy","text":""},{"location":"siva/qa_strategy/#introduction","title":"Introduction","text":"<p>The goal of this document is to give general overview of the used infrastructure, processes, schedule and actions to ensure good quality delivery. The document describes activities in the whole software development process. Analysis, development and testing are separated for the sake of structure and transparency although they are integral parts of the development cycle. This is living document and will be constantly updated as the project evolves.</p>"},{"location":"siva/qa_strategy/#environments-and-infrastructure","title":"Environments and infrastructure","text":"<p>There are different test environments for quality assurance, depending on the nature and aim.</p> <ol> <li>TravisCI environment for public CI - Platform: Linux</li> <li>Test environment for local test and load test - Platform: Linux</li> </ol> <p>Instructions how to set up test enviroment and run tests together with more info can be found in SiVa GitHub page</p> <p>System requirements:</p> <ul> <li>At least 2GB of RAM on machine where the build is executed</li> <li>Minimum required Java version is Java 8</li> <li>SiVa project provided Maven Wrapper (./mvnw)</li> </ul> <p>Tools used:</p> <ul> <li>TravisCI \u2013 is a continuous integration service used to build and test software projects hosted at GitHub</li> <li>Jenkins \u2013 is an open source continuous integration tool written in Java.</li> <li>JMeter \u2013 tool for creating and running load tests.</li> <li>IntelliJ IDEA \u2013 is a Java integrated development environment(IDE) for developing and executing automated tests locally</li> <li>Apache Tomcat - is an open source servlet container developed by the Apache Software Foundation.</li> <li>Docker \u2013 is an open-source project that automates the deployment of applications inside software containers, by providing an additional layer of abstraction and automation of operating-system-level virtualization on Linux.</li> <li>Rest-Assured - is a Java DSL(Domain-specific language) for simplifying testing of REST based Services built on top of HTTP Builder.</li> </ul>"},{"location":"siva/qa_strategy/#analysis","title":"Analysis","text":"<p>Analysis will be tagged with identificators to enable cross-reference between requirements and corresponding tests. This includes both functional and non-functional requirements. Analysis of specific tasks must be done before the sprint planning meeting. This will ensure that upcoming sprint is planned in common grounds.</p> <p>See documents(2) and (3) in References</p>"},{"location":"siva/qa_strategy/#development","title":"Development","text":""},{"location":"siva/qa_strategy/#development-process","title":"Development process","text":"<p>Customized iterative process similar to SCRUM is used in the development. The process consists of following elements:</p> <ul> <li>Product backlog is maintained</li> <li>Sprints are two weeks long</li> <li>Sprint planning meetings are held</li> <li>Tasks are maintained through JIRA SCRUM board</li> <li>Daily team stand-ups are held</li> <li>Tasks marked done are developed, tested and ready to be shipped</li> <li>Bi-weekly meetings are held to give status on progress and discuss open questions</li> <li>Retrospectives are held at least with two month intervals</li> </ul> <p></p>"},{"location":"siva/qa_strategy/#issue-lifecycle","title":"Issue lifecycle","text":"<p>Each ticket (defect, task, ...) in JIRA SCRUM board goes through the following states that correspond the development procedure described in previous chapter.</p> <p></p> <p>Description of states:</p> <ul> <li>ToDo - tickets to be dealt with in current sprint (Sprint backlog).</li> <li>Analysis -ticket is being analysed. During this stage requirements are refined.</li> <li>Development - ticket is being handled (feature coding, document writing, ...).</li> <li>In Review - the work done in development stage is being reviewed.</li> <li>Test - ticket is being tested.</li> <li>Done - ticket has been tested and deemed sufficient for release (Ready features)</li> <li>Closed - ticket has been released.</li> </ul>"},{"location":"siva/qa_strategy/#qa-activities-and-quality-criterias-in-the-development","title":"QA activities and quality criterias in the development","text":"<p>Process improvement</p> <p>The development process is constantly monitored and adjusted to the changing situations. Retrospective meetings for process feedback are held.</p> <p>Unit tests</p> <p>It is responsibility of developer to write, maintain and execute the unit tests on developed features. The code must compile and pass unit tests before it is allowed to be submitted to the code repository.  The code of the unit tests is integral part of the source code and is maintained on the same principles.</p> <p>Unit tests are also automatically executed on each build, if the unit tests do not pass further test execution is stopped.</p> <p>Static testing/code reviews</p> <p>All changes (including changes in unit test code) are reviewed by another development team member using GitHub. The code must pass review before it is submitted to testing.</p> <p>SonarLint is used to validate code automatically. It integrates both suggested tools mentioned in reference document (3) References</p>"},{"location":"siva/qa_strategy/#testing","title":"Testing","text":""},{"location":"siva/qa_strategy/#approach-and-schedule","title":"Approach and schedule","text":"<p>Testing follows the principles described in reference document (1) in References</p> <p>The goal is to automate as much of the testing process as possible, however some aspects of the testing will be carried out manually.</p> <p>As the development is carried out validation module by validation module, testing will follow the same principle. The tests will be developed in iterations for each validation module.</p> <p>After each iteration test cases, test automation code and test results will be available through GitHub.</p> <p>The main focus on testing is on different type of input data, the tests themselves will be based on the same principle for all the modules.</p> <p>The schedule of testing can be seen on the image below.</p> <p></p>"},{"location":"siva/qa_strategy/#testing-process","title":"Testing process","text":"<p>All automatic tests, except load tests will follow the same execution process. The tests are ran automatically during the project build process by Travis CI after each code change push in GitHub.</p> <p></p>"},{"location":"siva/qa_strategy/#test-case-management","title":"Test case management","text":"<p>Test cases are handled as integral part of test automation code. The same applies on manual tests, in manual test cases some portion of automation may be used to execute the tests but the results are verified manually. All the test cases and test code will be maintained in the GitHub.</p> <p>Test cases are developed and maintained together with test automation code by the QA specialist for Integration and System Testing.</p> <p>Following elements will be present in test cases:</p> <ul> <li>TestCaseID: unique ID that makes possible to identify specific test case</li> <li>TestType: Automated, Automated SoapUI or Manual</li> <li>Requirement: Reference to the requirement that is tested</li> <li>Title: Description of the test</li> <li>Expected Result: expected outcome of the test (pass criteria for the test)</li> <li>File: input test file that is used</li> </ul> <p>Test case sample</p> <p>Automatic and manual test cases will have the same description principles (shown below).</p> <pre><code>    /**\n     * TestCaseID: Bdoc-ValidationFail-27\n     *\n     * TestType: Automated\n     *\n     * Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2\n     *\n     * Title: Bdoc  OCSP response doesn't correspond to the signers certificate\n     *\n     * Expected Result: The document should fail the validation\n     *\n     * File: NS28_WrongSignerCertInOCSPResp.bdoc\n     */\n    @Test\n    public void bdocWrongSignersCertInOcspResponse() {\n        setTestFilesDirectory(\"bdoc/live/timemark/\");\n        post(validationRequestFor(\"NS28_WrongSignerCertInOCSPResp.bdoc\"))\n                .then()\n                .body(\"signatures[0].indication\", Matchers.is(\"TOTAL-FAILED\"))\n                .body(\"signatures[0].subIndication\", Matchers.is(\"TRY_LATER\"))\n                .body(\"signatures[0].errors.content\", Matchers.hasItem(\"No revocation data for the certificate\"))\n                .body(\"validSignaturesCount\", Matchers.is(0));\n    }\n</code></pre>"},{"location":"siva/qa_strategy/#defect-management","title":"Defect management","text":"<p>All found defects will be reported and handled in Jira. The defect report will follow similar lifecycle in JIRA SCRUM board as tasks.</p> <p>The report will have following elements:</p> <ul> <li>Title: Short, precise description of the problem</li> <li>Details: Type, Priority, Sprint, Epic Link, Fix Version/s</li> <li>Description:<ul> <li>Steps to reproduce bug - sequence for reproduction, link to test case if applicable.</li> <li>Expected behavior - expected outcome of the test sequence.</li> <li>Actual behavior - actual result of the test sequence. The description should be thorough enough to enable the debugging of the problem and to give objective base for severity assessment.</li> <li>File attachments - Test files, logs, images, ...</li> </ul> </li> </ul>"},{"location":"siva/qa_strategy/#test-levels","title":"Test levels","text":"<p>Integration testing</p> <p>The scope of the tests is illustrated on the image below. The goal is to test the SiVA application API (both X-Road and REST/JSON) and to test the independent module capability for validation of specific type of file (DDOC, BDOC, PDF or X-Road signature). Both valid and invalid inputs are tested. More info about testing specifics can be found in Test Plan Integration testing section.</p> <p></p> <p>System testing</p> <p>The scope of the tests is illustrated on the image below. The goal of the test is to test the entire length of signature validation process and to test supportive functions. In addition Demo application is tested. More info about testing specifics can be found in Test Plan System testing section.</p> <p></p> <p>Regression testing</p> <p>Regression testing will consist of two parts: Running all automated tests (unit, integration and system tests) Manual testing of the areas that are not covered by automatic tests based on the regression test checklist</p>"},{"location":"siva/references/","title":"References","text":"<ul> <li>(1) Lisa_6_Osa_I_SiVa_Testimise_korraldus.pdf</li> <li>(2) Lisa_4_Osa_I_SiVa_Valideerimisteenuse_analuus MUUDETUD.pdf</li> <li>(3) Lisa_3_RIA_Mittefunktsionaalsed_nouded.pdf</li> </ul>"},{"location":"siva/test_plan/","title":"10.6.2 Test Plan","text":""},{"location":"siva/test_plan/#test-execution","title":"Test execution","text":"<p>Execution of tests in SiVa is divided in three categories: Automated, Automated SoapUI, Manual. The method is also indicated in test case description with TestType field.</p>"},{"location":"siva/test_plan/#execution-of-automated-type-of-tests","title":"Execution of Automated type of tests","text":"<p>These tests are run automatically by Maven every time SiVa project is built. These tests must pass for the build to be successful. Its also possible to execute the tests separately with Maven wrapper using the command:</p> <pre><code>./mvnw verify\n</code></pre> <p>These tests are part of SiVa project and can also be executed using IntellJ IDEA. To do that, SiVa project must be loaded into IDEA. Tests are located in following packages:</p> <ul> <li>ee.openeid.siva.integrationtest</li> <li>ee.openeid.siva.resttest</li> <li>ee.openeid.siva.soaptest</li> </ul> <p>To run the tests in IDEA right click on package name and select \"Run tests in\". Its also possible to run individual tests by right clicking on specific test code and selecting \"Run\". </p>"},{"location":"siva/test_plan/#execution-of-automated-soapui-type-of-tests","title":"Execution of Automated SoapUI type of tests","text":"<p>The description how to execute the tests together with SoapUI project file to be used can be found in SiVa GitHub</p>"},{"location":"siva/test_plan/#execution-of-manual-type-of-tests","title":"Execution of Manual type of tests","text":"<p>Most of the manual tests require that SiVa service is set up together with SiVa Demo Application. The instructions how to set up SiVa are given in System integrator's guide</p> <p>Execution of manual tests depends on testable area. These tests can be divided into following categories:</p> <ul> <li>Statistics tests - test data can be prepeared with exectuting ee.openeid.siva.manualtest package. It can be also generated by uploading files into SiVa Demo application. Results have to be verified in logs and Google Analytics.</li> <li>Configuration tests - SiVa configuration files have to be modified by hand and service must be set up. Correct behavior of the service must be checked.</li> <li>Other tests - tests are executed by loading files into SiVa Demo application and validating the results shown in the SiVa Demo application.</li> </ul> <p>Files to use in manual tests can be found in SiVa GitHub</p>"},{"location":"siva/test_plan/#integration-test-introduction","title":"Integration Test introduction","text":"<p>This section of the document gives overview of Integration Testing carried out on SiVa web service and SiVa Demo application.</p> <p>SiVa web service Integration Testing is using RestAssured library v2.5.0 to implement automatic checks for REST/SOAP based tests.</p> <p>The testing of the SiVa web service is divided into sections based on the software architecture and functionalities provided to the users. The sections are:</p> <ul> <li>REST API</li> <li>SOAP API</li> <li>DDOC signature validation</li> <li>BDOC signature validation</li> <li>PDF signature validation</li> <li>X-Road ASICE signature validation</li> </ul> <p>The goal is to focus testing on functionalities implemented in SiVa web service application. Functionalities provided by Validation libraries are not explicitly tested.</p> <p>In addition SiVa Demo Application is tested. These tests are carried out manually.</p>"},{"location":"siva/test_plan/#testing-of-rest-api","title":"Testing of REST API","text":"<p>The goal of the REST API testing is to check that the API is accepting the requests based on the specification and the output result is in correct format and has all the required elements.</p>"},{"location":"siva/test_plan/#validation-request-tests","title":"Validation request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Wrong (not accepted) values in input parameters</li> <li>Empty values in input paramters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Inconsistencies on stated parameters and actual data (wrong document type)</li> <li>Case insensitivity on parameter names</li> <li>Empty request</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>ValidationRequestIT.java</li> <li>DocumentFormatIT.java</li> </ul>"},{"location":"siva/test_plan/#get-data-files-request-tests","title":"Get Data Files request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Empty request</li> <li>Empty values in input parameters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Changed order of parameters</li> <li>Case insensitivity on parameter names</li> <li>Inconsistencies on stated parameters and actual data</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>GetDataFileRequestIT.java</li> </ul>"},{"location":"siva/test_plan/#validation-report-tests","title":"Validation report tests","text":"<p>SiVa web service returns uniform Validation Report on all the supported document types. This also includes correct document types without actual signature (for example PDF document without signature). However not all values may be present for all the document types.</p> <p>Following areas are tested on output (Validation Report):</p> <ul> <li>JSON structure on DDOC, BDOC, PDF, ASIC-E and ASICE-E X-Road document types</li> <li>Presence of the mandatory elements on DDOC, BDOC, PDF, ASIC-E and ASICE-E X-Road document types</li> <li>Presence of optional elements on DDOC, BDOC, PDF, ASIC-E and ASICE-E X-Road document types</li> <li>Verification of expected values</li> <li>JSON structure on containers without signatures</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>ValidationReportValueVerificationIT.java</li> </ul>"},{"location":"siva/test_plan/#testing-of-soap-api","title":"Testing of SOAP API","text":"<p>The goal of the SOAP API testing is to check that the API is accepting the requests based on the specification and the output result (Validation Report) is in correct format and has all the required elements. In general the tests follow the same principles as with REST API. Compatibility with X-Road security server is out of scope for these tests and will be covered in X-Road System Test plan.</p>"},{"location":"siva/test_plan/#validation-request-tests_1","title":"Validation request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Wrong (not accepted) values in input parameters</li> <li>Empty values in input paramters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Inconsistencies on stated parameters and actual data (wrong document type)</li> <li>Case insensitivity on parameter names</li> <li>Empty request</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapValidationRequestIT.java</li> </ul>"},{"location":"siva/test_plan/#get-data-files-request-tests_1","title":"Get Data Files request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Empty request</li> <li>Empty values in input parameters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Changed order of parameters</li> <li>Case insensitivity on parameter names</li> <li>Inconsistencies on stated parameters and actual data</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapGetDataFileRequestIT.java</li> </ul>"},{"location":"siva/test_plan/#validation-report-tests_1","title":"Validation report tests","text":"<p>SiVa web service returns uniform Validation Report on all the supported document types. This also includes correct document types without actual signature (for example PDF document without signature). However not all values may be present for all the document types.</p> <p>Following areas are tested on output (Validation Report):</p> <ul> <li>Presence of the mandatory elements on DDOC, BDOC, PDF, ASIC-E and ASICE-E X-Road document types</li> <li>Presence of optional elements on DDOC, BDOC, PDF, ASIC-E and ASICE-E X-Road document types</li> <li>Verification of expected values</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapValidationReportValueIT.java</li> </ul>"},{"location":"siva/test_plan/#get-data-files-report-tests","title":"Get Data Files report tests","text":"<p>Following areas are tested on output:</p> <ul> <li>Presence of the mandatory elements</li> <li>Verification of expected values</li> <li>Extraction of all data files</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapGetDataFileReportIT.java</li> </ul>"},{"location":"siva/test_plan/#testing-of-ddoc-signature-validation","title":"Testing of DDOC signature validation","text":"<p>The goal of the DDOC signature validation testing is to check that the validation results given by JDigiDoc library are properly presented in validation report.</p> <p>The testing of DDOC signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated.</li> <li>Containers with invalid signature(s) or no signature are validated</li> <li>Containers sizes near maximum are validated</li> <li>Containers with DDOC v1.0 - 1.3 are validated</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>DdocValidationFailIT.java</li> <li>DdocValidationPassIT.java</li> <li>LargeFileIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva/test_plan/#testing-of-bdoc-signature-validation","title":"Testing of BDOC signature validation","text":"<p>The goal of the BDOC signature validation testing is to check that the validation results given by DigiDoc4J library are properly presented in validation report.</p> <p>The testing of BDOC signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated</li> <li>Containers with invalid signature(s) or no signature are validated</li> <li>Containers sizes near maximum are validated</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>BdocValidationFailIT.java</li> <li>BdocValidationPassIT.java</li> <li>LargeFileIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva/test_plan/#testing-of-pdf-signature-validation","title":"Testing of PDF signature validation","text":"<p>Portion of the validation rules for PDF documents are implemented in SiVa web apllication itself. Therefor different test area selection is used for PDF compared to other containers.</p> <p>The testing of PDF signatures consists of following main cases:</p> <ul> <li>Containers with invalid signature(s) (different reasons for failure) are validated</li> <li>Containers with no signature are validated</li> <li>Containers sizes near maximum are validated</li> <li>Containers with different baseline profiles are validated</li> <li>Containers with serial and parallel signatures are validated</li> <li>Containers with different signature cryptocaphic algorithms are validated</li> <li>Containers with OCSP values inside and outside bounds are validated</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>PdfBaselineProfileIT.java</li> <li>PdfSignatureCryptographicAlgorithmIT.java</li> <li>PdfValidationFailIT.java</li> <li>PdfValidationPassIT.java</li> <li>LargeFileIT.java</li> </ul>"},{"location":"siva/test_plan/#testing-of-x-road-asice-signature-validation","title":"Testing of X-Road ASICE signature validation","text":"<p>The goal of the ASICE signature validation testing is to check that the validation results given by X-Road signature validation utility are properly presented in validation report.</p> <p>The testing of ASICE signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated</li> <li>Containers with invalid signature(s) are validated</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>XroadValidationPassIT.java</li> <li>XroadValidationFailIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva/test_plan/#testing-of-data-files-extraction","title":"Testing of Data Files Extraction","text":"<p>The goal of the Data Files Extraction testing  is to check if right data files returned for DDOC container and error messages for other types of containers.</p> <p>The testing of Data Files Extraction consists of following main cases:</p> <ul> <li>Extracting the data files from valid DDOC container</li> <li>Extracting the data files from Hashcoded DDOC  returns null for Base64 encoded String</li> <li>Extracting the data files from DDOC container  with 12 different   types  of files</li> <li>Extracting the data files from not DDOC container</li> <li>Extracting the data files from DDOC container with wrong Document Type</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>DdocGetDataFilesIT.java</li> </ul>"},{"location":"siva/test_plan/#testing-of-user-statistics","title":"Testing of user statistics","text":"<p>Testing of user statistics is carried out in combination of automatic data preparation and generation by integration tests and manual verification of the results. SiVa supports two parallel ways of gathering user statistics:</p> <ul> <li>Validation results are printed to system log and can be gathered by any suitable means</li> <li>Validation results are sent to Google Analytics using Google Measurement Protocol API</li> </ul> <p>Note</p> <p>Testing of Google Analytics requires creation and configuration of Google Analytics account and configuring SiVa service to send statistics to this account. Configuration of SiVa service is explained in SiVa system deployment.</p> <p>As both systems use the same data the testing follows the same principles for both. Following areas are covered:</p> <ul> <li>Statistics values are checked in log and Google Analytics for all container types (this also includes parameters not present in validation report)</li> <li>Valid and invalid signatures are validated</li> <li>Error situations on signature validation (instead of validation report, error message is returned)</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>StatisticsToGAManualIT.java</li> <li>StatisticsToLogsManualIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Configuring Google Analytics reports is out of scope. Only verification of data presence is done.</li> </ul>"},{"location":"siva/test_plan/#siva-demo-application-tests","title":"SiVa Demo Application tests","text":"<p>Testing of SiVa Demo Application is done manually. The main cases are:</p> <ul> <li>Cross browser usage (IE, Edge, Chrome, Firefox and Safari)</li> <li>File upload (different sizes, suported and unsupported file types)</li> <li>Displayment of Validation Report both for REST and SOAP</li> <li>Layout of the page</li> <li>Error representation</li> </ul> <p>Sample test cases with input files can be found in:</p> <ul> <li>Demo Application Integration Test </li> </ul>"},{"location":"siva/test_plan/#system-test-introduction","title":"System Test introduction","text":"<p>While Integration Tests were mostly carried out automatically then System Testing is mostly depending on manual testing.</p> <p>System testing is carried out using two access points:</p> <ul> <li>Testing through SiVa Demo Application</li> <li>Testing through X-Road security server using SoapUI</li> </ul> <p>Note</p> <p>Testing through X-Road security server requires presence and configuration of X-Road security server to use SiVa service.  Tests are run using SoapUI that simulates request to X-Road security server.</p>"},{"location":"siva/test_plan/#testing-through-x-road-security-server","title":"Testing through X-Road security server","text":"<p>Following areas are covered for document validation:</p> <ul> <li>Validation of valid signature</li> <li>Validation of invalid signatur</li> <li>Validation that returns Soap error</li> </ul> <p>All of the above test cases are run with BDOC, DDOC, PDF and X-Road ASiC-E containers. </p> <p>Following areas are covered for file extraction:</p> <ul> <li>Extraction of data files from valid ddoc</li> <li>Extraction of data files from invalid ddoc</li> <li>Error response from data file extraction  </li> </ul> <p>Tests along with test case descriptions are available for rerun in github.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>X-Road Soap System Test</li> </ul>"},{"location":"siva/test_plan/#configurationadministration-testing","title":"Configuration/administration testing","text":"<p>Following areas are covered:</p> <ul> <li>SiVa Web Application configuration</li> <li>X-Road validation service configuration</li> <li>Demo Application configuration</li> </ul> <p>Specific test cases can be found in:</p> <ul> <li>Configuration System Test </li> </ul>"},{"location":"siva/test_plan/#load-test-introduction","title":"Load Test introduction","text":"<p>The goals of the load test was to:</p> <ul> <li>Determine the throughput capabilities of a single Siva node and how it handles requests under increasing load.</li> <li>Test whether the SiVa service throughput is horizontally scalable up to 50 requests per second.</li> </ul> <p>Each container type was load-tested separately since the business logic and underlying mechanics for validating specific container types are vastly different.</p> <p>Load tests were run in three stages \u2013 firstly a single Siva service node was tested to determine the baseline performance metrics. Second and third stage involved adding additional service node to previous setup and testing the horizontal scalability performance. All three target Siva service nodes had identical virtual machine set-up. Virtual machines were installed on separate physical hardware. Siva web service nodes on a target Linux virtual machine were packaged inside a Docker container (along with Java with 4 GB allocated for Heap). The test runner (JMeter plugin used by Maven) resided on a separate machine on local area network. Simple reverse proxy was used as a load balancer to distribute the load between nodes (using round robin algorithm).</p> <p>Load testing is carried out on following environments:</p> <ul> <li>System under test enviroment (processor: Intel(R) Xeon(R) CPU E5-2620 v3 @ 2.40GHz memory: 10GB (4GB allocated for Java heap))</li> <li>Load balancer enviroment (processor: Intel(R) Xeon(R) CPU E5-2620 v3 @ 2.40GHz memory: 13GB)</li> <li>Jmeter executer enviroment (processor: Intel(R) Xeon(R) CPU E5-2620 v2 @ 2.10GHz memory: 6GB)</li> </ul> <p>Following test data is used in load test:</p> <ul> <li>BDOC-TS file with two valid signatures (~100KB and 5MB)</li> <li>BDOC-TM file with two valid signatures (~100KB and 5MB)</li> <li>PDF file with two valid signatures (~200KB and 5MB)</li> <li>DDOC file with two valid signatures (~300KB and 5MB)</li> <li>ASIC-E X-Road container with one valid signature (~10KB)</li> </ul> <p>Each of the files are validated through REST interface. SOAP interface is used with small files for a comparison. It is evaluated that the interface (REST or SOAP) do not play noticeable effect on overall results.</p> <p>Each of the tested files follow the same test plan:</p> <ul> <li>Five concurrent requests are made per second</li> <li>This load is held for period of time</li> <li>Concurrent requests are increased by five until 50 concurrent requests per second is achieved</li> <li>Latency and throughput is measured on each concurrent request steps</li> </ul>"},{"location":"siva/version_info/","title":"Version info","text":"Version number Change date Author Description 0.1 06.05.2016 Mihkel Selgal Initial SiVa architecture 1.0 26.10.2016 Priit Reiser, Aare Nurm Documentation updates 1.1 04.05.2017 Vadim Pudov, Allan Juhanson, Julia Solovei, Aare Nurm Documentation updates 1.2 01.11.2017 Aare Nurm Update to new version of mkdocs. Addition of SIVA 2.0 documentation structure"},{"location":"siva/appendix/known_issues/","title":"Appendix 4 - Known Issues","text":""},{"location":"siva/appendix/known_issues/#known-issues","title":"Known issues","text":"<p>All known issues should be reported and managed under GitHub project issues section</p>"},{"location":"siva/appendix/test_cases/","title":"Test Case Descriptions","text":""},{"location":"siva/appendix/test_cases/#introduction","title":"Introduction","text":"<p>This document gives overview of the test cases. This page is partially generated using a script, more info about the script can be found in SiVa GitHub.</p> <p>The structure and elements of test case is described in QA Strategy document. All the files used in the tests can be found in SiVa GitHub.</p>"},{"location":"siva/appendix/test_cases/#bdocvalidationfailitjava","title":"BdocValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with single invalid signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: IB-3960_bdoc2.1_TSA_SignatureValue_altered.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with multiple invalid signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: BdocMultipleSignaturesInvalid.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with multiple signatures both valid and invalid</li> <li>Expected Result: The document should fail the validation</li> <li>File: BdocMultipleSignaturesMixedWithValidAndInvalid.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with no signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: BdocContainerNoSignature.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with invalid mimetype in manifest</li> <li>Expected Result: document malformed error should be returned</li> <li>File: 23147_weak-warning-sha1-invalid-mimetype-in-manifest.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Asice with wrong slash character ('\\') in data file mime-type value</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-33.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Wrong signature timestamp</li> <li>Expected Result: The document should fail the validation</li> <li>File: TS-02_23634_TS_wrong_SignatureValue.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Asice No non-repudiation key usage value in the certificate, verification of AdES signature level</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-I-43.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Asice signers certificate does not have non-repudiation value in the certificates key usage field and it does not contain the QC and SSCD compliance information.</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-I-26.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc OCSP certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-01_bdoc21-unknown-resp.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Asice TSA certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: TS-05_23634_TS_unknown_TSA.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Asice OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-R-25.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Asice difference between OCSP and time-stamp issuing times is more than 24 hours</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-20.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Asice unsigned data files in the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-34.asice</li> </ul> <p>**Attention! This test is disabled:  https://github.com/open-eid/SiVa/issues/18</p> <p>TestCaseID: Bdoc-ValidationFail-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc different data file mime-type values in signatures.xml and manifest.xml files</li> <li>Expected Result: The document should fail the validation</li> <li>File: 23613_TM_wrong-manifest-mimetype.bdoc</li> </ul> <p>**Attention! This test is disabled:  https://github.com/open-eid/SiVa/issues/18</p> <p>TestCaseID: Bdoc-ValidationFail-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc SignatureValue does not correspond to the SignedInfo block</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-19_bdoc21-no-sig-asn1-pref.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc Baseline-BES file</li> <li>Expected Result: The document should fail the validation</li> <li>File: signWithIdCard_d4j_1.0.4_BES.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc Baseline-EPES file</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-04_kehtivuskinnituset.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc signers certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-15_revoked.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc OCSP response status is unknown</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-16_unknown.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc signed data file has been removed from the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-21_fileeemaldatud.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc no files in container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-02_tyhi.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-24</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc wrong nonce</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-10_noncevale.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-25</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc signed data file(s) don't match the hash values in reference elements</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-14_filesisumuudetud.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-26</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Asice Baseline-T signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: TS-06_23634_TS_missing_OCSP.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-27</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc OCSP response is not the one expected</li> <li>Expected Result: The document should fail the validation</li> <li>File: 23608-bdoc21-TM-ocsp-bad-nonce.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-28</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc certificate's validity time is not in the period of OCSP producedAt time</li> <li>Expected Result: The document should fail the validation</li> <li>File: 23154_test1-old-sig-sigat-OK-prodat-NOK-1.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-29</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc     BDOC-1.0 version container</li> <li>Expected Result: The document should fail the validation</li> <li>File: BDOC-1.0.bdoc</li> </ul>"},{"location":"siva/appendix/test_cases/#bdocvalidationpassitjava","title":"BdocValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Bdoc with single valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Bdoc TM with multiple valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Bdoc with warning on signature</li> <li>Expected Result: The document should pass the validation but warning should be returned</li> <li>File: bdoc_weak_warning_sha1.bdoc</li> </ul> <p>**Attention! This test is disabled:  https://github.com/open-eid/SiVa/issues/20</p> <p>TestCaseID: Bdoc-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Asice One LT signature with certificates from different countries</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-30.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Bdoc signed with Mobile-ID, ECC-SHA256 signature with prime256v1 key</li> <li>Expected Result: The document should pass the validation</li> <li>File: 24050_short_ecdsa_correct_file_mimetype.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Asice Baseline-LT file</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-49.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Asice QES file</li> <li>Expected Result: The document should pass the validation</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Asice Baseline-LTA file</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LTA-V-24.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Asice file signed with Mobile-ID, ECC-SHA256 signature with prime256v1 key</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-2.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Asice file with  ESTEID-SK 2015 certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: IB-4270_TS_ESTEID-SK 2015  SK OCSP RESPONDER 2011.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Asice file with KLASS3-SK 2010 (EECCRCA) certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-28.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Bdoc with Baseline-LT_TM and QES signature level and ESTEID-SK 2011 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: BDOC2.1.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Bdoc TS with multiple valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: Test_id_aa.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Bdoc-TM with special characters in data file</li> <li>Expected Result: The document should pass the validation</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: *.sce file with TimeMark</li> <li>Expected Result: The document should pass the validation</li> <li>File: BDOC2.1_content_as_sce.sce</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: *.sce file with TimeStamp</li> <li>Expected Result: The document should pass the validation</li> <li>File: ASICE_TS_LTA_content_as_sce.sce</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc-TS with special characters in data file</li> <li>Expected Result: The document should pass the validation with correct signature scope</li> <li>File: Nonconventionalcharacters.asice</li> </ul>"},{"location":"siva/appendix/test_cases/#ddocgetdatafilesitjava","title":"DdocGetDataFilesIT.java","text":"<p>Open file</p> <p>TestCaseID:  Ddoc-Get-Data-Files-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: Valid DDOC with data file used</li> <li>Expected Result: The data file should be returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: Invalid DDOC with data file used</li> <li>Expected Result: The data file should be returned</li> <li>File: OCSP nonce vale.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title:DDOC with xml v1.1 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: DDOC with xml v1.2 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: DIGIDOC-XML1.2.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: DDOC with xml v1.3 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: Hashcoded DDOC  is  used</li> <li>Expected Result: Null is returned</li> <li>File: DIGIDOC-XML1.3_hashcode.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: DDOC  with 12 different  files of different types  is  used</li> <li>Expected Result: Data file returned for each file correctly</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: BDOC with data file used</li> <li>Expected Result: The error message  should be returned</li> <li>File: BDOC-TS.bdoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: PDF file used</li> <li>Expected Result: The error message  should be returned</li> <li>File: hellopades-lt-b.pdf</li> </ul>"},{"location":"siva/appendix/test_cases/#ddocvalidationfailitjava","title":"DdocValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Ddoc-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc with single invalid signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: test1-ddoc-revoked.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc with multiple invalid signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: multipleInvalidSignatures.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc with multiple signatures both valid and invalid</li> <li>Expected Result: The document should fail the validation</li> <li>File: multipleValidAndInvalidSignatures.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc with no signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: DdocContainerNoSignature.bdoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc signature value has been changed (SignatureValue does not correspond to the SignedInfo block)</li> <li>Expected Result: The document should fail the validation</li> <li>File: test-inv-sig-inf.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc Data file(s) don't match the hash values in Reference elements</li> <li>Expected Result: The document should fail the validation</li> <li>File: AndmefailiAtribuudidMuudetud.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc Baseline-BES file, no OCSP response</li> <li>Expected Result: The document should fail the validation</li> <li>File: ilma_kehtivuskinnituseta.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc no non-repudiation key usage value in the certificate</li> <li>Expected Result: The document should fail the validation</li> <li>File: test-non-repu1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc Signer's certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: Belgia_kandeavaldus_LIV.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc OCSP certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: Tundmatu_OCSP_responder.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc has unsigned data files in the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: lisatud_andmefail.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc signed data file has been removed from the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: faileemald1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc wrong nonce</li> <li>Expected Result: The document should fail the validation</li> <li>File: OCSP nonce vale.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Ddoc with XML Entity expansion attack</li> <li>Expected Result: The document should fail the validation with error</li> <li>File: xml_expansion.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Ddoc with XML server side request forgery attack</li> <li>Expected Result: The document should fail the validation with error</li> <li>File: xml_entity.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc no files in container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-02_tyhi.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc XML namespace error in container</li> <li>Expected Result: The document should pass with warning</li> <li>File: ns6t3cp7.ddoc</li> </ul>"},{"location":"siva/appendix/test_cases/#ddocvalidationpassitjava","title":"DdocValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Ddoc-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.0 with valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>**Attention! This test is disabled:   https://github.com/open-eid/SiVa/issues/11</p> <p>TestCaseID: Ddoc-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.1 with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.2 with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: DIGIDOC-XML1.2.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.3 with valid signature with ESTEID-SK 2011 certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.3 with valid signature, signed data file name has special characters and ESTEID-SK certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.3 KLASS3-SK certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: KLASS3-SK _ KLASS3-SK OCSP RESPONDER uus.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.3 KLASS3-SK 2010 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: KLASS3-SK 2010 _ KLASS3-SK 2010 OCSP RESPONDER.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.1 ESTEID-SK 2007 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: vaikesed1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.1 ESTEID-SK 2007 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: IB-4270_ESTEID-SK 2015  SK OCSP RESPONDER 2011.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.1 ESTEID-SK certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK _ EID-SK OCSP RESPONDER.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.1 ESTEID-SK 2007 and OCSP 2010 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK 2007 _ EID-SK 2007 OCSP RESPONDER 2010.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.3 ESTEID-SK 2007 and OCSP 2007 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK 2007 _ EID-SK 2007 OCSP RESPONDER.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Ddoc v1.3 ESTEID-SK 2011 and OCSP 2011 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK 2011 _ SK OCSP RESPONDER 2011.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Ddoc with warning should pass</li> <li>Expected Result: Document passes the validation</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: DdocHashcode-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of DDOC Hashcode v1.0</li> <li>Expected Result: Document passes the validation</li> <li>File: SK-XML1.0_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled:  https://github.com/open-eid/SiVa/issues/11</p> <p>TestCaseID: DdocHashcode-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of DDOC Hashcode v1.1</li> <li>Expected Result: Document passes the validation</li> <li>File: DIGIDOC-XML1.1_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled:  This tests fails in Travis. Has been executed locally</p> <p>TestCaseID: DdocHashcode-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of DDOC Hashcode v1.2</li> <li>Expected Result: Document passes the validation</li> <li>File: DIGIDOC-XML1.2_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled:  This tests fails in Travis. Has been executed locally</p> <p>TestCaseID: DdocHashcode-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of DDOC Hashcode v1.3</li> <li>Expected Result: Document passes the validation</li> <li>File: DIGIDOC-XML1.3_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled:  This tests fails in Travis. Has been executed locally</p>"},{"location":"siva/appendix/test_cases/#documentformatitjava","title":"DocumentFormatIT.java","text":"<p>Open file</p> <p>TestCaseID: DocumentFormat-1</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of pdf document acceptance</li> <li>Expected Result: Pdf is accepted and correct signature validation is given</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: DocumentFormat-2</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of bdoc document acceptance</li> <li>Expected Result: Bdoc is accepted and correct signature validation is given</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: DocumentFormat-3</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of txt document rejection</li> <li>Expected Result: Txt document is rejected and proper error message is given</li> <li>File: hellopades-pades-lt-sha256-sign.txt</li> </ul> <p>TestCaseID: DocumentFormat-4</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of p7s document rejection</li> <li>Expected Result: P7s document is rejected and proper error message is given</li> <li>File: hellocades.p7s</li> </ul> <p>TestCaseID: DocumentFormat-5</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of zip document rejection</li> <li>Expected Result: Zip document is rejected and proper error message is given</li> <li>File: 42.zip</li> </ul> <p>TestCaseID: DocumentFormat-6</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of doc document rejection</li> <li>Expected Result: Doc document is rejected and proper error message is given</li> <li>File: hellopades-pades-lt-sha256-sign.doc</li> </ul> <p>TestCaseID: DocumentFormat-7</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of XML document rejection</li> <li>Expected Result: XML document is rejected and proper error message is given</li> <li>File: XML.xml</li> </ul> <p>TestCaseID: DocumentFormat-8</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Validation of png document rejection</li> <li>Expected Result: Png document is rejected and proper error message is given</li> <li>File: Picture.png</li> </ul>"},{"location":"siva/appendix/test_cases/#documentvalidationitjava","title":"DocumentValidationIT.java","text":"<p>Open file</p> <p>TestCaseID: Document-Validation-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title:Bdoc with two signatures and one unsigned document.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2s_1f_unsigned.bdoc</li> </ul> <p>TestCaseID: Document-Validation-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with two signatures and one document signed by only one signature.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2s_1partly_signed.bdoc</li> </ul> <p>TestCaseID: Document-Validation-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with two signatures and two documents signed by only one signature.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2s_2partly_signed.bdoc</li> </ul> <p>TestCaseID: Document-Validation-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with two signatures, one unsigned and two partly signed documents.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:4f_2s_all_combinations.bdoc</li> </ul> <p>TestCaseID: Document-Validation-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with three unsigned documents.</li> <li>Expected Result: The document should pass the validation and warnings should be displayed.</li> <li>File:6f_2s_3unsigned.bdoc</li> </ul> <p>TestCaseID: Document-Validation-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with deleted document, named in manifest.</li> <li>Expected Result: The document should fail the validation and warning should be displayed.</li> <li>File:2f_2signed_1f_deleted.bdoc</li> </ul> <p>TestCaseID: Document-Validation-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with deleted document, also removed from manifest.</li> <li>Expected Result: The document should fail the validation without warning.</li> <li>File:2f_2signed_1f_totally_removed.bdoc</li> </ul> <p>TestCaseID: Document-Validation-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with one unsigned document, named in manifest.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2signed_1unsigned_all_in_manifest.bdoc</li> </ul> <p>TestCaseID: Document-Validation-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with one unsigned document, NOT named in manifest.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2signed_1unsigned_2in_manifest.bdoc</li> </ul> <p>TestCaseID: Document-Validation-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Bdoc with signed documents.</li> <li>Expected Result: The document should pass the validation without warning.</li> <li>File:2f_all_signed.bdoc</li> </ul>"},{"location":"siva/appendix/test_cases/#largefileitjava","title":"LargeFileIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-LargeFiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB PDF files (PAdES Baseline LT).</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_PDF.pdf</li> </ul> <p>TestCaseID: Bdoc-LargeFiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB ASIC-E file</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_BDOC-TS.bdoc</li> </ul> <p>TestCaseID: Bdoc-LargeFiles-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB BDOC-TM</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_BDOC-TM.bdoc</li> </ul> <p>TestCaseID: Ddoc-LargeFiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB DDOC</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_DDOC.ddoc</li> </ul>"},{"location":"siva/appendix/test_cases/#monitoringitjava","title":"MonitoringIT.java","text":"<p>Open file</p> <p>TestCaseID: WebApp-Monitoring-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#service-health-monitoring</li> <li>Title: Health monitor response structure</li> <li>Expected Result: response matches the expected structure of JSON</li> <li>File: not relevant</li> </ul>"},{"location":"siva/appendix/test_cases/#pdfbaselineprofileitjava","title":"PdfBaselineProfileIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-BaselineProfile-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF has PAdES-B profile signature POLv1</li> <li>Expected Result: Document validation should fail as the profile is not supported with any policy</li> <li>File: hellopades-pades-b-sha256-auth.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF has PAdES-B profile signature POLv2</li> <li>Expected Result: Document validation should fail as the profile is supported with any policy</li> <li>File: hellopades-pades-b-sha256-auth.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF has PAdES-T profile signature POLv1</li> <li>Expected Result: Document validation should fail with any policy</li> <li>File: pades-baseline-t-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF has PAdES-T profile signature POLv2</li> <li>Expected Result: Document validation should fail with any policy</li> <li>File: pades-baseline-t-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF has PAdES-LT profile signature POLv1</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF has PAdES-LT profile signature POLv2</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF has PAdES-LTA profile signature POLv1</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF has PAdES-LTA profile signature POLv2</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF has PAdES-LT and B profile signature</li> <li>Expected Result: Document validation should fail</li> <li>File: hellopades-lt-b.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: PDF document message digest attribute value does not match calculate value</li> <li>Expected Result: Document validation should fail</li> <li>File: hellopades-lt1-lt2-wrongDigestValue.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: PDF file with a serial signature</li> <li>Expected Result: Document signed with multiple signers with serial signatures should pass</li> <li>File: hellopades-lt1-lt2-Serial.pdf</li> </ul>"},{"location":"siva/appendix/test_cases/#pdfsignaturecryptographicalgorithmitjava","title":"PdfSignatureCryptographicAlgorithmIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-SigCryptoAlg-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: SHA512 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with SHA512 algorithm should pass</li> <li>File: hellopades-lt-sha512.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: SHA1 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with SHA1 algorithm should pass</li> <li>File: hellopades-lt-sha1.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: ECDSA224 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with ECDSA224 algorithm should pass</li> <li>File: hellopades-lt-sha256-ec224.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: ECDSA256 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with ECDSA256 algorithm should pass</li> <li>File: hellopades-lt-sha256-ec256.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: RSA1024 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA1024 algorithm should pass</li> <li>File: hellopades-lt-sha256-rsa1024.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: RSA1023 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA1023 algorithm should fail</li> <li>File: hellopades-lt-sha256-rsa1023.pdf</li> </ul> <p>**Attention! This test is disabled: Bug fixed in DSS version 5.1. https://ec.europa.eu/cefdigital/tracker/browse/DSS-1145</p> <p>TestCaseID: PDF-SigCryptoAlg-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: RSA2047 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA2047 algorithm should pass</li> <li>File: hellopades-lt-sha256-rsa2047.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: RSA2048 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA2048 algorithm should pass</li> <li>File: PdfValidSingleSignature</li> </ul>"},{"location":"siva/appendix/test_cases/#pdfvalidationfailitjava","title":"PdfValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF-file has been signed with expired certificate (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that is expired should fail.</li> <li>File: hellopades-lt-rsa1024-sha1-expired.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF-file has been signed with revoked certificate (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that is revoked should fail.</li> <li>File: pades_lt_revoked.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: The PDF-file has been signed with certificate which has no non repudiation key usage attribute (PAdES Baseline LT)</li> <li>Expected Result: The PDF-file validation should fail with error.</li> <li>File: hellopades-pades-lt-sha256-auth.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: hellopadess been signed with an expired certificate, where signing time is within the original validity</li> <li>Expected Result: Document signed with expired certificate should fail</li> <li>File: hellopades-lt-sha256-rsa2048-expired.pdf</li> </ul> <p>**Attention! This test is disabled: https://jira.nortal.com/browse/SIVARIA-17</p> <p>TestCaseID: PDF-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: hellopadess been signed with an expired certificate, where signing time is within the original validity</li> <li>Expected Result: Document signed with expired certificate should fail</li> <li>File: hellopades-lt-sha256-rsa1024-expired2.pdf</li> </ul> <p>**Attention! This test is disabled: https://jira.nortal.com/browse/SIVARIA-17</p> <p>TestCaseID: PDF-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: hellopadess been signed with an expired certificate, where signing time is within the original validity</li> <li>Expected Result: Document signed with expired certificate should fail</li> <li>File: hellopades-lt-sha1-rsa1024-expired2.pdf</li> </ul> <p>**Attention! This test is disabled: https://jira.nortal.com/browse/SIVARIA-17</p>"},{"location":"siva/appendix/test_cases/#pdfvalidationpassitjava","title":"PdfValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: The PDF-file has been signed with certificate that is expired after signing (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that expired after signing should pass.</li> <li>File: hellopades-lt-sha256-rsa1024-not-expired.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: The PDF-file has been signed with certificate that will expire in 7 days after signing (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that expired after signing should pass.</li> <li>File: hellopades-lt-sha256-rsa2048-7d.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2</li> <li>Title: Pdf with single valid signature</li> <li>Expected Result: Document should pass.</li> <li>File: PdfValidSingleSignature.pdf</li> </ul>"},{"location":"siva/appendix/test_cases/#signaturepolicyitjava","title":"SignaturePolicyIT.java","text":"<p>Open file</p> <p>TestCaseID: Pdf-Signature-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-1-polv1</li> <li>Title: The PDF-file is not QES level and misses SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: soft-cert-signature.pdf</li> </ul> <p>TestCaseID: Pdf-Signature-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-1-polv1</li> <li>Title: The PDF-file is not QES level and misses SSCD/QSCD compliance</li> <li>Expected Result: Signatures are not valid according to policy</li> <li>File: soft-cert-signature.pdf</li> </ul> <p>**Attention! This test is disabled:  New test file is needed</p> <p>TestCaseID: Pdf-Signature-Policy-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-1-polv1</li> <li>Title: The PDF-file is QES level and has SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy (\"weaker\" policy is used)</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-Signature-Policy-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-1-polv1</li> <li>Title: The PDF-file is QES level and has SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Bdoc-Signature-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-1-polv1</li> <li>Title: The bdoc is not QES level and misses SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: allkiri_ades.asice</li> </ul> <p>TestCaseID: Bdoc-Signature-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-1-polv1</li> <li>Title: The bdoc is not QES level and misses SSCD/QSCD compliance</li> <li>Expected Result: Signatures are not valid according to policy</li> <li>File: allkiri_ades.asice</li> </ul> <p>TestCaseID: Bdoc-Signature-Policy-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-1-polv1</li> <li>Title: The bdoc is QES level and has SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy (\"non-strict\" policy is used)</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: Bdoc-Signature-Policy-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#siva-signature-validation-policy-version-1-polv1</li> <li>Title: The bdoc is QES level and has SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: Valid_ID_sig.bdoc</li> </ul>"},{"location":"siva/appendix/test_cases/#xroadvalidationfailitjava","title":"XRoadValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Xroad-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Simple xroad document with container fault</li> <li>Expected Result: Document should fail validation</li> <li>File: invalid-digest.asice</li> </ul>"},{"location":"siva/appendix/test_cases/#xroadvalidationpassitjava","title":"XRoadValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Xroad-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Simple xroad document</li> <li>Expected Result: Document should pass</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Xroad-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Batchsignature xroad document</li> <li>Expected Result: Document should pass</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Xroad-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2</li> <li>Title: Attachment xroad document</li> <li>Expected Result: Document should pass</li> <li>File: xroad-attachment.asice</li> </ul>"},{"location":"siva/appendix/test_cases/#statisticstogamanualitjava","title":"StatisticsToGAManualIT.java","text":"<p>Note</p> <p>All tests in this class expect manual configuration of Google Analytics before executing the tests. The test are made to prepare test data and ease the test execution, all results must be checked manually in GA! Check all the fields presence and correctness even though tests prepare data for specific cases.</p> <p>TestCaseID: Xauth-Statistics-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf valid container is validated with x-authenticated-user set in header</li> <li>Expected Result: x-authenticated-user value is shown in GA</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Xauth-Statistics-GA-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf valid container is validated with x-authenticated-user set in header</li> <li>Expected Result: x-authenticated-user value is shown as N/A in GA</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Xauth-Statistics-GA-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf valid container is validated with x-authenticated-user set in header</li> <li>Expected Result: x-authenticated-user value is shown as N/A in GA</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Bdoc-Statistics-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc with certificates from different countries.</li> <li>Expected Result: LT, EE and LV country codes are present in GA, Signature container type is ASIC-E TM</li> <li>File: Baltic MoU digital signing_EST_LT_LV.bdoc</li> </ul> <p>TestCaseID: Bdoc-Statistics-GA-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Asice-E TS is validated</li> <li>Expected Result: GA shows Signature container type as ASIC-E TS</li> <li>File: BDOC-TS.bdoc</li> </ul> <p>TestCaseID: Xroad-Statistics-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Xroad valid container is validated</li> <li>Expected Result: Country code XX is sent to GA (GA shows ZZ as the XX is unknown code), Signature container type is ASiC-E (BatchSignature)</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Ddoc-Statistics-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc not supported file is inserted</li> <li>Expected Result: Not shown in GA statistics as the container is not validated</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc invalid container is validated</li> <li>Expected Result: GA shows Signature container type as XAdES, TOTAL-FAILED indication</li> <li>File: ilma_kehtivuskinnituseta.ddoc</li> </ul>"},{"location":"siva/appendix/test_cases/#statisticstologsmanualitjava","title":"StatisticsToLogsManualIT.java","text":"<p>Note</p> <p>All tests in this class expect manual verification of responses in log! The tests are made to prepare test data and ease the test execution.</p> <p>TestCaseID: Bdoc-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Bdoc-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc not supported file is inserted</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Bdoc-Statistics-Log-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc with certificates from different countries.</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Baltic MoU digital signing_EST_LT_LV.bdoc</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: ilma_kehtivuskinnituseta.ddoc</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc not supported file is inserted</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc with certificates from different countries.</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Belgia_kandeavaldus_LIV.ddoc</li> </ul> <p>TestCaseID: Pdf-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: hellopades-lt1-lt2-wrongDigestValue.pdf</li> </ul> <p>TestCaseID: Pdf-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf not supported file is inserted</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Pdf-Statistics-Log-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf with certificates from non Estonian countries.</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Regulatione-signedbyco-legislators.pdf</li> </ul> <p>TestCaseID: Xroad-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Xroad valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Xroad-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Xroad invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: invalid-digest.asice</li> </ul> <p>TestCaseID: Xroad-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Xroad not supported file is inserted</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: BDOC-TS.bdoc</li> </ul>"},{"location":"siva/appendix/test_cases/#getdatafilerequestitjava","title":"GetDataFileRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Get-Data-Files-Request-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Input empty values</li> <li>Expected Result: Errors are returned stating the missing values</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Get-Data-Files-Request-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Totally empty request body is sent</li> <li>Expected Result: Errors are given</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Get-Data-Files-Request-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Order of elements is changed in request</li> <li>Expected Result: Order of  elements is ignored, no error messages in response</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Additional elements are added</li> <li>Expected Result: Added elements ignored, no error messages and  additional elements in response</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Mandatory element 'documentType' is duplicated, duplicated element with bdoc value</li> <li>Expected Result: Error message is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Mandatory element 'document' is deleted</li> <li>Expected Result: Errors returned stating the missing element</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Mandatory element 'documentType' is deleted</li> <li>Expected Result: Errors returned stating the missing element</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Low case for document type is used</li> <li>Expected Result: Data file is returned, no error messages</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to BDOC, actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to PDF, actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to unsupported format (JPG), actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to XROAD format, actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to DDOC format, actual is BDOC</li> <li>Expected Result: Error is returned</li> <li>File: BDOC-TS.bdoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to DDOC format, actual is PDF</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Get-Data-Files-Request-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: For Unsupported format Document Type is changed in request to DDOC format, actual is PNG</li> <li>Expected Result: Error is returned</li> <li>File: Picture.png</li> </ul>"},{"location":"siva/appendix/test_cases/#validationreportvalueverificationitjava","title":"ValidationReportValueVerificationIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface#validation-request-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT_TM, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23635_bdoc_ts_OCSP_random_nonce.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT-TM, AdESqc</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23200_weakdigest-wrong-nonce.asice</li> </ul> <p>**Attention! This test is disabled:  https://github.com/open-eid/SiVa/issues/24</p> <p>TestCaseID: Bdoc-ValidationReportVerification-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Bdoc valid multiple signatures)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: Baltic MoU digital signing_EST_LT_LV.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Bdoc indeterminate status)</li> <li>Expected Result: All required elements are present according to BdocDocSimpleReportSchema.json</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title:  Bdoc report with no signatures</li> <li>Expected Result: Report is returned with required elements</li> <li>File:BdocContainerNoSignature.bdoc</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf valid single signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: hellopades-lt-sha256-ec256.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf valid Multiple signatures)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf invalid signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: hellopades-lt-b.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf indeterminate status)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: hellopades-lt-rsa1024-sha1-expired.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title:  Pdf report with no signatures</li> <li>Expected Result: Report is returned with required elements</li> <li>File: PdfNoSignature.pdf</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (ddoc valid single signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (ddoc invalid signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: test1-ddoc-revoked.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (ddoc indeterminate status)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: test1-ddoc-unknown.ddoc</li> </ul> <p>**Attention! This test is disabled:  https://github.com/open-eid/SiVa/issues/15</p> <p>TestCaseID: Ddoc-ValidationReportVerification-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Check for optional warning element</li> <li>Expected Result: Warning element is present</li> <li>File: ns6t3cp7.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title:  Ddoc report with no signatures</li> <li>Expected Result: Report is returned with required elements</li> <li>File: DdocContainerNoSignature.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.0, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>**Attention! This test is disabled:  https://github.com/open-eid/SiVa/issues/11</p> <p>TestCaseID: Ddoc-ValidationReportVerification-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.1, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.2, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.2.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.3, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Xroad-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-simple container</li> <li>Expected Result: Report is returned with required elements</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Xroad-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-batchsignature container</li> <li>Expected Result: Report is returned with required elements</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Xroad-ValidationReportVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-attachment container</li> <li>Expected Result: Report is returned with required elements</li> <li>File: xroad-attachment.asice</li> </ul> <p>TestCaseID: Xroad-ValidationReportVerification-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report with invalid xroad container</li> <li>Expected Result: Report is returned with required elements</li> <li>File: xroad-attachment.asice</li> </ul>"},{"location":"siva/appendix/test_cases/#validationrequestitjava","title":"ValidationRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: ValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Input empty values</li> <li>Expected Result: Errors are returned stating the missing values</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Verification of wrong document type as input</li> <li>Expected Result: Correct error code is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request has invalid key on document position</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request has XML as document type (special case, XML is similar to ddoc and was a accepted document type in earlier versions)</li> <li>Expected Result: Error is given</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request has long (38784 characters) in filename field</li> <li>Expected Result: Report is returned with the same filename</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Totally empty request body is sent</li> <li>Expected Result: Error is given</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with more parameters than expected is sent</li> <li>Expected Result: Error is given or extra parameters are ignored?</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with special chars is sent</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with not base64 string as document</li> <li>Expected Result: Error is returned stating encoding problem</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and ddoc)</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Bdoc file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Bdoc file, policy fiels should be case insensitive</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request without optional signaturePolicy field</li> <li>Expected Result: Validation report is returned with default policy</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with bdoc document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Acceptance of ASICE as BDOC document type</li> <li>Expected Result: Asice files are handled the same as bdoc</li> <li>File: bdoc21-TS.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Verification of case insensitivity in document type</li> <li>Expected Result: Report is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Verification of filename value (filename do not match the actual file)</li> <li>Expected Result: The same filename is returned as sent in the request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request has invalid character in filename</li> <li>Expected Result: Correct error code is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-batchsignature</li> </ul> <p>TestCaseID: Bdoc-ValidationRequest-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-attachment.asice</li> </ul> <p>TestCaseID: Pdf-ValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and ddoc)</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Pdf-ValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Pdf-ValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Pdf-ValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: PDF file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with pdf document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Pdf-ValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Verification of filename value (filename do not match the actual file)</li> <li>Expected Result: The same filename is returned as sent in the request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Pdf-ValidationRequest-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Pdf-ValidationRequest-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-attachment.asice</li> </ul> <p>TestCaseID: Ddoc-ValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Ddoc-ValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Ddoc-ValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Ddoc-ValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Ddoc file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with ddoc document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Ddoc-ValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Verification of filename value (filename do not match the actual file)</li> <li>Expected Result: The same filename is returned as sent in the request</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationRequest-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Ddoc-ValidationRequest-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Xroad-ValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (xroad and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Xroad-ValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (xroad and ddoc)</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Xroad-ValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (xroad and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Xroad-ValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: X-road file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Xroad-ValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with xroad document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-ValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Verification of filename value (filename do not match the actual file)</li> <li>Expected Result: The same filename is returned as sent in the request</li> <li>File: xroad-simple.asice</li> </ul>"},{"location":"siva/appendix/test_cases/#soapgetdatafilereportitjava","title":"SoapGetDataFileReportIT.java","text":"<p>Open file</p> <p>TestCaseID: SoapGetDataFile-Report-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report, checks for  File name, Base64, Mimetype and Size</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: SoapGetDataFile-Report-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report xml v1.1, checks for  File name, Base64, Mimetype and Size</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID: SoapGetDataFile-Report-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report xml v1.2, checks for  File name, Base64, Mimetype and Size</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: DIGIDOC-XML1.2.ddoc</li> </ul> <p>TestCaseID: SoapGetDataFile-Report-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report for container with a number of files, checks for  File name, Base64, Mimetype and Size for each file</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: igasugust1.3.ddoc</li> </ul>"},{"location":"siva/appendix/test_cases/#soapgetdatafilerequestitjava","title":"SoapGetDataFileRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Input empty values</li> <li>Expected Result: Error is returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Input empty body</li> <li>Expected Result: Error is returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Element DocumentType is removed from the body</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Element Document is removed from the body</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Element DocumentType is duplicated in the body with different value</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Additional element FileName is added to  the body</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Value for element Document was changed</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Low case for Document Type was used</li> <li>Expected Result: Error is returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to BDOC when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to PDF when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to XROAD when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to unsupported format JPG when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to DDOC when actual is PDF</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to DDOC when actual is BDOC</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul>"},{"location":"siva/appendix/test_cases/#soapvalidationreportvalueitjava","title":"SoapValidationReportValueIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT_TM, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: Bdoc-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23635_bdoc_ts_OCSP_random_nonce.bdoc</li> </ul> <p>TestCaseID: Bdoc-SoapValidationReportValue-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, AdES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>TestCaseID: Bdoc-SoapValidationReportValue-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT_TM, AdESqc, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23200_weakdigest-wrong-nonce.asice</li> </ul> <p>TestCaseID: Bdoc-SoapValidationReportValue-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LTA, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: EE_SER-AEX-B-LTA-V-24.bdoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.0, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>**Attention! This test is disabled:  https://github.com/open-eid/SiVa/issues/11</p> <p>TestCaseID: Ddoc-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.1, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.2, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.2.ddoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.3, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Pdf-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, PAdES_baseline_LT, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, PAdES_baseline_B, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: hellopades-pades-b-sha256-auth.pdf</li> </ul> <p>TestCaseID: Xroad-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-simple container</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Xroad-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-simple invalid container</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: invalid-digest.asice</li> </ul>"},{"location":"siva/appendix/test_cases/#soapvalidationrequestitjava","title":"SoapValidationRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Soap-ValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Empty request body</li> <li>Expected Result: Error is returned stating mismatch with required elements</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with not base64 string as document</li> <li>Expected Result: Error is returned stating encoding problem</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Verification of wrong document type as input</li> <li>Expected Result: Correct error code is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Verification of case sensitivity in document type</li> <li>Expected Result: Error is returned as WSDL defines the allowed values</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request has XML as document type (special case, XML is similar to ddoc and was a accepted document type in earlier versions)</li> <li>Expected Result: Error is given</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request has long filename field</li> <li>Expected Result: Report is returned with the same filename</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Totally empty request body is sent</li> <li>Expected Result: Error is given</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with more parameters than expected is sent</li> <li>Expected Result: Error is given or extra parameters are ignored?</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with more parameters than expected is sent</li> <li>Expected Result: Error is given or extra parameters are ignored?</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with special chars is sent</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with no optional SignaturePolicy field</li> <li>Expected Result: Validation report is returned using default policy</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with XML expansion</li> <li>Expected Result: Error is returned and Entity is not handled</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request XML external entity attack</li> <li>Expected Result: Error message is returned and Doctype field is not handled</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with empty document</li> <li>Expected Result: Error is returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with empty filename</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Request with not allowed signature policy characters</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with bdoc document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Verification of filename value (filename do not match the actual file)</li> <li>Expected Result: The same filename is returned as sent in the request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and ddoc)</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Bdoc file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Bdoc file, policy fiels should be case insensitive</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with ddoc document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File:</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Ddoc file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-attachment.asice</li> </ul> <p>TestCaseID: Soap-PdfValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with pdf document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-PdfValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-PdfValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and ddoc)</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-PdfValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Soap-PdfValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: PDF file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-XroadValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: X-road file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Soap-XroadValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (xroad and ddoc)</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-XroadValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-XroadValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul>"},{"location":"siva/appendix/test_cases/#soapxroadrequestheaderitjava","title":"SoapXRoadRequestHeaderIT.java","text":"<p>Open file</p> <p>TestCaseID: XroadSoap-RequestVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/interface_description/#validation-request-interface</li> <li>Title: Soap headers are returned in response</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: XroadSoap-RequestVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/interface_description/#validation-request-interface</li> <li>Title: Soap headers are returned in correct order</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: XroadSoap-RequestVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/interface_description/#validation-request-interface</li> <li>Title: Soap headers are returned in error response</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: not relevant</li> </ul> <p>TestCaseID: XroadSoap-GetDataFiles-RequestVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Soap headers are returned in response for Get Data Files</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: XroadSoap-GetDataFiles-RequestVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Soap headers are returned in correct order for Get Data Files</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: XroadSoap-GetDataFiles-RequestVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#data-files-request-interface</li> <li>Title: Soap headers are returned in error response for Get Data Files</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: not relevant</li> </ul>"},{"location":"siva/appendix/test_cases/#demo-application-integration-test","title":"Demo Application Integration Test","text":"<p>TestCaseID: Demo-Application-Elements-1</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Upload of correct file type</li> <li>Expected Result: Its possible to upload the file by dropping in download area or by browsing a file</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Demo-Application-Elements-2</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Upload of invalid file type</li> <li>Expected Result: File is not validated, corresponding errors are returned</li> <li>File: XML.xml</li> </ul> <p>TestCaseID: Demo-Application-Elements-3</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Upload file larger than 10MB</li> <li>Expected Result: File is not validated</li> <li>File: hellopades-lta-no-ocsp.pdf</li> </ul> <p>TestCaseID: Demo-Application-Elements-4</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Page layout</li> <li>Expected Result: All elements are properly displayed and can be used with different window sizes</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Demo-Application-Validation-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Validate container with valid signatures</li> <li>Expected Result: Validation report is displayed correctly both for JSON and SOAP</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Demo-Application-Validation-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Validate container with valid signatures</li> <li>Expected Result: Validation report is displayed correctly both for JSON and SOAP</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Demo-Application-Validation-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Validate container with invalid signatures</li> <li>Expected Result: Validation report is displayed correctly both for JSON and SOAP</li> <li>File: IB-3960_bdoc2.1_TSA_SignatureValue_altered.bdoc</li> </ul> <p>TestCaseID: Demo-Application-Validation-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Validate container with not passing policy (POLv2)</li> <li>Expected Result: Validation report is displayed correctly (correct policy is returned) both for JSON and SOAP</li> <li>File: soft-cert-signature.pdf</li> </ul>"},{"location":"siva/appendix/test_cases/#x-road-soap-system-test","title":"X-Road Soap System Test","text":"<p>TestCaseID: Xroad-Validate-Ddoc-1</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate valid Ddoc</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Xroad-Validate-Ddoc-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate invalid Ddoc</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: test-non-repu1.ddoc</li> </ul> <p>TestCaseID: Xroad-Validate-Ddoc-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-Validate-Bdoc-1</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate valid Bdoc</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Xroad-Validate-Bdoc-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate invalid Bdoc</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: TM-15_revoked.4.asice</li> </ul> <p>TestCaseID: Xroad-Validate-Bdoc-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-Validate-Pdf-1</p> <ul> <li>TestType: Automated SoapUI </li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate valid Pdf</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: Xroad-Validate-Pdf-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate invalid Pdf</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: pades-baseline-t-live-aj.pdf</li> </ul> <p>TestCaseID: Xroad-Validate-Pdf-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-Validate-Xroad-1</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate valid Xroad</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Xroad-Validate-Xroad-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate invalid Xroad</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: invalid-digest.asice</li> </ul> <p>TestCaseID: Xroad-Validate-Xroad-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-GetDataFiles-DDOC-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Get data files from valid DDOC</li> <li>Expected Result: Data files should be returned</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Xroad-GetDataFiles-DDOC-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Get data files from invalid DDOC</li> <li>Expected Result: Data files should be returned even if the signatures are not valid</li> <li>File: test-non-repu1.ddoc</li> </ul> <p>TestCaseID: Xroad-GetDataFiles-DDOC-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid request</li> <li>Expected Result: Error is returned as the document type is not supported</li> <li>File: test-non-repu1.ddoc  </li> </ul>"},{"location":"siva/appendix/test_cases/#configuration-system-test","title":"Configuration System Test","text":"<p>TestCaseID: Configuration-Webapp-TSL-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: TSL update over network</li> <li>Expected Result: TSL is updated from configured path</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-TSL-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: TSL update disabled</li> <li>Expected Result: Local cashe is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Keystore-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Keystore change</li> <li>Expected Result: configured keystore is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Scheduler-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Update time is configured</li> <li>Expected Result: configured time is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Xroad-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: X-Road validator service address is changed</li> <li>Expected Result: correct address is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Google Analytics is configured</li> <li>Expected Result: Data is transfered to GA</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Policy-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Configure policy for bdoc</li> <li>Expected Result: Configuration is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Policy-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Configure policy for pdf</li> <li>Expected Result: Configuration is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Monitoring-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled for webapp only</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Monitoring-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled for webapp and Xroad Service</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Monitoring-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled and custom links are configured</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info</li> <li>File: not relevant    </li> </ul> <p>TestCaseID: Configuration-XroadService-Monitoring-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info for Xroad Service</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-DemoApplication-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Configuration of SiVa Web Service access</li> <li>Expected Result: Correct web service is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-DemoApplication-Monitoring-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info using basic authentication</li> <li>File: not relevant</li> </ul>"},{"location":"siva/appendix/validation_policy/","title":"SiVa Signature Validation Policy","text":""},{"location":"siva/appendix/validation_policy/#introduction","title":"Introduction","text":"<p>This signature validation policy document specifies signature validation rules used for validating signatures in SiVa digital signature validation service (hereinafter: Service).</p>"},{"location":"siva/appendix/validation_policy/#versioning","title":"Versioning","text":"<p>Different policy versions may be used by the service in the following conditions:</p> <ul> <li>different validation policies may be in use simultaneously, enabling the Service's user to choose the most suitable policy for a specific business context;</li> <li>validation policies are subject to change, i.e. there may be an update to a policy which causes the previous version to become no longer used (obsolete);</li> <li>for later reference, the validation report returned by the Service must indicate the specific version of validation policy that was used during validation process.</li> <li>for later reference, previous versions of validation policy documents should remain available for the Service's users.</li> </ul> <p>The following validation policy versions are supported in SiVa service: </p> <ol> <li>SiVA Signature Validation Policy - Version 1 (POLv1) </li> <li>SiVA Signature Validation Policy - Version 2 (POLv2)</li> </ol>"},{"location":"siva/appendix/validation_policy/#general-principles-of-siva-validation-policies","title":"General principles of SiVa validation policies","text":"<ol> <li>The validation policy documents describe validation rules for all digital signature formats that are supported in SiVa. </li> <li>All rules described for electronic signatures also apply for electronic seals and digital stamps. </li> <li>The set of signature validation constraints that are used by the Service are a combination of constraints defined in the Service itself and constraints that are implicitly defined in base components of the service, including: <ul> <li>Validation rules defined by the standard or specification documents of the digital signature formats supported in SiVa (described in Signature format constraints section).</li> <li>Validation rules defined by base libraries used in SiVa that implement the supported digital signature formats, i.e. the validation constraints that are imposed by the source code implementation or configuration of the base libraries (described in Base libraries' constraints section). </li> </ul> </li> </ol> <p>Note</p> <p>When no specific validation rule is set in the present document, the requirements and rules from the abovementioned implicit sources for validation requirements shall apply in their entirety. When specific requirements and rules are set in the present validation policy document, they shall prevail over the corresponding requirements set in the implicit resources.  </p>"},{"location":"siva/appendix/validation_policy/#siva-signature-validation-policy-version-1-polv1","title":"SiVA Signature Validation Policy - Version 1 (POLv1)","text":""},{"location":"siva/appendix/validation_policy/#description","title":"Description","text":"<p>Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature. </p>"},{"location":"siva/appendix/validation_policy/#url","title":"URL","text":"<pre><code>http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv1\n</code></pre>"},{"location":"siva/appendix/validation_policy/#polv1-validation-constraints","title":"POLv1 validation constraints","text":"<ol> <li>The signature may be a Qualified Electronic Signature (QES), Advanced electronic Signature (AdES) or AdES supported by a Qualified Certificate (AdES/QC) taking account of the following requirements:<ul> <li>Qualified Certificate (QC) requirement<ul> <li>The signer\u2019s certificate may be a qualified or non-qualified certificate, as meant by the eIDAS regulation.</li> <li>The signer's certificate is considered acceptable by the validation process even if it is not possible to determine the certificate's QC compliance.</li> </ul> </li> <li>SSCD/QSCD (Secure/Qualified Signature Creation Device) requirement<ul> <li>Signer certificate may or may not comply with SSCD/QSCD criteria. </li> <li>The signer's certificate is considered acceptable by the validation process even if it is not possible to determine the certificate's SSCD/QSCD compliance.</li> </ul> </li> </ul> </li> <li>Constraints defined in the Common validation constraints (POLv1, POLv2) section</li> </ol>"},{"location":"siva/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv2","title":"SiVA Signature Validation Policy - Version 2 (POLv2)","text":""},{"location":"siva/appendix/validation_policy/#description_1","title":"Description","text":"<p>Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result. </p>"},{"location":"siva/appendix/validation_policy/#url_1","title":"URL","text":"<pre><code>http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv2\n</code></pre>"},{"location":"siva/appendix/validation_policy/#polv2-validation-constraints","title":"POLv2 validation constraints","text":"<ol> <li>The signature must be a Qualified Electronic Signature (QES), taking account of the following requirements:<ul> <li>Qualified Certificate (QC) requirement<ul> <li>The signer\u2019s certificate must be a qualified certificate, as meant by the eIDAS regulation.</li> <li>If Trusted Lists are used during signature validation then also the signer certificate\u2019s qualification information in the Trusted List is taken into account.</li> </ul> </li> <li>SSCD/QSCD (Secure/Qualified Signature Creation Device) requirement<ul> <li>Signer certificate must comply with SSCD/QSCD criteria. </li> <li>If Trusted Lists are used during signature validation then the also signer certificate\u2019s SSCD/QSCD qualification information in the Trusted List is taken into account. </li> </ul> </li> <li>The signer's certificate is not considered acceptable by the validation process if it is not possible to determine the certificate's QC and SSCD/QSCD compliance, with the following exception:<ul> <li>In case of DIGIDOC-XML 1.0...1.3 and the respective hashcode formats, it is assumed that the signer's certificate complies with QC and SSCD/QSCD requirements, if the certificate is issued by SK and if the nonRepudiation bit has been set in the certificate's Key Usage field. See also Certificate Profile documents of certificates issued by SK, ETSI EN 319 412-2 and ETSI EN 319 412-3.</li> </ul> </li> </ul> </li> <li>Constraints defined in the Common validation constraints (POLv1, POLv2) section</li> </ol>"},{"location":"siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2","title":"Common validation constraints (POLv1, POLv2)","text":""},{"location":"siva/appendix/validation_policy/#general-constraints","title":"General constraints","text":"<ol> <li>The validation result returned by SiVa determines whether a signature is technically valid and also conforms to a set of validation constraints that are specific to Estonian legislation and local practices of digital signing. The policy may not be suitable for signatures created in other territories. </li> <li>The validation result returned by SiVa comprises validation results of all the signatures in a single signature container (in case of detached signatures) or all signatures in a signed document (in case of enveloped or enveloping signatures). I.e. in case of multiple detached/enveloped/enveloping signatures, overall validation result correspoinding to the collection of signatures is not determined.</li> </ol>"},{"location":"siva/appendix/validation_policy/#signature-format-constraints","title":"Signature format constraints","text":"<ol> <li> <p>SiVa implicitly implements constraints that are specified in the specification documents of the signature formats supported by the Service: </p> <ul> <li>BDOC 2.1 ASiC-E/XAdES signatures</li> <li>X-Road ASiC-E/XAdES signatures </li> <li>PAdES signatures</li> <li>DIGIDOC-XML  1.0, 1.1, 1.2, 1.3 signatures</li> <li>DIGIDOC-XML 1.0, 1.1, 1.2 and 1.3 signatures in hashcode format </li> </ul> </li> </ol>"},{"location":"siva/appendix/validation_policy/#base-libraries-constraints","title":"Base libraries' constraints","text":"<ol> <li> <p>SiVa implicitly implements constraints that are imposed by the base software libraries that are used by the service. For more information, see the documentation and source code of the base libraries: </p> <ul> <li>JDigiDoc - is used to validate signatures in DIGIDOC-XML 1.0...1.3 format, including documents in hashcode form.</li> <li>DigiDoc4J - is used to validate ASiC-E/XAdES signatures that conform with BDOC 2.1 digital signature format</li> <li>Open-eID DSS fork - is used to validate PAdES signatures</li> <li>asicverifier - used for validating ASiC-E/XAdES signatures created in X-Road system.</li> </ul> </li> </ol>"},{"location":"siva/appendix/validation_policy/#baseline-profile-constraints","title":"Baseline Profile constraints","text":"<ol> <li>The signature must comply with Baseline Profile of the respective signature format:<ul> <li>XAdES Baseline Profile</li> <li>PAdES Baseline Profile</li> </ul> </li> <li>In case of Baseline LT-level signature with time-mark, the notation BASELINE_LT_TM is used.   </li> <li>The following table describes supported Baseline Profile levels, according to signature formats:</li> </ol> Signature format BASELINE_B_BES BASELINE_B_EPES BASELINE_T BASELINE_LT BASELINE_LT_TM BASELINE_LTA BDOC NOK NOK NOK OK OK OK X-Road signature (simple form) NOK NOK NOK OK NOK NOK X-Road signature (batch signature) OK OK NOK NOK NOK NOK PAdES NOK NOK NOK OK NOK OK **DIGIDOC-XML 1.0...1.3 ** NOK NOK NOK NOK OK NOK **DIGIDOC-XML 1.0...1.3 hashcode ** NOK NOK NOK NOK OK NOK <p>Legend: </p> <ul> <li>OK - the respective Baseline Profile level is supported and acceptable.</li> <li>NOK - the respective Baseline Profile level is not supported or is considered insufficient for the signature format.</li> </ul>"},{"location":"siva/appendix/validation_policy/#x509-validation-constraints","title":"X.509 validation constraints","text":"<ol> <li>The signer certificate\u2019s Key Usage field must have nonRepudiation bit set (also referred to as contentCommitment). </li> </ol>"},{"location":"siva/appendix/validation_policy/#cryptographic-algorithm-constraints","title":"Cryptographic algorithm constraints","text":"<ol> <li>Hash algorithm constraints: <ul> <li>In case of BDOC and PAdES formats: when validating a signature where SHA-1 function has been used then a validation warning about weak digest method is returned. </li> </ul> </li> <li>Asymmetric cryptographic algorithm contraints:<ul> <li>RSA and ECC cryptographic algorithms are supported</li> <li>In case of BDOC and PAdES formats, the RSA key lenght must be at least 1024 bits and ECC key length at least 192 bits. </li> </ul> </li> </ol>"},{"location":"siva/appendix/validation_policy/#trust-anchor-constraints","title":"Trust anchor constraints","text":"<ol> <li>The signature must contain the certificate of the trust anchor and all certificates necessary for the signature validator to build a certification path up to the trust anchor. This applies to the signer\u2019s certificate and the certificates of trust service providers that have issued the time-stamp token and revocation data that are incorporated in the signature.</li> <li>Trust Anchors are: <ul> <li>In case of BDOC, PAdES formats: EU Member State Trusted Lists. </li> <li>In case of DIGIDOC-XML 1.0...1.3 and respective hashcode formats: Estonian CA certificates issued by SK, defined in local configuration file.</li> <li>In case of X-Road ASiC-E signatures, SK issued KLASS3-SK 2010, and KLASS3-SK 2010 OCSP RESPONDER and SK TIMESTAMPING AUTHORITY certificates, defined in local configuration file. </li> </ul> </li> </ol>"},{"location":"siva/appendix/validation_policy/#revocation-data-constraints","title":"Revocation data constraints","text":"<ol> <li>The signature must contain evidence record to confirm that certificate was valid at the time of signing. </li> <li>The evidence record of signer certificate must be in the form of an OCSP confirmation.</li> <li>No additional revocation data other than the data that was originally incorporated in the signature shall be requested during validation time.</li> <li>Checking revocation of certificates regarded as Trust Anchors:<ul> <li>In case of DIGIDOC-XML 1.0...1.3 and X-Road formats: revocation of Trust Anchor certificates is not checked.</li> <li>In case of BDOC, PAdES formats: revocation of Trust Anchor certificates is checked on the basis of the data in Trusted Lists. </li> </ul> </li> </ol>"},{"location":"siva/appendix/validation_policy/#signer-certificates-revocation-freshness-constraints","title":"Signer certificate's revocation freshness constraints","text":"<ol> <li>In case of BDOC and DIGIDOC-XML 1.0...1.3 BASELINE_LT_TM signatures with time-mark: revocation data is always considered fresh as the revocation data is issued at the trusted signing time.</li> <li>In case of BDOC 2.1 BASELINE_LT and BASELINE_LTA signatures with signature time-stamp: revocation data freshness is checked according to the following rules: <ul> <li>The revocation data must be issued after the signature time-stamp production time. </li> <li>If difference between signature time-stamp's production time (genTime field) and signer certificate OCSP confirmation\u2019s production time (producedAt field) is more than 15 minutes then a validation warning is returned. </li> <li>If difference between signature time-stamp's production time (genTime field) and signer certificate OCSP confirmation\u2019s production time (producedAt field) is more than 24 hours then the signature is considered invalid. </li> </ul> </li> <li>In case of PAdES signatures, the default DSS base library's revocation freshness check is used. </li> </ol>"},{"location":"siva/appendix/validation_policy/#trusted-signing-time-constraints","title":"Trusted signing time constraints","text":"<ol> <li>Trusted signing time, denoting the earliest time when it can be trusted (because proven by some Proof-of-Existence present in the signature) that a signature has existed, is determined as follows: <ul> <li>In case of signature with time-mark (BASELINE_LT_TM level) - the producedAt value of the earliest valid time-mark (OCSP confirmation of the signer's certificate) in the signature.</li> <li>In case of signature with time-stamp (BASELINE_T, BASELINE_LT or BASELINE_LTA level) - the genTime value of the earliest valid signature time-stamp token in the signature. </li> <li>In case of basic signature (BASELINE_B_BES or BASELINE_B_EPES level) - the trusted signing time value cannot be determined as there is no Proof-of-Existence of the signature.</li> </ul> </li> </ol>"},{"location":"siva/appendix/validation_policy/#bdocasic-e-container-spceific-requirements","title":"BDOC/ASiC-E container spceific requirements","text":"<ol> <li>File extension<ul> <li>\".asice\", \".sce\" and \".bdoc\" file extensions are supported during signature validation. </li> </ul> </li> <li>Only one signature shall be stored in one signatures.xml file.</li> <li>All signatures in the container must sign all of the data files. </li> <li>All data files in the container must be signed, i.e. all files in the container, except of \"mimetype\" file and the files in META-INF/ folder, must be signed.  </li> <li>Two data files with the same name and same path shall not be allowed in the container as the signed data file must be uniquely identifiable in the container. To avoid conflicts in some operating system environments, file names shall be case insensitive.</li> <li>Only relative file paths are supported, for example \"META-INF/signatures.xml\" and \"document.txt\" instead of \"/META-INF/signatures.xml\" and \"/document.txt\".</li> <li>\"META-INF/manifest.xml\" file shall be conformant to OASIS Open Document Format version 1.0 or 1.2. </li> </ol>"},{"location":"siva/appendix/wsdl/","title":"Appendix 3 - WSDL of SOAP Interface","text":"<p>See also Interfaces for more information about the SOAP interfaces.</p>"},{"location":"siva/appendix/wsdl/#validation-web-service-wsdl","title":"Validation web service wsdl","text":"<pre><code>&lt;wsdl:definitions xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xrd=\"http://x-road.eu/xsd/xroad.xsd\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:tns=\"http://soap.webapp.siva.openeid.ee/\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" name=\"SignatureValidationService\" targetNamespace=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n    &lt;wsdl:types&gt;\n        &lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xrd=\"http://x-road.eu/xsd/xroad.xsd\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:tns=\"http://soap.webapp.siva.openeid.ee/\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" targetNamespace=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n            &lt;xs:import namespace=\"http://x-road.eu/xsd/xroad.xsd\" schemaLocation=\"http://x-road.eu/xsd/xroad.xsd\"/&gt;\n            &lt;xs:element name=\"ValidateDocument\" type=\"tns:validateDocument\"/&gt;\n            &lt;xs:element name=\"ValidateDocumentResponse\" type=\"tns:ValidateDocumentResponse\"/&gt;\n            &lt;xs:element name=\"ValidationReport\" type=\"tns:simpleReport\"/&gt;\n            &lt;xs:element name=\"ValidationRequest\" type=\"tns:soapValidationRequest\"/&gt;\n            &lt;xs:complexType name=\"validateDocument\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element ref=\"tns:ValidationRequest\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"soapValidationRequest\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Document\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Filename\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"DocumentType\" type=\"tns:documentType\"/&gt;\n                    &lt;xs:element minOccurs=\"0\" name=\"SignaturePolicy\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"ValidateDocumentResponse\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=\"0\" ref=\"tns:ValidationReport\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"simpleReport\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Policy\" type=\"tns:policy\"/&gt;\n                    &lt;xs:element name=\"ValidationTime\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"DocumentName\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"SignatureForm\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Signatures\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"Signature\" type=\"tns:signatureValidationData\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"ValidSignaturesCount\" type=\"xs:int\"/&gt;\n                    &lt;xs:element name=\"SignaturesCount\" type=\"xs:int\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"policy\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"PolicyDescription\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"PolicyName\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"PolicyUrl\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"signatureValidationData\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Id\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"SignatureFormat\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"SignatureLevel\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"SignedBy\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Indication\" type=\"tns:indication\"/&gt;\n                    &lt;xs:element name=\"SubIndication\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Errors\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"Error\" type=\"tns:error\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"SignatureScopes\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" name=\"SignatureScope\" type=\"tns:signatureScope\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"ClaimedSigningTime\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Warnings\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"Warning\" type=\"tns:warning\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"Info\" type=\"tns:info\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"error\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Content\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"signatureScope\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Name\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Scope\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Content\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"warning\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Description\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"info\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=\"0\" name=\"bestSignatureTime\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:simpleType name=\"documentType\"&gt;\n                &lt;xs:restriction base=\"xs:string\"&gt;\n                    &lt;xs:enumeration value=\"PDF\"/&gt;\n                    &lt;xs:enumeration value=\"XROAD\"/&gt;\n                    &lt;xs:enumeration value=\"BDOC\"/&gt;\n                    &lt;xs:enumeration value=\"DDOC\"/&gt;\n                &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n            &lt;xs:simpleType name=\"indication\"&gt;\n                &lt;xs:restriction base=\"xs:string\"&gt;\n                    &lt;xs:enumeration value=\"TOTAL-PASSED\"/&gt;\n                    &lt;xs:enumeration value=\"TOTAL-FAILED\"/&gt;\n                    &lt;xs:enumeration value=\"INDETERMINATE\"/&gt;\n                &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n        &lt;/xs:schema&gt;\n    &lt;/wsdl:types&gt;\n    &lt;wsdl:message name=\"ValidateDocument\"&gt;\n        &lt;wsdl:part element=\"tns:ValidateDocument\" name=\"parameters\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"requestHeader\"&gt;\n        &lt;wsdl:part element=\"xrd:client\" name=\"client\"/&gt;\n        &lt;wsdl:part element=\"xrd:service\" name=\"service\"/&gt;\n        &lt;wsdl:part element=\"xrd:id\" name=\"id\"/&gt;\n        &lt;wsdl:part element=\"xrd:userId\" name=\"userId\"/&gt;\n        &lt;wsdl:part element=\"xrd:issue\" name=\"issue\"/&gt;\n        &lt;wsdl:part element=\"xrd:protocolVersion\" name=\"protocolVersion\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"ValidateDocumentResponse\"&gt;\n        &lt;wsdl:part element=\"tns:ValidateDocumentResponse\" name=\"parameters\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:portType name=\"ValidationWebService\"&gt;\n        &lt;wsdl:operation name=\"ValidateDocument\"&gt;\n            &lt;wsdl:input message=\"tns:ValidateDocument\" name=\"ValidateDocument\"/&gt;\n            &lt;wsdl:output message=\"tns:ValidateDocumentResponse\" name=\"ValidateDocumentResponse\"/&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:portType&gt;\n    &lt;wsdl:binding name=\"SignatureValidationServiceSoapBinding\" type=\"tns:ValidationWebService\"&gt;\n        &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n        &lt;wsdl:operation name=\"ValidateDocument\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\"/&gt;\n            &lt;wsdl:input name=\"ValidateDocument\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"client\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"service\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"id\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"userId\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"issue\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"protocolVersion\" use=\"literal\"/&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output name=\"ValidateDocumentResponse\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"client\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"service\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"id\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"userId\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"issue\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"protocolVersion\" use=\"literal\"/&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:binding&gt;\n    &lt;wsdl:binding name=\"ValidationWebServiceSoapBinding\" type=\"tns:ValidationWebService\"&gt;\n        &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n        &lt;wsdl:operation name=\"ValidateDocument\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\"/&gt;\n            &lt;wsdl:input name=\"ValidateDocument\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output name=\"ValidateDocumentResponse\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:binding&gt;\n    &lt;wsdl:service name=\"SignatureValidationService\"&gt;\n        &lt;wsdl:port binding=\"tns:SignatureValidationServiceSoapBinding\" name=\"ValidationWebServiceImplPort\"&gt;\n            &lt;soap:address location=\"http://localhost:8080/soap/validationWebService\"/&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n    &lt;wsdl:service name=\"ValidationWebServiceService\"&gt;\n        &lt;wsdl:port binding=\"tns:ValidationWebServiceSoapBinding\" name=\"ValidationWebServicePort\"&gt;\n            &lt;soap:address location=\"http://localhost:8080/soap/validationWebService\"/&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>"},{"location":"siva/appendix/wsdl/#data-files-web-service-wsdl","title":"Data files web service wsdl","text":"<pre><code>&lt;wsdl:definitions xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xrd=\"http://x-road.eu/xsd/xroad.xsd\"\n                  xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:tns=\"http://soap.webapp.siva.openeid.ee/\"\n                  xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" name=\"DataFilesService\"\n                  targetNamespace=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n    &lt;wsdl:types&gt;\n        &lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xrd=\"http://x-road.eu/xsd/xroad.xsd\"\n                   xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:tns=\"http://soap.webapp.siva.openeid.ee/\"\n                   xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"\n                   targetNamespace=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n            &lt;xs:import namespace=\"http://x-road.eu/xsd/xroad.xsd\" schemaLocation=\"http://x-road.eu/xsd/xroad.xsd\"/&gt;\n            &lt;xs:element name=\"GetDocumentDataFiles\" type=\"tns:getDocumentDataFiles\"/&gt;\n            &lt;xs:element name=\"GetDocumentDataFilesResponse\" type=\"tns:GetDocumentDataFilesResponse\"/&gt;\n            &lt;xs:element name=\"DataFilesReport\" type=\"tns:dataFilesReport\"/&gt;\n            &lt;xs:element name=\"DataFilesRequest\" type=\"tns:soapDataFilesRequest\"/&gt;\n            &lt;xs:complexType name=\"getDocumentDataFiles\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element ref=\"tns:DataFilesRequest\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"soapDataFilesRequest\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Document\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"DocumentType\" type=\"tns:documentType\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"GetDocumentDataFilesResponse\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=\"0\" ref=\"tns:DataFilesReport\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"dataFilesReport\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"DataFiles\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"DataFile\" type=\"tns:dataFile\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"dataFile\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Base64\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"FileName\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"MimeType\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Size\" type=\"xs:long\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:simpleType name=\"documentType\"&gt;\n                &lt;xs:restriction base=\"xs:string\"&gt;\n                    &lt;xs:enumeration value=\"PDF\"/&gt;\n                    &lt;xs:enumeration value=\"XROAD\"/&gt;\n                    &lt;xs:enumeration value=\"BDOC\"/&gt;\n                    &lt;xs:enumeration value=\"DDOC\"/&gt;\n                &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n        &lt;/xs:schema&gt;\n    &lt;/wsdl:types&gt;\n    &lt;wsdl:message name=\"GetDocumentDataFilesResponse\"&gt;\n        &lt;wsdl:part element=\"tns:GetDocumentDataFilesResponse\" name=\"parameters\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"requestHeader\"&gt;\n        &lt;wsdl:part element=\"xrd:client\" name=\"client\"/&gt;\n        &lt;wsdl:part element=\"xrd:service\" name=\"service\"/&gt;\n        &lt;wsdl:part element=\"xrd:id\" name=\"id\"/&gt;\n        &lt;wsdl:part element=\"xrd:userId\" name=\"userId\"/&gt;\n        &lt;wsdl:part element=\"xrd:issue\" name=\"issue\"/&gt;\n        &lt;wsdl:part element=\"xrd:protocolVersion\" name=\"protocolVersion\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"GetDocumentDataFiles\"/&gt;\n    &lt;wsdl:portType name=\"DataFilesWebService\"&gt;\n        &lt;wsdl:operation name=\"GetDocumentDataFiles\"&gt;\n            &lt;wsdl:input message=\"tns:GetDocumentDataFiles\" name=\"GetDocumentDataFiles\"&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output message=\"tns:GetDocumentDataFilesResponse\" name=\"GetDocumentDataFilesResponse\"&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:portType&gt;\n    &lt;wsdl:binding name=\"DataFilesWebServiceSoapBinding\" type=\"tns:DataFilesWebService\"&gt;\n        &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n        &lt;wsdl:operation name=\"GetDocumentDataFiles\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\"/&gt;\n            &lt;wsdl:input name=\"GetDocumentDataFiles\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output name=\"GetDocumentDataFilesResponse\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:binding&gt;\n    &lt;wsdl:binding name=\"DataFilesServiceSoapBinding\" type=\"tns:DataFilesWebService\"&gt;\n        &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n        &lt;wsdl:operation name=\"GetDocumentDataFiles\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\"/&gt;\n            &lt;wsdl:input name=\"GetDocumentDataFiles\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"client\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"service\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"id\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"userId\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"issue\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"protocolVersion\" use=\"literal\"/&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output name=\"GetDocumentDataFilesResponse\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"client\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"service\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"id\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"userId\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"issue\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"protocolVersion\" use=\"literal\"/&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:binding&gt;\n    &lt;wsdl:service name=\"DataFilesWebServiceService\"&gt;\n        &lt;wsdl:port binding=\"tns:DataFilesWebServiceSoapBinding\" name=\"DataFilesWebServicePort\"&gt;\n            &lt;soap:address location=\"http://localhost:8080/soap/dataFilesWebService/getDocumentDataFiles\"/&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n    &lt;wsdl:service name=\"DataFilesWebService\"&gt;\n        &lt;wsdl:port binding=\"tns:DataFilesServiceSoapBinding\" name=\"DataFilesWebServiceImplPort\"&gt;\n            &lt;soap:address location=\"http://localhost:8080/soap/dataFilesWebService\"/&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>"},{"location":"siva/v2/deployment/","title":"10.5.1 Deployment model","text":"<p>The deployment view of the architecture describes the various physical nodes in the most typical configuration for SiVa service provider.</p> <p></p>"},{"location":"siva/v2/deployment/#nodes","title":"Nodes","text":"<p>In the following section, a description of each network node element is described in detail.</p> Node Setup description Load balancer server Load balancer distributes traffic between SiVa server nodes when there is more than one Siva server instance running. SiVa does not set any specific requirements for load balancer. As an example, the nginx reverse proxy is used. Siva server Two separate services are set up to run on SiVa server: the SiVa webapp itself and the X-road validation webapp, to provide X-road support<ul><li>SiVa webapp</li></ul>SiVa web appliction is executable Spring Boot JAR file. This means all the dependencies and servlet containers are packaged inside single JAR file. The JAR file can be placed anywhere in server and the JAR must be marked executable if its not already.There also should be separate user created to run executalbe JAR as Linux service.Read more about running Spring Boot applications as Linux system service<ul><li>X-road validation webapp</li></ul>SiVa X-Road validation service is also Spring Boot executable JAR application and also should be installed as Linux service. X-Road validation service communicates with SiVa web application over HTTP and default port is 8081Note that X-Road separate installation is required to avoid BouncyCastle library version conflicts and class loader issues. X-road security server A standard X-road security server setup. The SiVa validation service wsdl has to be registered to provide service to other organisations using XRoad infrastructure. Setting up XRoad Security server is out of scope for SiVa documentaton (see the official installation instructions). Demo server Demo server hosts the Demo webapp provided within SiVa project as a reference client implementation. <ul><li>Demo webapp - single Java web application that provides a simple form to upload and validate a signed file in Siva webapp. Demo webapp serves as a tool for evaluating and testing the validation service. </li></ul>"},{"location":"siva/v2/deployment/#horizontal-scaling","title":"Horizontal scaling","text":"<p>Neither the Siva webapp, X-road validation webapp, nor Demo wbapp persist their state in sessions between requests. Therefore it is possible to install multiple instances of these services behind respective load balancers.</p>"},{"location":"siva/v2/interfaces/","title":"10.4. INTERFACES","text":"<p>In this section the SiVa signature validation service's external interfaces that are provided for the service's clients are described. For information of internal components and their interfaces, please refer to Structure and activities.</p> <p>SiVa service provides REST JSON and SOAP interfaces that enable the service users to:</p> <ul> <li>request validation of signatures in a digitally signed document (i.e. signature container like BDOC/ASiC-E or PDF); </li> <li>receive a response with the validation result of all the signatures in the document.</li> </ul> <p>SiVa service SOAP interface supports X-Road v6. However, it is optional whether to integrate SiVa service using X-Road or using \"plain\" SOAP interface. This document only describes the SiVa service part of the interface, for the X-Road specifics visit Riigi Infos\u00fcsteemi Amet webpage.</p> <p>In the following subsections, the SiVa validation request and response interfaces are described in detail. </p>"},{"location":"siva/v2/interfaces/#validation-request-interface","title":"Validation request interface","text":"<p>** REST JSON Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/validate\n</code></pre> <p>** SOAP Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/soap/validationWebService/validateDocument\n</code></pre> <p>** SOAP WSDL **</p> <pre><code>POST https://&lt;server url&gt;/soap/validationWebService/validateDocument?wsdl\n</code></pre>"},{"location":"siva/v2/interfaces/#validation-request-parameters","title":"Validation request parameters","text":"<p>Validation request parameters for JSON and SOAP interfaces are described in the table below. Data types of SOAP parameters are defined in the SiVa WSDL document.</p> JSON parameter SOAP parameter Mandatory JSON data type Description document Document + String Base64 encoded string of digitally signed document to be validated filename Filename + String File name of the digitally signed document (i.e. sample.bdoc) documentType DocumentType + String Format of the digitally signed document. This value determines the validation service type that will be used for validation.  Possible values:  * BDOC - for documents in BDOC (ASiC-E/XAdES) format. Both time-stamp (TS) and time-mark (TM) profiles are supported here.  * DDOC - for documents in DIGIDOC-XML format, supported versions are DIGIDOC-XML 1.0 (also known as SK-XML 1.0) to DIGIDOC-XML 1.3. In case of DIGIDOC_XML documents, also the hashcode format is supported (see DigiDocService Specification for more information).  * PDF - for signed PDF document in PAdES format. * XROAD - for documents created in the X-Road information system, see also specification document of the signature format. signaturePolicy SignaturePolicy - String Can be used to change the default signature validation policy that is used by the service.  See also SiVa Validation Policy for more information.  Possible values:  * POLv1 - the default policy. Signatures with all legal levels are accepted (i.e. QES, AdES and AdESqc, according to Regulation (EU) No 910/2014.)  * POLv2 - only signatures with QES legal level (according to Regulation (EU) No 910/2014) are accepted."},{"location":"siva/v2/interfaces/#sample-json-request","title":"Sample JSON request","text":"<pre><code>{\n  \"filename\":\"sample.ddoc\",\n  \"documentType\":\"DDOC\",\n  \"document\":\"PD94bWwgdmVyc2lvbj0iMS4....\",\n  \"signaturePolicy\": \"POLv1\"\n}\n</code></pre>"},{"location":"siva/v2/interfaces/#sample-soap-request","title":"Sample SOAP request","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;ns2:ValidateDocument xmlns:ns2=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n      &lt;ns2:ValidationRequest&gt;\n        &lt;Document&gt;PD94bWwgdmVyc2lvbj0iMS4....&lt;/Document&gt;\n        &lt;Filename&gt;sample.ddoc&lt;/Filename&gt;\n        &lt;DocumentType&gt;DDOC&lt;/DocumentType&gt;\n        &lt;SignaturePolicy&gt;POLv1&lt;/SignaturePolicy&gt;\n      &lt;/ns2:ValidationRequest&gt;\n    &lt;/ns2:ValidateDocument&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva/v2/interfaces/#validation-response-interface","title":"Validation response interface","text":""},{"location":"siva/v2/interfaces/#validation-response-parameters-successful-scenario","title":"Validation response parameters (successful scenario)","text":"<p>The signature validation report (i.e. the validation response) for JSON and SOAP interfaces is described in the table below. Data types of SOAP parameters are defined in the SiVa WSDL document.</p> JSON parameter SOAP parameter JSON data type Description policy Policy Object Object containing information of the SiVa signature validation policy that was used for validation policy.policyName Policy.PolicyName String Name of the validation policy policy. policyDescription Policy. PolicyDescription String Short description of the validation policy policy.policyUrl Policy.PolicyUrl String URL where the signature validation policy document can be downloaded. The validation policy document shall include information about validation of all the document formats, including the different validation policies that are used in case of different file formats and base libraries. signaturesCount SignaturesCount Number Number of signatures found inside digitally signed file validSignaturesCount ValidSignaturesCount Number Signatures count that have validated to <code>TOTAL-PASSED</code>. See also <code>Signature.Indication</code> field. validationTime ValidationTime Date Time of validating the signature by the service validationWarnings ValidationWarnings Array Block of SiVa validation warnings that do not affect the overall validation result and applicable only to BDOC/ASiC-E type containers. Known warning situations: container includes unsigned files, manifest validation warnings. filename DocumentName String Digitally signed document's file name signatureForm SignatureForm String Format (and optionally version) of the digitally signed document container.  In case of documents in DIGIDOC-XML (DDOC) format, the \"hashcode\" suffix is used to denote that the container was validated in hashcode mode, i.e. without original data files.  Possible values:  * DIGIDOC_XML_1.0  * DIGIDOC_XML_1.0_hashcode  * DIGIDOC_XML_1.1  * DIGIDOC_XML_1.1_hashcode  * DIGIDOC_XML_1.2  * DIGIDOC_XML_1.2_hashcode  * DIGIDOC_XML_1.3  * DIGIDOC_XML_1.3_hashcode  * PAdES - used in case of signed PDF document  * ASiC_E - used in case of all BDOC documents and X-Road simple containers that don't use batch time-stamping (see specification document) * ASiC_E_batchsignature - used in case of X-Road containers with batch signature (see specification document) signatures Signatures Array Collection of signatures found in digitally signed document signatures[0] Signature Object Signature information object signatures[0]. claimedSigningTime Signature. ClaimedSigningTime Date Claimed signing time, i.e. signer's computer time during signature creation signatures[0].id Signature.Id String Signature ID attribute signatures[0].indication Signature.Indication String Overall result of the signature's validation process, according to ETSI EN 319 102-1 \"Table 5: Status indications of the signature validation process\".  Note that the validation results of different signatures in one signed document (signature container) may vary.  See also <code>validSignaturesCount</code> and <code>SignaturesCount</code> fields. Possible values:  * TOTAL-PASSED  * TOTAL-FAILED  * INDETERMINATE signatures[0]. subIndication Signature. SubIndication String Additional subindication in case of failed or indeterminate validation result, according to ETSI EN 319 102-1 \"Table 6: Validation Report Structure and Semantics\" signatures[0].errors Signature.Errors Array Information about validation error(s), array of error messages. signatures[0].errors[0].  content Signature.Errors. Error.Content String Error message, as returned by the base library that was used for signature validation. signatures[0].info Signature.Info Object Object containing trusted signing time information. signatures[0].info. bestSignatureTime Signature.Info. BestSignatureTime Date Time value that is regarded as trusted signing time, denoting the earliest time when it can be trusted by the validation application (because proven by some Proof-of-Existence present in the signature) that a signature has existed.The source of the value depends on the signature profile (see also <code>SignatureFormat</code> parameter):- Signature with time-mark (LT_TM level) - the producedAt value of the earliest valid time-mark (OCSP confirmation of the signer's certificate) in the signature.- Signature with time-stamp (LT or LTA level) - the genTime value of the earliest valid signature time-stamp token in the signature.  - Signature with BES or EPES level - the value is empty, i.e. there is no trusted signing time value available. signatures[0]. signatureFormat Signature. SignatureFormat String Format and profile (according to Baseline Profile) of the signature. See XAdES Baseline Profile and PAdES Baseline Profile for detailed description of the Baseline Profile levels. Levels that are accepted in SiVa validation policy are described in SiVa signature validation policy Possible values:  * XAdES_BASELINE_B_BES  * XAdES_BASELINE_B_EPES  * XAdES_BASELINE_T  * XAdES_BASELINE_LT - long-term level XAdES signature where time-stamp is used as a assertion of trusted signing time * XAdES_BASELINE_LT_TM - long-term level XAdES signature where time-mark is used as a assertion of trusted signing time. Used in case of BDOC signatures with time-mark profile and DIGIDOC-XML (DDOC) signatures. * XAdES_BASELINE_LTA  * PAdES_BASELINE_B_BES  * PAdES_BASELINE_B_EPES  * PAdES_BASELINE_T  * PAdES_BASELINE_LT  * PAdES_BASELINE_LTA signatures[0]. signatureLevel Signature. SignatureLevel String Legal level of the signature, according to Regulation (EU) No 910/2014.  - In case of BDOC and PAdES formats: indication whether the signature is Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES).  - In case of DIGIDOC-XML 1.0..1.3 formats, empty value is used as the signature level is not checked by the JDigiDoc base library that is used for validation. However, the signatures can be indirectly regarded as QES level signatures, see also SiVa Validation Policy signatures[0].signedBy Signature.SignedBy String Signers name and identification number, i.e. value of the CN field of the signer's certificate signatures[0]. signatureScopes Signature. SignatureScopes Array Contains information of the original data that is covered by the signature. signatures[0]. signatureScopes[0]. name Signature. SignatureScopes.  SignatureScope.Name String Name of the signature scope.  - In case of XAdES signature: name of the data file that is signed. - In case of PAdES signature: PDF version that is covered by the signature, e.g. 'PDF previous version #1' signatures[0]. signatureScopes[0]. scope Signature. SignatureScopes.  SignatureScope. Scope String Type of the signature scope.- In case of XAdES signature: 'FullSignatureScope'- In case of PAdES signature: 'PdfByteRangeSignatureScope' signatures[0]. signatureScopes[0]. content Signature. SignatureScopes.  SignatureScope. Content String - In case of XAdES signatures: 'Full document', indicating that the whole document is covered by the signature. - In case of PAdES signatures: the byte range that is covered by the signature. signatures[0].warnings Signature.Warnings Array Block of validation warnings that do not affect the overall validation result. Known warning situations (according to https://id.ee/wp-content/uploads/2021/04/sk-jdd-prg-guide.pdf, chap. 5.2.4.1): - BDOC (ASiC-E) and PAdES: weaker digest method (SHA-1) has been used than recommended when calculating either Reference or Signature element\u2019s digest value;  - DIGIDOC-XML 1.0-1.3: DataFile element\u2019s xmlns attribute is missing; - DIGIDOC-XML 1.0-1.3: IssuerSerial/X509IssuerName and/or IssuerSerial/X509IssuerSerial element\u2019s xmlns attribute is missing. signatures[0].warnings[0]. description Signature.Warnings. Warning.Description String Warning description, as retuned by the base library that was used for validation."},{"location":"siva/v2/interfaces/#sample-json-response-successful-scenario","title":"Sample JSON response (successful scenario)","text":"<pre><code>{\n    \"policy\": {\n        \"policyName\": \"POLv2\",\n        \"policyDescription\": \"Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\",\n        \"policyUrl\": \"http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv2\"\n    },\n    \"signaturesCount\": 1,\n    \"validSignaturesCount\": 1,\n    \"validationTime\": \"2016-07-28T14:41:45Z\",\n    \"documentName\": \"sample.bdoc\",\n    \"validationWarnings\": [\n        {\"content\": \"Manifest file has an entry for file document_3.xml with mimetype application/octet-stream but the signature file for signature S0 does not have an entry for this file\"},\n        {\"content\": \"Signature SOLOVEI,JULIA,47711040261 has unsigned files: document_3.xml\"}\n    ],\n    \"signatures\": [\n        {\n            \"claimedSigningTime\": \"2016-05-11T10:17:57Z\",\n            \"errors\": [],\n            \"id\": \"S0\",\n            \"indication\": \"TOTAL-PASSED\",\n            \"info\": {\n                \"bestSignatureTime\": \"2016-05-11T10:18:06Z\"\n            },\n            \"signatureFormat\": \"XAdES_BASELINE_LT_TM\",\n            \"signatureLevel\": \"QES\",\n            \"signatureScopes\": [],\n            \"signedBy\": \"NURM,AARE,38211015222\",\n            \"subIndication\": \"\",\n            \"warnings\": []\n        }\n    ]\n}\n</code></pre>"},{"location":"siva/v2/interfaces/#sample-soap-response-successful-scenario","title":"Sample SOAP response (successful scenario)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;ns2:ValidateDocumentResponse xmlns:ns2=\"http://soap.webapp.siva.openeid.ee/\" xmlns:ns3=\"http://x-road.eu/xsd/identifiers\" xmlns:ns4=\"http://x-road.eu/xsd/xroad.xsd\"&gt;\n      &lt;ns2:ValidationReport&gt;\n        &lt;Policy&gt;\n          &lt;PolicyDescription&gt;Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.&lt;/PolicyDescription&gt;\n          &lt;PolicyName&gt;POLv1&lt;/PolicyName&gt;\n          &lt;PolicyUrl&gt;http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv1&lt;/PolicyUrl&gt;\n        &lt;/Policy&gt;\n        &lt;ValidationTime&gt;2016-09-27T06:42:33Z&lt;/ValidationTime&gt;\n        &lt;ValidationWarnings&gt;\n          &lt;ValidationWarning&gt;\n            &lt;Content&gt;Manifest file has an entry for file document_3.xml with mimetype application/octet-stream but the signature file for signature S0 does not have an entry for this file&lt;/Content&gt;\n          &lt;/ValidationWarning&gt;\n          &lt;ValidationWarning&gt;\n            &lt;Content&gt;Signature SOLOVEI,JULIA,47711040261 has unsigned files: document_3.xml&lt;/Content&gt;\n          &lt;/ValidationWarning&gt;\n        &lt;/ValidationWarnings&gt;\n        &lt;DocumentName&gt;Valid_ID_sig.bdoc&lt;/DocumentName&gt;\n        &lt;SignatureForm&gt;ASiC_E&lt;/SignatureForm&gt;\n        &lt;Signatures&gt;\n          &lt;Signature&gt;\n            &lt;Id&gt;S0&lt;/Id&gt;\n            &lt;SignatureFormat&gt;XAdES_BASELINE_LT_TM&lt;/SignatureFormat&gt;\n            &lt;SignatureLevel&gt;QES&lt;/SignatureLevel&gt;\n            &lt;SignedBy&gt;NURM,AARE,38211015222&lt;/SignedBy&gt;\n            &lt;Indication&gt;TOTAL-PASSED&lt;/Indication&gt;\n            &lt;SubIndication/&gt;\n            &lt;Errors/&gt;\n            &lt;SignatureScopes&gt;\n              &lt;SignatureScope&gt;\n                &lt;Name&gt;Proov.txt&lt;/Name&gt;\n                &lt;Scope&gt;FullSignatureScope&lt;/Scope&gt;\n                &lt;Content&gt;Full document&lt;/Content&gt;\n              &lt;/SignatureScope&gt;\n            &lt;/SignatureScopes&gt;\n            &lt;ClaimedSigningTime&gt;2016-05-12T10:09:09Z&lt;/ClaimedSigningTime&gt;\n            &lt;Warnings/&gt;\n            &lt;Info&gt;\n              &lt;bestSignatureTime&gt;2016-05-12T10:09:20Z&lt;/bestSignatureTime&gt;\n            &lt;/Info&gt;\n          &lt;/Signature&gt;\n        &lt;/Signatures&gt;\n        &lt;ValidSignaturesCount&gt;1&lt;/ValidSignaturesCount&gt;\n        &lt;SignaturesCount&gt;1&lt;/SignaturesCount&gt;\n      &lt;/ns2:ValidationReport&gt;\n    &lt;/ns2:ValidateDocumentResponse&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva/v2/interfaces/#sample-json-response-error-situation","title":"Sample JSON response (error situation)","text":"<pre><code>{\"requestErrors\": [{\n    \"message\": \"Document malformed or not matching documentType\",\n    \"key\": \"document\"\n}]}\n</code></pre>"},{"location":"siva/v2/interfaces/#sample-soap-response-error-situation","title":"Sample SOAP response (error situation)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;soap:Fault&gt;\n      &lt;faultcode&gt;soap:Server&lt;/faultcode&gt;\n      &lt;faultstring&gt;Document malformed or not matching documentType&lt;/faultstring&gt;\n    &lt;/soap:Fault&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva/v2/interfaces/#data-files-request-interface","title":"Data files request interface","text":"<p>** REST JSON Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/getDataFiles\n</code></pre> <p>** SOAP Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/soap/dataFilesWebService/getDocumentDataFiles\n</code></pre> <p>** SOAP WSDL **</p> <pre><code>POST https://&lt;server url&gt;/soap/dataFilesWebService/getDocumentDataFiles?wsdl\n</code></pre>"},{"location":"siva/v2/interfaces/#data-files-request-parameters","title":"Data files request parameters","text":"<p>Data files request parameters for JSON and SOAP interfaces are described in the table below. Data types of SOAP parameters are defined in the SiVa WSDL document.</p> JSON parameter SOAP parameter Mandatory JSON data type Description document Document + String Base64 encoded string of digitally signed DDOC document documentType DocumentType + String Format of the digitally signed document.  Possible values:  * DDOC - for documents in DIGIDOC-XML format, supported versions are DIGIDOC-XML 1.0 (also known as SK-XML 1.0) to DIGIDOC-XML 1.3. Currently only DDOC file format is supported for this operation"},{"location":"siva/v2/interfaces/#sample-json-request_1","title":"Sample JSON request","text":"<pre><code>{\n  \"documentType\":\"DDOC\",\n  \"document\":\"PD94bWwgdmVyc2lvbj0iMS4....\"\n}\n</code></pre>"},{"location":"siva/v2/interfaces/#sample-soap-request_1","title":"Sample SOAP request","text":"<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:soap=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n  &lt;soapenv:Header/&gt;\n  &lt;soapenv:Body&gt;\n    &lt;soap:GetDocumentDataFiles&gt;\n      &lt;soap:DataFilesRequest&gt;\n        &lt;Document&gt;PD94bWwgdmVyc2lvbj0iMS4wI...&lt;/Document&gt;\n        &lt;DocumentType&gt;DDOC&lt;/DocumentType&gt;\n      &lt;/soap:DataFilesRequest&gt;\n    &lt;/soap:GetDocumentDataFiles&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>"},{"location":"siva/v2/interfaces/#data-files-response-interface","title":"Data files response interface","text":""},{"location":"siva/v2/interfaces/#data-files-response-parameters-successful-scenario","title":"Data files response parameters (successful scenario)","text":"<p>The data file extraction report (i.e. the data files response) for JSON and SOAP interfaces is described in the table below. Data types of SOAP parameters are defined in the SiVa WSDL document. SiVa returns all data files as they are extracted by JDigiDoc library in an as is form. No extra operations or validations are done.</p> JSON parameter SOAP parameter JSON data type Description dataFiles DataFiles Array Collection of data files found in digitally signed document dataFiles[0] DataFile Object Extracted data file object dataFiles[0].fileName DataFile.FileName String File name of the extracted data file dataFiles[0].size DataFile.Size Long Extracted data file size in bytes dataFiles[0].base64 DataFile.Base64 String Base64 encoded string of extracted data file dataFiles[0].mimeType DataFile.MimeType String MIME type of the extracted data file"},{"location":"siva/v2/interfaces/#sample-json-response-successful-scenario_1","title":"Sample JSON response (successful scenario)","text":"<pre><code>{\n\"dataFiles\": [{\n \"fileName\": \"Glitter-rock-4_gallery.jpg\",\n \"size\": 41114,\n \"base64\": \"/9j/4AAQSkZJ...\",\n \"mimeType\": \"application/octet-stream\" }]\n}\n</code></pre>"},{"location":"siva/v2/interfaces/#sample-soap-response-successful-scenario_1","title":"Sample SOAP response (successful scenario)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;ns2:GetDocumentDataFilesResponse xmlns:ns2=\"http://soap.webapp.siva.openeid.ee/\" xmlns:ns3=\"http://x-road.eu/xsd/identifiers\" xmlns:ns4=\"http://x-road.eu/xsd/xroad.xsd\"&gt;\n      &lt;ns2:DataFilesReport&gt;\n       &lt;DataFiles&gt;\n         &lt;DataFile&gt;\n           &lt;Base64&gt;UCgUCgUCgUCgUCgUCgUCgUCgUCgUCgUCgUH...&lt;/Base64&gt;\n           &lt;FileName&gt;Glitter-rock-4_gallery.jpg&lt;/FileName&gt;\n           &lt;MimeType&gt;application/octet-stream&lt;/MimeType&gt;\n           &lt;Size&gt;41114&lt;/Size&gt;\n         &lt;/DataFile&gt;\n       &lt;/DataFiles&gt;\n     &lt;/ns2:DataFilesReport&gt;\n   &lt;/ns2:GetDocumentDataFilesResponse&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva/v2/interfaces/#sample-json-response-error-situation_1","title":"Sample JSON response (error situation)","text":"<pre><code>{\"requestErrors\": [{\n    \"message\": \"Invalid document type. Can only return data files for DDOC type containers.\",\n    \"key\": \"documentType\"\n}]}\n</code></pre>"},{"location":"siva/v2/interfaces/#sample-soap-response-error-situation_1","title":"Sample SOAP response (error situation)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;soap:Fault&gt;\n      &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\n      &lt;faultstring&gt;Invalid document type. Can only return data files for DDOC type containers.&lt;/faultstring&gt;\n    &lt;/soap:Fault&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva/v2/interfaces/#service-health-monitoring","title":"Service health monitoring","text":"<p>SiVa webapps provide an interface for external monitoring tools (to periodically check the generic service health status).</p>"},{"location":"siva/v2/interfaces/#the-request","title":"The request","text":"<p>The monitoring endpoint is accessible via HTTP GET at /monitoring/health or /monitoring/health.json url.</p> <p>Sample request:</p> <pre><code>GET https://&lt;server url&gt;/monitoring/health\n</code></pre>"},{"location":"siva/v2/interfaces/#the-response","title":"The response","text":"<p>As a response, a JSON object is returned with the following information:</p> Field Description status General status of the webapp. Possible values: <ul><li>DOWN - when some of the dependent indicators status are down (ie when <code>link{number}.status</code> is DOWN, the overall service status is DOWN)</li><li>UP - the default value. </li></ul> health.status Status of current webapp - constant value UP health.webappName The artifact name of the webapp. Taken from the MANIFEST.MF file (inside the jar/war file). health.version The release version fo the webapp. Taken from the MANIFEST.MF (inside the jar/war file). health.buildTime Build date and time (format yyyy-MM-dd'T'HH:mm:ss'Z') of the webapp. Taken from the MANIFEST.MF (inside the jar/war file). health.startTime Webapp startup date and time (format yyyy-MM-dd'T'HH:mm:ss'Z') health.currentTime Current server date and time (format yyyy-MM-dd'T'HH:mm:ss'Z') link{number}.status (OPTIONAL) Represents the status of a link to the external system that the webapp depends on. <ul><li>DOWN when the webapp does not respond (within a specified timeout limit - default 10 seconds) or the response is in invalid format (default Spring boot actuator /health endpoint format is expected).</li><li>UP if the service responds with HTTP status code 200 and returns a valid JSON object with status \"UP\"</li></ul> link{number}.name (OPTIONAL) Descriptive name for the link to the external system <p>Sample response:</p> <pre><code>{\n  \"status\":\"UP\",\n    \"health\":{\n      \"status\":\"UP\",\n      \"webappName\":\"siva-demo-application\",\n      \"version\":\"3.1.0\",\n      \"buildTime\":\"2016-10-21T15:56:21Z\",\n      \"startTime\":\"2016-10-21T15:57:48Z\",\n      \"currentTime\":\"2016-10-21T15:58:39Z\"\n    },\n    \"link1\":{\n      \"status\":\"UP\",\n      \"name\":\"sivaService\"\n    }\n}\n</code></pre>"},{"location":"siva/v2/links/","title":"Links","text":"<p>https://www.ria.ee/ee/xtee-teenuste-arendamine.html - XRoad impolentations guides to be used for SiVa XRoad implementation</p>"},{"location":"siva/v2/structure_and_activities/","title":"10.3.1 Component model","text":"<p>The following chapter depicts SiVa software on a component diagram. Note that not all of the external base libraries are included in the component model to avoid duplicity with other documentation. Only relevant base libraries and dependencies are listed and described in the documentation. Information about additional and transitive dependencies of the respective validation service components can be found via the references provided.</p> <p></p>"},{"location":"siva/v2/structure_and_activities/#system-components","title":"System components","text":""},{"location":"siva/v2/structure_and_activities/#siva-webapp","title":"Siva webapp","text":"<p>All validation services use different Java library to validate given document in request. The used validation library is described in each of the validation service section.</p> Component Description Web gateway service Web gateway service is a single access point to the whole SiVa webapp application. Web service is implemented as a standard Spring Boot Web application module, that accepts valid JSON or SOAP requests (see the Interfaces section) sent by the client systems. Web service module is responsible for basic request and response handling. This includes basic validation of incoming requests (existence of required fields, permitted values, etc) and unmarshaling the request to a Java object before passing it to the next component \u2013 the Proxy service. Response from the proxy service is marshalled and sent back to the client according to respective API. Validation proxy service Acts as a router for the request and response. It is responsible for selecting the appropriate validation service for incoming document.- Proxy service accepts an in memory representation of a document and finds a matching validation service based on document type. The incoming request is converted to validation request and forwarded to the specific validation service.- The report returned by the specific validation service is passed to the statistics service before returning it to Web service. Data files proxy service Acts as a router for the request and response. It is responsible for selecting the appropriate data files extraction service for incoming document.- Proxy service accepts an in memory representation of a document and finds a matching validation service based on document type. Statistics service An optional component that can be turned on or off using configuration file. It is Spring Boot module and main purpose for it is to collect data about: incoming request, validation reports and errors that have been reported during validation process.- When HTTP authentication header have been set the reporting service will also add this info to statistics report.- After the report object have been created the data will be sent to configured reporting service. SiVa is preconfigured to work with Google Analytics.- More info and specifics about the statistics service can be found in SiVa_statistics.pdf PDF validation service PDF uses DSS PaDES validation functionality along with the preconfigured validation policy that complies with Estonian laws and regulations. BDOC validation service Provides validation services for BDOC containers. BDOC for ASiC compliant containers both TM and TS will use latest Maven released DigiDoc4J library DDOC validation service Provides validation services for DigiDoc containers. DDOC for previous generation digitally signed files will use latest Maven release of JDigiDoc DDOC data files service Provides files extraction services for DigiDoc containers. DDOC for previous generation digitally signed files will use latest Maven release of JDigiDoc Digidoc4j Digidoc4j implementation is used by BDOC validation service. See the project Github page for further details. Dss Dss library implementations are used for PaDES validation and TSL loading. SiVa uses Digidoc4J DSS fork Java library. JDigiDoc JDigiDoc implementation is used by DDOC validation service and for the DDOC data files service. See the project Github page for further details. TSL loader TSL loader loads the contents of TSL file from given URL in online mode or from directory when using offline mode in predefined interval. Logger Logging functionality is handled by the SLF4J logging facade and on top of the Logback framework.\u00a0As a result, logging can be configured via the standard Logback configuration file.\u00a0By default, logging works on the <code>INFO</code> level and logs are directed to the system console. Additional logging appenders can be added (consult logback documentation for more details) Configuration Configuration is a global component used throughout the webapp. Responsible for reading and handling the application configuration management Validation commons Common interfaces and utilities for all validation services (ie utilities for default and additional policies and constraints) Monitoring service Service that provides generic information about the webapp - it's name, version, uptime and link status. (The service is disabled by default)"},{"location":"siva/v2/structure_and_activities/#siva-webapp-interfaces","title":"Siva webapp interfaces","text":"<p>Provided:</p> <ul> <li>Validation service REST interface - interface for handling validation queries.<ul> <li>JSON formatted POST requests</li> </ul> </li> <li>Validation service SOAP interface - interface for handling validation queries<ul> <li>X-Road compliant and non-compliant SOAP requests (without the X-Road required headers)</li> </ul> </li> <li>Data file service REST interface - interface for handling data file extraction queries.<ul> <li>JSON formatted POST requests</li> </ul> </li> <li>Data file service SOAP interface - interface for handling data file extraction queries<ul> <li>X-Road compliant and non-compliant SOAP requests (without the X-Road required headers)</li> </ul> </li> <li>Monitoring service REST interface - interface for retrieving the webapp's health information<ul> <li>HTTP GET that returns JSON formatted resp\u00f3nses</li> </ul> </li> </ul> <p>Required:</p> <ul> <li>X-road validation webapp - interface for validating X-road signed requests</li> <li>EU TSL provider interface - interface for loading the TSL</li> <li>Google Analytics service - interface for collection statistics (optional)</li> </ul>"},{"location":"siva/v2/structure_and_activities/#x-road-validation-webapp","title":"X-road validation webapp","text":"<p>Note</p> <p>X-road validation webapp is distributed as a separate webapp installation to avoid BouncyCastle libraries version conflicts and class loader issues.</p> Component Description X-Road validation service X-Road containers are similar to ASiCE containers but are not valid ASiCE containers. There we could not use DSS nor DigiDoc4J provided ASiCE validation functionality but need to X-Road developed <code>asicverifier</code> Java command line utility to validate these containers.Source code for <code>asicverifier</code> can be found in GitHub xroad-public repository: <code>Asicverfier</code> has been integrated into SiVa as Java library. Making possible to use all the Java libraries packaged into <code>asicverifier</code> fat JAR.Configurable functionality:- In SiVa configuration <code>application.yml</code> file You can define alternative location for <code>globalconf</code> directory to be loaded in using input stream Asicverifier X-road signature validation utility (see github project for details). A command line tool to validate X-Road Security server generated ASiCe files. The utility was chosen because it's only available packaged to tool to validate X-Road signature file. Logger Logger is a global component used throughout the webapp by every other components. Logging functionality is handled by the SLF4J logging facade and on top of it the Logback framework is used.\u00a0As a result, logging can be configured via the standard Logback configuration file.\u00a0By default, logging works on the <code>INFO</code> level and logs are directed to the system console. Additional logging appenders can be added (consult logback documentation for more details) Configuration Configuration is a global component used throughout the webapp. Responsible for reading and handling the application configuration management Validation commons Common interfaces and utilities for all validation services (ie utilities for default and additional policies and constraints) Monitoring service Service that provides generic information about the webapp - it's name, version, uptime and link status. (The service is disabled by default)"},{"location":"siva/v2/structure_and_activities/#x-road-validation-webapp-interfaces","title":"X-road validation webapp interfaces","text":"<p>Provided:</p> <ul> <li>Validation service REST interface - interface for handling X-Road signed requests.<ul> <li>JSON formatted POST queries</li> </ul> </li> <li>Monitoring service REST interface - interface for retrieving the webapp's health information<ul> <li>HTTP GET that returns JSON formatted resp\u00f3nses</li> </ul> </li> </ul> <p>Required:</p> <ul> <li>N/A</li> </ul>"},{"location":"siva/v2/structure_and_activities/#demo-webapp","title":"Demo webapp","text":"Component Description Demo webapp A Spring boot based web application that provides a web interface to the SiVa system for initial access and testing purposes. Offers a simple and user friendly presentation layer for the whole SiVa webapp. Contains a simple form, that can be used to send signed documents to be validated in SiVa."},{"location":"siva/v2/structure_and_activities/#demo-webapp-interfaces","title":"Demo webapp interfaces","text":"<p>Provided:</p> <ul> <li>Web interface - interface for handling X-Road signed requests.<ul> <li>JSON formatted POST queries</li> </ul> </li> </ul> <p>Required:</p> <ul> <li>Siva webapp REST interface</li> <li>Siva webapp SOAP interface</li> </ul>"},{"location":"siva/v2/structure_and_activities/#external-configuration","title":"External configuration","text":"Component Description Policies and constraints (Optional) By default, two policies are supported and integrated into SiVa - see SiVa Validation Policy. However, it is possible to customize the validation policies and their constraints. Configuration is validation service specific. See the overriding configuration section for details. Externalized configuration Application specific configuration (property files, command line variables, etc) that allow overriding the default values set within the webapp."},{"location":"siva/v2/structure_and_activities/#external-subsystems","title":"External subsystems","text":"Component Description Digidoc3 client DigiDoc3 client is a program that can be used to sign digitally with ID-card and Mobile-ID, check the validity of digital signatures and open and save documents inside the signature container. See the github project for further details. XROAD security server A client subsystem that, once connected, allows SiVa to be integrated into the X-Road data exchange layer EU TSL provider A subsystem that provides SiVa with a current TSL. An HTTPS endpoint, that provides an XML formatted file that lists all trusted service providers along with their certificates. Google Analytics (Optional) A subsystem that can be used for business analysis based on the SiVa statistics (sent over Google Management Protocol v1). The webapp can be configured to send statistical data about validation reports to Google Analytics. See SiVa_statistics.pdf for further details. <ul><li>NB! Note that the exact same dataset is logged by the Logger component if one needs to handle generic statistical data locally (for example using Logstash and Kibana)</li></ul> Monitoring (Optional) A subsystem that tracks the health and uptime of SiVa webapps"},{"location":"siva/v2/systemintegrators_guide/","title":"10.5.2 System integrator's guide","text":"<p>This guide describes how to integrate SiVa service with other applications. The following is for system integrators who need to set-up, configure, manage, and troubleshoot SiVa system.</p>"},{"location":"siva/v2/systemintegrators_guide/#system-requirements","title":"System requirements","text":"<p>Following are the minimum requirements to build and deploy SiVa webapps as a service:</p> <ul> <li>Java 8 or above Oracle JVM is supported</li> <li>Git version control system version 1.8 or above is recommended</li> <li>Minimum 2 GB of RAM. Recommended at least 4 GB of RAM</li> <li>Minimum 1 processor core</li> <li>Open internet connection</li> <li>1GB of free disk space</li> <li>Supported operating system is Ubuntu 14.04 LTS</li> </ul>"},{"location":"siva/v2/systemintegrators_guide/#building","title":"Building","text":""},{"location":"siva/v2/systemintegrators_guide/#building-siva-webapps-on-ubuntu-1604","title":"Building SiVa webapps on Ubuntu 16.04","text":"<p>First we need to install Git and Java SDK 8 by issuing below commands:</p> <pre><code>sudo apt-get update\nsudo apt-get install git -y\nsudo apt-get install default-jdk -y\n</code></pre> <p>Next we need to clone the SiVa Github repository:</p> <pre><code>git clone https://github.com/open-eid/SiVa.git --branch master\n</code></pre> <p>Final step is building the SiVa project using Maven Wrapper</p> <pre><code>cd SiVa\n./mvnw clean install\n</code></pre> <p>Note</p> <p>The build can take up to 30 minutes because there are lot of tests that will be run through and downloading of the required dependencies</p> <p>To verify that SiVa project built successfully look for <code>BUILD SUCCESS</code> in build compilation output last lines. The last lines of build output should look very similar to below image:</p> <pre><code>[INFO] Reactor Summary:\n[INFO]\n[INFO] SiVa Digitally signed documents validation service . SUCCESS [ 25.258 s]\n[INFO] validation-services-parent ......................... SUCCESS [  0.479 s]\n[INFO] validation-commons ................................. SUCCESS [01:45 min]\n[INFO] tsl-loader ......................................... SUCCESS [ 16.507 s]\n[INFO] PDF Validation Service ............................. SUCCESS [ 42.263 s]\n[INFO] BDOC Validation Service ............................ SUCCESS [ 58.864 s]\n[INFO] DDOC Validation Service ............................ SUCCESS [  9.929 s]\n[INFO] xroad-validation-service ........................... SUCCESS [  5.664 s]\n[INFO] SIVa webapp and other core modules ................. SUCCESS [  0.315 s]\n[INFO] SiVa validation service proxy ...................... SUCCESS [ 43.098 s]\n[INFO] siva-webapp ........................................ SUCCESS [04:06 min]\n[INFO] SiVa Web Service integration tests ................. SUCCESS [03:41 min]\n[INFO] siva-distribution .................................. SUCCESS [ 56.941 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 18:30 min\n[INFO] Finished at: 2016-07-22T13:40:31+00:00\n[INFO] Final Memory: 80M/250M\n[INFO] ------------------------------------------------------------------------\n</code></pre>"},{"location":"siva/v2/systemintegrators_guide/#deploying","title":"Deploying","text":""},{"location":"siva/v2/systemintegrators_guide/#option-1-starting-webapps-from-command-line","title":"OPTION 1 - starting webapps from command line","text":"<p>SiVa project compiles 2 fat executable JAR files that you can run after successfully building the project by issuing below commands:</p> <p>First start the Siva webapp</p> <pre><code>./siva-parent/siva-webapp/target/siva-webapp-3.1.0.jar\n</code></pre> <p>Second we need to start X-road validation webapp</p> <pre><code>./validation-services-parent/xroad-validation-service/target/xroad-validation-service-3.1.0.jar\n</code></pre> <p>The SiVa webapp by default runs on port 8080 and XRoad validation service starts up on port 8081. Easiest way to test out validation is run SiVa demo application.</p> <p>Start the SiVa Demo Application</p> <pre><code>./target/siva-demo-application-3.1.0.jar\n</code></pre> <p>Now point Your browser to URL: http://localhost:9000</p>"},{"location":"siva/v2/systemintegrators_guide/#option-2-running-webapps-as-systemd-services","title":"OPTION 2 - running webapps as systemd services","text":"<p>Maven build generates executable JAR files. This means web container and all its dependencies are package inside single JAR file. It makes a lot easier to deploy it into servers.</p> <p>Easiest option to setup SiVa is as <code>systemd</code> service in Ubuntu servers.</p> <p>For that we first need to create service file:</p> <pre><code>vim siva-webapp.service\n</code></pre> <p>Inside it we need to paste below text. You need to change few things in service setup file.</p> <ul> <li>First you must not run service as <code>root</code>. So it's strongly recommended to change line <code>User=root</code></li> <li>Second You can change Java JVM options by modifying the <code>JAVA_OPTS</code> inside the <code>siva-webapp.service</code> file.</li> <li>Also You can change the SiVa application configuration options by modifying <code>RUN_ARGS</code> section in file</li> </ul> <pre><code>[Unit]\nDescription=siva-webapp\nAfter=syslog.target\n\n[Service]\nUser=root\nExecStart=/var/apps/siva-webapp.jar\nEnvironment=JAVA_OPTS=-Xmx320m RUN_ARGS=--server.port=80\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Save and close the <code>siva-webapp.service</code> file. Next we need to move <code>siva-webapp-3.1.0.jar</code> into newly created <code>/var/apps</code> directory and rename to JAR file to <code>siva-webapp.jar</code>. match</p> <p>Note</p> <p>The copied JAR filename must match option <code>ExecStart</code> in  <code>siva-webapp.service</code> file</p> <pre><code>sudo mkdir /var/apps\nsudo cp siva-parent/siva-webapp/target/executable/siva-webapp-3.1.0.jar /var/apps/siva-webapp.jar\n</code></pre> <p>Next we need to copy the <code>siva-webapp.service</code> file into <code>/lib/systemd/system</code> directory. Then we are ready to start the <code>siva-webapp</code> service.</p> <pre><code>sudo cp siva-webapp.service /lib/systemd/system\nsudo systemctl start siva-webapp\n</code></pre> <p>Final step of setting up the <code>siva-webapp</code> service is to verify that service started correctly by issuing below command.</p> <pre><code>systemctl status siva-webapp\n</code></pre> <p>It should print out similar to below picture:</p> <pre><code>\u25cf siva-webapp.service - siva-webapp\n   Loaded: loaded (/lib/systemd/system/siva-webapp.service; disabled; vendor preset: enabled)\n   Active: active (running) since Thu 2016-07-21 08:48:14 EDT; 1 day 2h ago\n Main PID: 15965 (siva-webapp.jar)\n    Tasks: 34\n   Memory: 429.6M\n      CPU: 2min 5.721s\n   CGroup: /system.slice/siva-webapp.service\n           \u251c\u250015965 /bin/bash /var/apps/stage/siva-webapp.jar\n           \u2514\u250015982 /usr/bin/java -Dsun.misc.URLClassPath.disableJarChecking=true -Xmx320m -jar /var/apps/stage/siva-webapp.jar\n\nJul 20 03:00:01 siva siva-webapp.jar[15965]:         at eu.europa.esig.dss.tsl.service.TSLParser.getTslModel(TSLParser.java:143)\nJul 20 03:00:01 siva siva-webapp.jar[15965]:         at eu.europa.esig.dss.tsl.service.TSLParser.call(TSLParser.java:129)\nJul 20 03:00:01 siva siva-webapp.jar[15965]:         ... 5 common frames omitted\nJul 20 03:00:01 siva siva-webapp.jar[15965]: 20.07.2016 03:00:01.450 INFO  [pool-3-thread-1] [e.e.e.dss.tsl.service.TSLRepository.sync\nJul 20 03:00:01 siva siva-webapp.jar[15965]: 20.07.2016 03:00:01.450 INFO  [pool-3-thread-1] [e.e.e.dss.tsl.service.TSLRepository.sync\n</code></pre>"},{"location":"siva/v2/systemintegrators_guide/#option-3-deploy-webapps-as-war-files-tomcat-setup-for-legacy-systems","title":"OPTION 3  - deploy webapps as war files (Tomcat setup for legacy systems)","text":"<p>NOTE 1: We do not recommend using WAR deployment option because lack of testing done on different servlet containers also possible container application libraries conflicts</p> <p>NOTE 2: Each SiVa service must be deployed to separate instance of Tomcat to avoid Java JAR library version conflicts.</p> <p>NOTE 3: To limit your webapp request size (this is set automatically when deploying service as jar) one needs to configure the container manually. For example, when using Tomcat 7 or Tomcat 8 - the http connector parameter <code>maxPostSize</code> should be configured with the desired limit.</p> <p>NOTE 4: The war file must be deployed to Tomcat ROOT.</p> <p>First we need to download Tomcat web servlet container as of the writing latest version available in version 7 branch is 7.0.77. We will download it with <code>wget</code></p> <pre><code>wget http://www-eu.apache.org/dist/tomcat/tomcat-7/v7.0.70/bin/apache-tomcat-7.0.70.tar.gz\n</code></pre> <p>Unpack it somewhere:</p> <pre><code>tar xf apache-tomcat-7.0.70.tar.gz\n</code></pre> <p>Now we should build the WAR file. We have created helper script with all the correct Maven parameters.</p> <pre><code>./war-build.sh\n</code></pre> <p>NOTE The script will skip running the integration tests when building WAR files</p> <p>Final steps would be copying built WAR file into Tomcat <code>webapps</code> directory and starting the servlet container.</p> <pre><code>cp siva-parent/siva-webapp/target/siva-webapp-3.1.0.war apache-tomcat-7.0.70/webapps\n./apache-tomcat-7.0.77/bin/catalina.sh run\n</code></pre> <p>IMPORTANT siva-webapp on startup creates <code>etc</code> directory where it copies the TSL validaiton certificates <code>siva-keystore.jks</code>. Default location for this directory is application root or <code>$CATALINA_HOME</code>. To change this default behavior you should set environment variable <code>DSS_DATA_FOLDER</code></p>"},{"location":"siva/v2/systemintegrators_guide/#how-to-set-war-deployed-siva-applicationproperties","title":"How-to set WAR deployed SiVa <code>application.properties</code>","text":"<p>SiVa override properties can be set using <code>application.properties</code> file. The file can locate anywhare in the host system. To make properties file accessible for SiVa you need to create or edit <code>setenv.sh</code> placed inside <code>bin</code> directory.</p> <p>Contents of the <code>setenv.sh</code> file should look like:</p> <pre><code>export CATALINA_OPTS=\"-Dspring.config.location=file:/path/to/application.properties\"\n</code></pre>"},{"location":"siva/v2/systemintegrators_guide/#smoke-testing-your-deployed-system","title":"Smoke testing your deployed system","text":"<p>Step 1. Install HTTPIE <code>httpie</code> is more user friendly version of <code>curl</code> and we will use to verify that SiVa was installed and started correctly on our server.</p> <p>If you have Python and its package manager <code>pip</code> installed. Then You can issue below command:</p> <pre><code>pip install httpie\n</code></pre> <p>Step 2. Download a sample JSON request file.</p> <pre><code>http --download https://raw.githubusercontent.com/open-eid/SiVa/develop/build-helpers/sample-requests/bdoc_pass.json\n</code></pre> <p>Step 3. After successful download issue below command in same directory where you downloaded the file using the command below.</p> <pre><code>http POST http://10.211.55.9:8080/validate &lt; bdoc_pass.json\n</code></pre> <p>Step 4. Verify the output. The output of previous command should look like below screenshot. Look for <code>signatureCount</code> and <code>validSignatureCount</code> they must be equal.</p> <p></p>"},{"location":"siva/v2/systemintegrators_guide/#logging","title":"Logging","text":"<p>By default, logging works on the INFO level and logs are directed to the system console only. Logging functionality is handled by the SLF4J logging facade and on top of the Logback framework. As a result, logging can be configured via the standard Logback configuration file through Spring boot. Additional logging appenders can be added. Consult logback documentation for more details on log file structure.</p> <p>For example, adding application.properties to classpath with the logging.config property</p> <pre><code>logging.config=/path/to/logback.xml\n</code></pre>"},{"location":"siva/v2/systemintegrators_guide/#statistics","title":"Statistics","text":"<p>For every report validated, a statistical report is composed that collects the following data:</p> Data Description Validation duration The time it takes to process an incoming request - measured in milliseconds Container type Container type ( text value that identifies the signature type of the incoming document: ASiC-E, XAdES, PAdES or ASiC-E (BatchSignature) ) Siva User ID String (Text data that contains the SiVa user identifier for reports (from the HTTP x-authenticated-user header) or <code>N/A</code>) Total signatures count The value of the <code>signaturesCount</code> element in the validation report Valid signatures count The value of the <code>validSignaturesCount</code> element in the validation report Signature validation indication(s) Values of elements signatures/indication and signatures/subindication from the validation report. <code>indication[/subindication]</code> Signature country/countries Country code extracted from the signer certs. The ISO-3166-1 alpha-2 country code that is associated with signature (the signing certificate). Or constant string \"XX\" if the country cannot be determined. Signature format(s) Values of element signatures/signatureFormat from the validation report.  <p>There are two channels where this information is sent:</p> <ol> <li> <p>Log feeds (at INFO level) which can be redirected to files or to a syslog feed.</p> </li> <li> <p>Google Analytics service (as GA events). Turned off by default. See Configuration parameters for further details.</p> </li> </ol> <p>The format and events are described in more detail in SiVa_statistics.pdf</p>"},{"location":"siva/v2/systemintegrators_guide/#monitoring","title":"Monitoring","text":"<p>SiVa webapps provide an endpoint for external monitoring tools to periodically check the generic service health status.</p> <p>Note</p> <p>Note that this endpoint is disabled by default.</p> <p>The url for accessing JSON formatted health information with HTTP GET is <code>/monitoring/health</code> or <code>/monitoring/health.json</code>. See the Interfaces section for response structure and details.</p> <ul> <li>Enabling and disabling the monitoring endpoint</li> </ul> <p>To enable the endpoint, use the following configuration parameter:</p> <pre><code>endpoints.health.enabled=true\n</code></pre> <ul> <li>Customizing external service health indicators</li> </ul> <p>The endpoint is implemented as a customized Spring boot health endpoint, which allows to add custom health indicators.</p> <p>Demo webapp and Siva webapp also include additional information about the health of their dependent services. These links to dependent web services have been preconfigured. For example, the Demo webapp is preset to check whether the Siva webapp is accessible from the following url (parameter <code>siva.service.serviceHost</code> value)/monitoring/health and the Siva webapp verifies that the X-road validation service webapp is accessible by checking the default url (configured by parameter <code>siva.proxy.xroadUrl</code> value)/monitoring/health url.</p> <p>However, using the following parameters, these links can be overridden:</p> Property Description endpoints.health.links[index].name A short link name <ul><li>Default: N/A</li></ul> endpoints.health.links[index].url URL to another monitoring endpoint that produces Spring boot health endpoint compatible JSON object as a response to HTTP GET. <ul><li>Default: N/A</li></ul> endpoints.health.links[index].timeout Connection timeout (in milliseconds)<ul><li>Default: N/A</li></ul> <p>For example:</p> <pre><code>endpoints.health.links[0].name=linkToXroad\nendpoints.health.links[0].url=http://localhost:7777/monitoring/health\nendpoints.health.links[0].timeout=1000\n</code></pre> <p>Note</p> <p>The external link configuration must be explicitly set when the monitoring service on the target machine is configured to run on a different port as the target service itself(ie using the  <code>management.port</code> option in configuration) .</p>"},{"location":"siva/v2/systemintegrators_guide/#configuration-parameters","title":"Configuration parameters","text":"<p>All SiVa webapps have been designed to run with predetermined defaults after building and without additional configuration. However, all the properties can be overridden on the service or embedded web server level, if necessary.</p> <p>By default, the service loads it's global configuration from the application.yml file that is packaged inside the jar file. Default configuration parameters can be overridden by providing custom application.yml in the following locations, or using command line parameters or by using other externalized configuration methods methods.</p> <p>For example, to configure the embedded Tomcat web server inside a fat jar to run on different port (default is 8080), change the server.port following property:</p> <pre><code>server.port=8080\n</code></pre> <p>Or to increase or modify the default http request limit, override the server.max-http-post-size property:</p> <pre><code>server.max-http-post-size: 13981016\n</code></pre> <p>See the reference list of all common application properties provided by Spring boot</p>"},{"location":"siva/v2/systemintegrators_guide/#siva-webapp-parameters","title":"Siva webapp parameters","text":"<ul> <li>Updating TSL</li> </ul> Property Description siva.tsl.loader.loadFromCache A boolean value that determines, whether the TSL disk cache is updated by downloading a new TSL in a predetermined intervalNote that the cache is by default stored in a system temporary folder (can be set with system property <code>java.io.tmpdir</code>) in a subdirectory named <code>dss_cache_tsl</code><ul><li>When set to false the cache is refreshed periodically by SiVa in a predetermined interval specified by <code>siva.tsl.loader.schedulerCron</code> using <code>siva.tsl.loader.url</code></li><li>When set to true the siva uses existing cache as it's TSL. No direct polling for updates are performed. </li><li>Default: false</li></ul> siva.tsl.loader.url A url value that points to the external TSL <ul><li>Default: https://ec.europa.eu/tools/lotl/eu-lotl.xml</li></ul> siva.tsl.loader.code Sets the LOTL code in DSS <ul><li>Default: EU</li></ul> siva.tsl.loader.schedulerCron A string in a Crontab expression format that defines the interval at which the TSL renewal process is started. The default is 03:00 every day (local time) <ul><li>Default: 0 0 3 * * ?</li></ul> siva.keystore.type Keystore type. Keystore that contains public keys to verify the signed TSL <ul><li>Default: JKS</li></ul> siva.keystore.filename Keystore that contains public keys to verify the signed TSL <ul><li>Default: siva-keystore.jks</li></ul> siva.keystore.password Keystore password. Keystore that contains public keys to verify the signed TSL <ul><li>Default: siva-keystore-password</li></ul> <p>Note</p> <p>Note that the keystore file location can be overriden using environment variable <code>DSS_DATA_FOLDER</code>. By default the keystore file location, is expected to be on local filesystem in <code>etc</code> directory which is at the same level with the fat jar file (one is created, if no such directory exists).</p> <p>Note</p> <p>TSL is currently used only by PDF and BDOC validators</p> <ul> <li>Forward to custom X-road webapp instance</li> </ul> Property Description siva.proxy.xroadUrl A URL where the X-Road validation requests are forwarded <ul><li>Default: http://localhost:8081</li></ul> <ul> <li>Collecting statistics with Google Analytics</li> </ul> Property Description siva.statistics.google-analytics.enabled Enables/disables the service <ul><li>Default: false</li></ul> siva.statistics.google-analytics.url Statistics endpoint URL <ul><li>Default: http://www.google-analytics.com/batch</li></ul> siva.statistics.google-analytics.trackingId The Google Analytics tracking ID <ul><li>Default: UA-83206619-1</li></ul> siva.statistics.google-analytics.dataSourceName Descriptive text of the system <ul><li>Default: SiVa</li></ul> <ul> <li>BDOC validation parameters</li> </ul> Property Description siva.bdoc.digidoc4JConfigurationFile Path to Digidoc4j configuration override <ul><li>Default: N/A</li></ul> <p>Customizing BDOC validation policies</p> Property Description siva.bdoc.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.bdoc.signaturePolicy.policies[0].name=POLv1\nsiva.bdoc.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.bdoc.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv1\nsiva.bdoc.signaturePolicy.policies[0].constraintPath=bdoc_constraint_no_type.xml\n\nsiva.bdoc.signaturePolicy.policies[1].name=POLv2\nsiva.bdoc.signaturePolicy.policies[1].description=Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\nsiva.bdoc.signaturePolicy.policies[1].url=http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv2\nsiva.bdoc.signaturePolicy.policies[1].constraintPath=bdoc_constraint_qes.xml\n\nsiva.bdoc.signaturePolicy.defaultPolicy=POLv1\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p> <ul> <li>PadES validation - customize validation policies</li> </ul> Property Description siva.pdf.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.pdf.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.pdf.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.pdf.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.pdf.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.pdf.signaturePolicy.policies[0].name=POLv1\nsiva.pdf.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.pdf.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv1\nsiva.pdf.signaturePolicy.policies[0].constraintPath=pdf_constraint_no_type.xml\n\nsiva.pdf.signaturePolicy.policies[1].name=POLv2\nsiva.pdf.signaturePolicy.policies[1].description=Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\nsiva.pdf.signaturePolicy.policies[1].url=http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv2\nsiva.pdf.signaturePolicy.policies[1].constraintPath=pdf_constraint_qes.xml\n\nsiva.pdf.signaturePolicy.defaultPolicy=POLv1\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p> <ul> <li>DDOC validation</li> </ul> Property Description siva.ddoc.jdigidocConfigurationFile Path to JDigidoc configuration file. Determines the Jdigidoc configuration parameters (see JDigidoc manual for details.<ul><li>Default: /siva-jdigidoc.cfg</li></ul> <p>Customizing DDOC validation policies:</p> Property Description siva.ddoc.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.ddoc.signaturePolicy.policies[0].name=POLv1\nsiva.ddoc.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.ddoc.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv1\nsiva.ddoc.signaturePolicy.policies[0].constraintPath=pdf_constraint_no_type.xml\n\nsiva.ddoc.signaturePolicy.policies[1].name=POLv2\nsiva.ddoc.signaturePolicy.policies[1].description=Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\nsiva.ddoc.signaturePolicy.policies[1].url=http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv2\nsiva.ddoc.signaturePolicy.policies[1].constraintPath=pdf_constraint_qes.xml\n\nsiva.ddoc.signaturePolicy.defaultPolicy=POLv1\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p>"},{"location":"siva/v2/systemintegrators_guide/#x-road-validation-webapp-parameters","title":"X-road validation webapp parameters","text":"<ul> <li>X-road validation</li> </ul> Property Description siva.xroad.validation.service.configurationDirectoryPath Directory that contains the certs of approved CA's, TSA's and list of members <ul><li>Default: /verificationconf</li></ul> Property Description siva.ddoc.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.ddoc.signaturePolicy.policies[0].name=POLv1\nsiva.ddoc.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.ddoc.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv1\nsiva.ddoc.signaturePolicy.policies[0].constraintPath=pdf_constraint_no_type.xml\n\nsiva.ddoc.signaturePolicy.defaultPolicy= POLv1\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p> <p>Note</p> <p>By default, X-road validation currently supports only POLv1</p>"},{"location":"siva/v2/systemintegrators_guide/#demo-webapp-parameters","title":"Demo webapp parameters","text":"<ul> <li>Linking to SiVa webapp</li> </ul> Property Description siva.service.serviceHost An HTTP URL link to the Siva webapp <ul><li>Default: http://localhost:8080</li></ul> siva.service.jsonServicePath Service path in Siva webapp to access the REST/JSON API<ul><li>Default: /validate</li></ul> siva.service.soapServicePath Service path in Siva webapp to access the SOAP API <ul><li>Default: /soap/validationWebService/validateDocument</li></ul>"},{"location":"siva/v2/systemintegrators_guide/#faq","title":"FAQ","text":"<p>Q: SiVa webapp API-s require that you specify the document type? Is it possible to detect the container/file type automatically based on the provided file.</p> <p>A: There is a demo webapp that provides a reference solution. See <code>ee.openeid.siva.sample.siva.ValidationRequestUtils</code> for reference.</p>"},{"location":"siva/v2/use_cases/","title":"10.3.2 Use cases","text":""},{"location":"siva/v2/use_cases/#digitally-signed-document-validation-process","title":"Digitally signed document validation process","text":"<p>Digitally signed document validation process shows how SiVa chooses validation service and possible output of validation process.</p> <p></p> <p>User of SiVa system provides digitally signed document file in form of Base64 encoded string. The validation of file and validation policy is handled by validation services underlying libraries.</p> <ul> <li>In case of PDF file it will be DSS</li> <li>For BDOC and DDOC files we will use DigiDoc4J or when required jDigiDoc</li> <li>And for X-Road signatures we will use X-road signature validation utility</li> </ul> <p>We will log following failure cases: When file upload fails (request started but was not completed successfully) When request validation (JSON or SOAP) fails When user authentication fails - not shown in diagram above When signature validation fails \u2013 not shown in diagram above When increasing of request count fails \u2013 not shown in diagram above</p>"},{"location":"siva/v2/use_cases/#certificate-loading-process","title":"Certificate loading process","text":"<p>All validation services require certificates to validate digitally signed documents. Below process shows how certificates are loaded into validation service. Loading process is done separably for each validation service.</p> <p></p> <p>Certificate loading process is scheduled cron job inside each validation service to update currently in memory loaded certificates.</p> <p>This process should run after TSL loader has completed updating SiVa local copy of certificates.</p>"},{"location":"siva/v2/use_cases/#x-road-6-security-server-soap-request-process","title":"X-Road 6 security server SOAP request process","text":"<p>X-Road validation process is brought out because we skip authentication process for X-Road security server interface and and use XML SOAP as input source.</p> <p></p> <p>Validation of SOAP request XML is done in the SiVa web application module. Document validation process is described in detail in Digitally signed document validation process Validation report output id described in Interface description</p>"},{"location":"siva/v2/use_cases/#tsl-loading-use-case","title":"TSL loading use case","text":"<p>TSL implementd in seprate module. The process is executed in two ways.</p> <ul> <li>When SiVa application is started</li> <li>As scheduled job</li> </ul> <p>Loading process is required action when ASiCE (BDOC) or</p> <p></p>"},{"location":"siva/v2/use_cases/#ddoc-data-file-extraction-process","title":"DDOC data file extraction process","text":"<p>DDOC data file extraction process shows how SiVa extracts data file(s) from container and possible output of data file extraction.</p> <p></p> <p>User of SiVa system provides digitally signed DDOC file in form of Base64 encoded string. The extraction of data files is handled by underlying JDigiDoc library.</p> <p>We will log following failure cases: When file upload fails (request started but was not completed successfully) When request validation (JSON or SOAP) fails.</p>"},{"location":"siva2/component_diagram/","title":"Component diagram","text":""},{"location":"siva2/component_diagram/#web-api","title":"Web API","text":"<p>Web API is standard Spring Boot Web application module inside SiVa webapp it will take in JSON or SOAP requests sent by systems that are integrated with SiVa web service API. The incoming requests will be converted to SiVa Proxy Module Java request objects. Web API module also does basic validation of incoming requests. Checking that all the required fields are present and document type is correct.</p> <p>When validation has been completed by proxy selected validation service the returned qualified validation report Java object will be marshalled based on incoming request to JSON or SOAP and returned to client that requested the validation.</p>"},{"location":"siva2/component_diagram/#external-configuration-resources","title":"External configuration resources","text":"<ul> <li>Optionally SiVa webapp can load in configuration file (i.e application.yml) at application startup time.   Configuration file can control Spring Boot configuration options in addition to SiVa application   specific options.</li> <li>Optionally SiVa webapp can also load in logging configuration options</li> </ul>"},{"location":"siva2/component_diagram/#validation-proxy-service","title":"Validation proxy service","text":"<p>Validation proxy service or validation service selector is Spring Boot module that will take the Web API sent request object and try to find matching validation service based on the <code>documentType</code>inside the request object. When matching validation service have been found the proxy request is converted to validation request and sent to matched validation service.</p> <p>When no matching validation service has not been found exception is raised and error object is returned to Web API module. On successful validation the qualified validation report Java object sent from validation service is returned to Web API module.</p> <p>Note</p> <p>Validation services can be added dynamically to SiVa by conforming to pattern <code>documentType + \"ValidationService\"</code> and new validation service module must be Maven dependency of <code>siva-validation-proxy</code>. Example would be <code>BDOCValidationService</code>.</p>"},{"location":"siva2/component_diagram/#validation-reporting-service","title":"Validation reporting service","text":"<p>Validation reporting service is optional module that can be turned on or off using configuration file. It's Spring Boot module and main purpose is to collect data about: incoming request, validation reports and errors that have been reported during validation process.</p> <p>When HTTP authentication header have been set the reporting service will also collect its and adds to required statistics reports.</p> <p>After the report object have been created the data will be sent to configured reporting service. SiVa is preconfigured to work with Google Analytics.</p>"},{"location":"siva2/component_diagram/#tsl-loader","title":"TSL Loader","text":"<p>TSL loader loads in contents of TSL file from given URL in online mode or from directory when using offline mode in predefined interval.</p>"},{"location":"siva2/component_diagram/#validation-services","title":"Validation services","text":"<p>All validation services use different Java library to validate given document in request. The used validation library is described in each of the validation service section.</p> <p>Common process that all validation services do with proxy forwarded validation process is:</p> <ul> <li>Convert the Base64 encoded document into <code>InputStream</code> byte array</li> <li>Check that given document is correct format (i.e valid BDOC). If not then error is thrown and   validation process is terminated.</li> <li>After validation of signatures has been completed the validation service starts to build   qualified validation report</li> <li>Validation report is created even validation <code>FAILED</code> or ended with <code>INDETERMINATE</code> result</li> </ul>"},{"location":"siva2/component_diagram/#pdf-validation-service","title":"PDF Validation service","text":"<p>PDF or PaDES as known in DSS validation service uses Digidoc4J DSS fork Java library PaDES validation functionality using the validation policy that complies with Estonian laws and regulations.</p> <p>Configurable functionality:</p> <ul> <li>Possibility to add additional validation policies using SiVa <code>application.yml</code> configuration section.</li> </ul>"},{"location":"siva2/component_diagram/#bdoc-validation-service","title":"BDOC validation service","text":"<p>BDOC for ASiC compliant containers both TM and TS will latest Maven released DigiDoc4J library</p>"},{"location":"siva2/component_diagram/#ddoc-validation-service","title":"DDOC Validation service","text":"<p>DDOC for previous generation digitally signed files will use latest Maven release of JDigiDoc</p>"},{"location":"siva2/component_diagram/#x-road-validation-service","title":"X-Road validation service","text":"<p>X-Road containers are similar to ASiCE containers but are not valid ASiCE containers. There we could not use DSS nor DigiDoc4J provided ASiCE validation functionality but need to X-Road developed <code>asicverifier</code> Java command line utility to validate these containers.</p> <p>Source code for <code>asicverifier</code> can be found in GitHub xroad-public repository*[]: <code>Asicverfier</code> has been integrated into SiVa as Java library. Making possible to use all the Java libraries packaged into <code>asicverifier</code> fat JAR.</p> <p>Configurable functionality:</p> <ul> <li>In SiVa configuration <code>application.yml</code> file You can define alternative location for <code>globalconf</code> directory to be loaded in using input stream</li> </ul>"},{"location":"siva2/definitions/","title":"9.1. DEFINITIONS","text":"BDOC A digital signature format that was created in order to replace the DDOC (DigiDoc) digital signature format that is specific to Estonia. DDOC A format of digitally signed files based on the ETSI TS 101 903 Standard that is called \u2018XML Advanced Electronic Signatures (XAdES)\u2019. The standard describes the structure of digitally signed documents on various levels of incorporation of additional validity verification information. DigiDoc corresponds to the XAdES profile \u2018XAdES-X-L\u2019. DSS Digital Signature Services is Java library to sign and validate European digital signature formats Fat JAR The fat JAR is the JAR, which contains classes from all the libraries, on which your project depends and,   the classes of built project. JAR Java Archive is a package file format typically used to aggregate many Java class files and associated metadata   and resources (text, images, etc.) into one file to distribute application software or libraries on the Java platform. JVM The Java Virtual Machine is the runtime engine of the Java Platform, which   allows any program written in Java or other language compiled into Java bytecode to run on any   computer that has a native JVM. Linux an operating system, based on UNIX, that runs on many different hardware platforms and whose source   code is available to the public. PDF Portable document format is a file format that provides an electronic image of text or text and graphics that   looks like a printed document and can be viewed, printed, and electronically transmitted. SiVa is RESTful web service providing digital signature validation services for BDOC, DDOC, PDF and X-Road   files Spring Boot is a framework from the team at Pivotal, designed to simplify the bootstrapping and development of a new   Spring application. The framework takes an opinionated approach to configuration, freeing developers from the   need to define boilerplate configuration X-Road X-Road, the data exchange layer for information systems, is a technological and organizational environment enabling a secure Internet-based data exchange between information systems."},{"location":"siva2/deployment/","title":"9.5.1 Deployment model","text":"<p>The deployment view of the architecture describes the various physical nodes in the most typical configuration for SiVa service provider.</p> <p></p>"},{"location":"siva2/deployment/#nodes","title":"Nodes","text":"<p>In the following section, a description of each network node element is described in detail.</p> Node Setup description Load balancer server Load balancer distributes traffic between SiVa server nodes when there is more than one Siva server instance running. SiVa does not set any specific requirements for load balancer. As an example, the nginx reverse proxy is used. Siva server Two separate services are set up to run on SiVa server: the SiVa webapp itself and the X-road validation webapp, to provide X-road support<ul><li>SiVa webapp</li></ul>SiVa web appliction is executable Spring Boot JAR file. This means all the dependencies and servlet containers are packaged inside single JAR file. The JAR file can be placed anywhere in server and the JAR must be marked executable if its not already.There also should be separate user created to run executalbe JAR as Linux service.Read more about running Spring Boot applications as Linux system service<ul><li>X-road validation webapp</li></ul>SiVa X-Road validation service is also Spring Boot executable JAR application and also should be installed as Linux service. X-Road validation service communicates with SiVa web application over HTTP and default port is 8081Note that X-Road separate installation is required to avoid BouncyCastle library version conflicts and class loader issues. X-road security server A standard X-road security server setup. The SiVa validation service wsdl has to be registered to provide service to other organisations using XRoad infrastructure. Setting up XRoad Security server is out of scope for SiVa documentaton (see the official installation instructions). Demo server Demo server hosts the Demo webapp provided within SiVa project as a reference client implementation. <ul><li>Demo webapp - single Java web application that provides a simple form to upload and validate a signed file in Siva webapp. Demo webapp serves as a tool for evaluating and testing the validation service. </li></ul>"},{"location":"siva2/deployment/#horizontal-scaling","title":"Horizontal scaling","text":"<p>Neither the Siva webapp, X-road validation webapp, nor Demo wbapp persist their state in sessions between requests. Therefore it is possible to install multiple instances of these services behind respective load balancers.</p>"},{"location":"siva2/deployment_view/","title":"Deployment view","text":""},{"location":"siva2/deployment_view/#load-balancer","title":"Load balancer","text":"<p>Load balancer can distribute traffic between SiVa nodes when there is more then one instance running. SiVa do not set any specific requirements for load balancer but in diagram the Nginx reverse proxy option is used.</p>"},{"location":"siva2/deployment_view/#siva-web-application","title":"SiVa web application","text":"<p>SiVa web appliction is executable Spring Boot JAR file. This means all the dependencies and servlet containers are packaged inside single JAR file. The JAR file can be placed anywhere in server and the JAR must be marked executable if its not already.</p> <p>There also should be separate user created to run executalbe JAR as Linux service.</p> <p>Read more about running Spring Boot applications as Linux system service</p>"},{"location":"siva2/deployment_view/#siva-x-road-validation-service","title":"SiVa X-Road validation service","text":"<p>SiVa X-Road validation service is also Spring Boot executable JAR application and also should be installed as Linux service. X-Road validation service communicates with SiVa web application over HTTP and default port is 8081</p> <p>X-Road separate installation is required to avoid BouncyCastle libraries version conflicts and class loader issues.</p>"},{"location":"siva2/deployment_view/#security-server","title":"Security server","text":"<p>Into XRoad v6 security server the SiVa validation service will be registered to provide service to other organisations using XRoad infrastructure. Setting up XRoad Security server is out of scope for SiVa documentaiton.</p>"},{"location":"siva2/interfaces/","title":"9.4. INTERFACES","text":"<p>In this section the SiVa external interfaces are described. For information of internal components and their interfaces, please refer to Structure and activities.</p> <p>SiVa service provides REST JSON and SOAP interfaces that enable the service users to:</p> <ul> <li>Request validation of signatures in a digitally signed document (i.e. signature container like BDOC,ASiC-E/PDF/...);</li> <li>Request validation of signature with providing data file hashes.</li> <li>Receive a response with the validation result of all the signatures in the document.</li> <li>Request datafiles inside of DDOC container</li> <li>Receive datafiles from DDOC container</li> </ul> <p>SiVa service SOAP interface supports X-Road v6. However, it is optional whether to integrate SiVa service using X-Road or using \"plain\" SOAP interface. This document only describes the SiVa service part of the interface, for the X-Road specifics visit Riigi Infos\u00fcsteemi Amet webpage.</p> <p>In the following subsections, the SiVa validation request and response interfaces are described in detail. </p>"},{"location":"siva2/interfaces/#validation-request-interface","title":"Validation request interface","text":"<p>** REST JSON Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/validate\n</code></pre> <p>** SOAP Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/soap/validationWebService/validateDocument\n</code></pre> <p>** SOAP WSDL **</p> <pre><code>POST https://&lt;server url&gt;/soap/validationWebService/validateDocument?wsdl\n</code></pre>"},{"location":"siva2/interfaces/#validation-request-parameters","title":"Validation request parameters","text":"<p>Validation request parameters for JSON and SOAP interfaces are described in the table below. Data types of SOAP parameters are defined in the SiVa WSDL document.</p> JSON parameter SOAP parameter Mandatory JSON data type Description document Document + String Base64 encoded string of digitally signed document to be validated filename Filename + String File name of the digitally signed document (i.e. sample.bdoc), max length 255 characters. documentType DocumentType - String If not present document type is determined automatically based on the file extension used in the filename. This parameter is necessary to differentiate XROAD ASIC-E containers from standard ASIC-E containers.  Possible values:  XROAD - for documents created in the X-Road information system, see also specification document of the signature format. signaturePolicy SignaturePolicy - String Can be used to change the default signature validation policy that is used by the service.  See also SiVa Validation Policy for more detailed information on given policy constraints.Possible values:  POLv3 - signatures with all legal levels are accepted (i.e. QES, AdESqc and AdES, according to Regulation (EU) No 910/2014.)  POLv4 - the default policy. Accepted signatures depend on their type (i.e. signature, seal or unknown) and legal level (i.e. QES, AdESqc and Ades) reportType ReportType - String Can be used to change the default returned report type. Possible values:  Simple - default report type. Returns overall validation result (validationConclusion block) Detailed -  returns detailed information about the signatures and their validation results (validationConclusion, validationProcess and validationReportSignature. Two later ones are optionally present)."},{"location":"siva2/interfaces/#sample-json-request-with-mandatory-parameters","title":"Sample JSON request with mandatory parameters","text":"<pre><code>{\n  \"filename\":\"sample.bdoc\",\n  \"document\":\"PD94bWwgdmVyc2lvbj0iMS4....\"\n}\n</code></pre>"},{"location":"siva2/interfaces/#sample-json-request-with-all-parameters","title":"Sample JSON request with all parameters","text":"<pre><code>{\n  \"filename\":\"sample.asice\",\n  \"document\":\"PD94bWwgdmVyc2lvbj0iMS4....\",\n  \"documentType\":\"XROAD\",\n  \"signaturePolicy\":\"POLv3\",\n  \"reportType\":\"Detailed\"\n}\n</code></pre>"},{"location":"siva2/interfaces/#sample-soap-request","title":"Sample SOAP request","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;ns2:ValidateDocument xmlns:ns2=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n      &lt;ns2:ValidationRequest&gt;\n        &lt;Document&gt;PD94bWwgdmVyc2lvbj0iMS4....&lt;/Document&gt;\n        &lt;Filename&gt;sample.asice&lt;/Filename&gt;\n        &lt;DocumentType&gt;XROAD&lt;/DocumentType&gt;\n        &lt;SignaturePolicy&gt;POLv3&lt;/SignaturePolicy&gt;\n        &lt;ReportType&gt;Detailed&lt;/ReportType&gt;\n      &lt;/ns2:ValidationRequest&gt;\n    &lt;/ns2:ValidateDocument&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva2/interfaces/#validation-request-interface-for-hashcode","title":"Validation request interface for hashcode","text":"<p>Hashcode XAdES validation is supported for REST JSON and SOAP interfaces.</p> <p>** REST JSON Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/validateHashcode\n</code></pre> <p>** SOAP Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/soap/hashcodeValidationWebService\n</code></pre> <p>** SOAP WSDL **</p> <pre><code>POST https://&lt;server url&gt;/soap/hashcodeValidationWebService?wsdl\n</code></pre>"},{"location":"siva2/interfaces/#validation-request-parameters_1","title":"Validation request parameters","text":"<p>Validation request parameters for JSON interface are described in the table below.</p> JSON parameter SOAP parameter Mandatory JSON data type Description signatureFile SignatureFile + String Base64 encoded string of XAdES document to be validated filename Filename + String File name of the XAdES document (i.e. signature0.xml). Only XML files supported. signaturePolicy SignaturePolicy - String Can be used to change the default signature validation policy that is used by the service.  See also SiVa Validation Policy for more detailed information on given policy constraints.Possible values:  POLv3 - signatures with all legal levels are accepted (i.e. QES, AdESqc and AdES, according to Regulation (EU) No 910/2014.)  POLv4 - the default policy. Accepted signatures depend on their type (i.e. signature, seal or unknown) and legal level (i.e. QES, AdESqc and Ades) reportType ReportType - String Can be used to change the default returned report type. Possible values:  Simple - default report type. Returns overall validation result (validationConclusion block) Detailed -  returns detailed information about the signatures and their validation results (validationConclusion, validationProcess and validationReportSignature. Two later ones are optionally present). datafiles DataFiles + Array Array containing the information for datafiles that signature is covering datafiles[0] DataFile + Object Object containing data file information datafiles.filename Filename + String File name of the hashed data file, max length 255 characters. datafiles.hashAlgo HashAlgo + String Hash algorithm used for hashing the data file (must match with algorithm in signature file). Accepted values are dependant of validation policy datafiles.hash Hash + String Data file hash in Base64 encoded format."},{"location":"siva2/interfaces/#sample-json-request-with-mandatory-parameters_1","title":"Sample JSON request with mandatory parameters","text":"<pre><code>{\n  \"signatureFile\": \"PD94bWwgdmVyc2lvbj0iMS4....\"\n  \"filename\": \"signature0.xml\",\n  \"datafiles\": [{\n    \"filename\": \"test.pdf\",\n    \"hashAlgo\": \"SHA256\",\n    \"hash\": \"IucjUcbRo9Rke0bZLiHcwiIiplP9pSrSPr7LKln1EiI=\"\n  }]\n}\n</code></pre>"},{"location":"siva2/interfaces/#sample-json-request-with-all-parameters-and-multiple-datafiles","title":"Sample JSON request with all parameters and multiple datafiles","text":"<pre><code>{\n  \"signatureFile\":\"sample.asice\",\n  \"filename\":\"PD94bWwgdmVyc2lvbj0iMS4....\",\n  \"signaturePolicy\":\"POLv3\",\n  \"reportType\":\"Detailed\",\n  \"datafiles\": [{\n      \"filename\": \"test.pdf\",\n      \"hashAlgo\": \"SHA256\",\n      \"hash\": \"IucjUcbRo9Rke0bZLiHcwiIiplP9pSrSPr7LKln1EiI=\"\n      },\n      {\n      \"filename\": \"test2.pdf\",\n      \"hashAlgo\": \"SHA256\",\n      \"hash\": \"IucjUcbRo9Rke0bZLiHc23SSasw9pSrSPr7LKln1EiI=\"\n  }]\n}\n</code></pre>"},{"location":"siva2/interfaces/#sample-soap-request-with-mandatory-parameters","title":"Sample SOAP request with mandatory parameters","text":"<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:soap=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n   &lt;soapenv:Body&gt;\n      &lt;soap:HashcodeValidationDocument&gt;\n         &lt;soap:HashcodeValidationRequest&gt;\n            &lt;SignatureFile&gt;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGlu...&lt;/SignatureFile&gt;\n            &lt;Filename&gt;signature.xml&lt;/Filename&gt;\n            &lt;DataFiles&gt;\n               &lt;DataFile&gt;\n                  &lt;Filename&gt;test.pdf&lt;/Filename&gt;\n                  &lt;HashAlgo&gt;SHA256&lt;/HashAlgo&gt;\n                  &lt;Hash&gt;IucjUcbRo9Rke0bZLiHcwiIiplP9pSrSPr7LKln1EiI=&lt;/Hash&gt;\n               &lt;/DataFile&gt;\n            &lt;/DataFiles&gt;\n         &lt;/soap:HashcodeValidationRequest&gt;\n      &lt;/soap:HashcodeValidationDocument&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>"},{"location":"siva2/interfaces/#sample-soap-request-with-all-parameters-and-multiple-datafiles","title":"Sample SOAP request with all parameters and multiple datafiles","text":"<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:soap=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n   &lt;soapenv:Body&gt;\n      &lt;soap:HashcodeValidationDocument&gt;\n         &lt;soap:HashcodeValidationRequest&gt;\n            &lt;SignatureFile&gt;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGlu...&lt;/SignatureFile&gt;\n            &lt;Filename&gt;signature.xml&lt;/Filename&gt;\n            &lt;ReportType&gt;Simple&lt;/ReportType&gt;\n            &lt;SignaturePolicy&gt;POLv4&lt;/SignaturePolicy&gt;\n            &lt;DataFiles&gt;\n               &lt;DataFile&gt;\n                  &lt;Filename&gt;test.pdf&lt;/Filename&gt;\n                  &lt;HashAlgo&gt;SHA256&lt;/HashAlgo&gt;\n                  &lt;Hash&gt;IucjUcbRo9Rke0bZLiHcwiIiplP9pSrSPr7LKln1EiI=&lt;/Hash&gt;\n               &lt;/DataFile&gt;\n               &lt;DataFile&gt;\n                  &lt;Filename&gt;test2.pdf&lt;/Filename&gt;\n                  &lt;HashAlgo&gt;SHA256&lt;/HashAlgo&gt;\n                  &lt;Hash&gt;IucjUcbRo9Rke0bZLiHcwiIiplP9pSrSPr7LKln1EiI=&lt;/Hash&gt;\n               &lt;/DataFile&gt;\n               &lt;DataFile&gt;\n                  &lt;Filename&gt;test3.pdf&lt;/Filename&gt;\n                  &lt;HashAlgo&gt;SHA256&lt;/HashAlgo&gt;\n                  &lt;Hash&gt;IucjUcbRo9Rke0bZLiHcwiIiplP9pSrSPr7LKln1EiI=&lt;/Hash&gt;\n               &lt;/DataFile&gt;\n            &lt;/DataFiles&gt;\n         &lt;/soap:HashcodeValidationRequest&gt;\n      &lt;/soap:HashcodeValidationDocument&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>"},{"location":"siva2/interfaces/#validation-response-interface","title":"Validation response interface","text":"<p>The signature validation report (i.e. the validation response) for JSON and SOAP interfaces depends on what type of validation report was requested.  Data types of SOAP parameters are defined in the SiVa WSDL document.</p>"},{"location":"siva2/interfaces/#validation-response-parameters-simple-report-successful-scenario","title":"Validation response parameters Simple Report (successful scenario)","text":"<p>General structure of validation response.</p> JSON parameter SOAP parameter Mandatory JSON data type Description validationReport ValidationReport + Object Object containing SIVA validation report validationReport. validationConclusion ValidationReport. ValidationConclusion + Object Object containing information of the validation conclusion <p>Structure of validationConclusion block</p> JSON parameter SOAP parameter Mandatory JSON data type Description policy Policy + Object Object containing information of the SiVa signature validation policy that was used for validation. policy.policyName Policy.PolicyName + String Name of the validation policy policy. policyDescription Policy. PolicyDescription + String Short description of the validation policy. policy.policyUrl Policy.PolicyUrl + String URL where the signature validation policy document can be downloaded. The validation policy document shall include information about validation of all the document formats, including the different validation policies that are used in case of different file formats and base libraries. signaturesCount SignaturesCount + Number Number of signatures found inside digitally signed file. validSignaturesCount ValidSignaturesCount + Number Signatures count that have validated to <code>TOTAL-PASSED</code>. See also <code>Signature.Indication</code> field. validationLevel ValidationLevel - Date Validation process against what the document is validated, only applicable on DSS based validations. Possible values:  ARCHIVAL_DATA validationTime ValidationTime + Date Time of validating the signature by the service. validationWarnings ValidationWarnings - Array Array of SiVa validation warnings that do not affect the overall validation result. See also <code>signatures.warnings</code> parameter. validationWarnings[0] ValidationWarning + Object Object containing the warning. validationWarnings[0]. content ValidationWarning. Content + String Description of the warning. validatedDocument ValidatedDocument + Object Object containing information about validated document. validatedDocument. filename ValidatedDocument. Filename + String Digitally signed document's file name. validatedDocument. fileHashInHex ValidatedDocument. FileHashInHex - String Calculated hash in hex of validated document. validatedDocument. hashAlgo ValidatedDocument. HashAlgo - String Hash algorithm used. signatureForm SignatureForm - String Format (and optionally version) of the digitally signed document container.  In case of documents in DIGIDOC-XML (DDOC) format, the \"hashcode\" suffix is used to denote that the container was validated in hashcode mode, i.e. without original data files.  Possible values:  DIGIDOC_XML_1.0  DIGIDOC_XML_1.0_hashcode  DIGIDOC_XML_1.1  DIGIDOC_XML_1.1_hashcode  DIGIDOC_XML_1.2  DIGIDOC_XML_1.2_hashcode  DIGIDOC_XML_1.3  DIGIDOC_XML_1.3_hashcode  ASiC_E - used in case of all ASIC-E (BDOC) documents and X-Road simple containers that don't use batch time-stamping (see specification document) ASiC_E_batchsignature - used in case of X-Road containers with batch signature (see specification document)  ASiC_S - used in case of all ASIC-S documents signatures Signatures - Array Collection of signatures found in digitally signed document signatures[0] Signature + Object Signature information object signatures[0]. claimedSigningTime Signature. ClaimedSigningTime + Date Claimed signing time, i.e. signer's computer time during signature creation signatures[0].id Signature.Id + String Signature ID attribute signatures[0].indication Signature.Indication + String Overall result of the signature's validation process, according to ETSI EN 319 102-1 \"Table 5: Status indications of the signature validation process\".  Note that the validation results of different signatures in one signed document (signature container) may vary.  See also <code>validSignaturesCount</code> and <code>SignaturesCount</code> fields. Possible values:  TOTAL-PASSED  TOTAL-FAILED  INDETERMINATE signatures[0]. subIndication Signature. SubIndication - String Additional subindication in case of failed or indeterminate validation result, according to ETSI EN 319 102-1 \"Table 6: Validation Report Structure and Semantics\" signatures[0].errors Signature.Errors - Array Information about validation error(s), array of error messages. signatures[0].errors[0] Signature.Errors. Error + Object Object containing the error signatures[0].errors[0].  content Signature.Errors. Error.Content + String Error message, as returned by the base library that was used for signature validation. signatures[0].info Signature.Info - Object Object containing trusted signing time information. signatures[0].info. bestSignatureTime Signature.Info. BestSignatureTime + Date Time value that is regarded as trusted signing time, denoting the earliest time when it can be trusted by the validation application (because proven by some Proof-of-Existence present in the signature) that a signature has existed.The source of the value depends on the signature profile (see also <code>SignatureFormat</code> parameter):- Signature with time-mark (LT_TM level) - the producedAt value of the earliest valid time-mark (OCSP confirmation of the signer's certificate) in the signature.- Signature with time-stamp (LT or LTA level) - the genTime value of the earliest valid signature time-stamp token in the signature.  - Signature with BES or EPES level - the value is empty, i.e. there is no trusted signing time value available. signatures[0]. signatureFormat Signature. SignatureFormat + String Format and profile (according to Baseline Profile) of the signature. See XAdES Baseline Profile, CAdES Baseline Profile and PAdES Baseline Profile for detailed description of the Baseline Profile levels. Levels that are accepted in SiVa validation policy are described in SiVa signature validation policy Possible values:  XAdES_BASELINE_B  XAdES_BASELINE_B_BES  XAdES_BASELINE_B_EPES  XAdES_BASELINE_T  XAdES_BASELINE_LT - long-term level XAdES signature where time-stamp is used as a assertion of trusted signing time XAdES_BASELINE_LT_TM - long-term level XAdES signature where time-mark is used as a assertion of trusted signing time. Used in case of BDOC signatures with time-mark profile and DIGIDOC-XML (DDOC) signatures.  XAdES_BASELINE_LTA  CAdES_BASELINE_B  CAdES_BASELINE_T  CAdES_BASELINE_LT  CAdES_BASELINE_LTA PAdES_BASELINE_B  PAdES_BASELINE_T  PAdES_BASELINE_LT  PAdES_BASELINE_LTA signatures[0]. signatureLevel Signature. SignatureLevel - String Legal level of the signature, according to Regulation (EU) No 910/2014.  - Possible values on positive validation result: QESIG  QESEAL  QES  ADESIG_QC  ADESEAL_QC  ADES_QC  ADESIG  ADESEAL  ADES  - Possible values on indeterminate validation result: prefix INDETERMINATE is added to the level described in positive result. For example  INDETERMINATE_QESIG  - Possible values on negative validation result:In addition to abovementioned NOT_ADES_QC_QSCD  NOT_ADES_QC  NOT_ADES  NA  - In case of DIGIDOC-XML 1.0..1.3 formats, value is missing as the signature level is not checked by the JDigiDoc base library that is used for validation. However, the signatures can be indirectly regarded as QES level signatures, see also SiVa Validation Policy - In case of XROAD ASICE containers the value is missing as the asicverifier base library do not check the signature level. signatures[0].signedBy Signature.SignedBy + String Signers name and identification number, i.e. value of the CN field of the signer's certificate signatures[0]. signatureScopes Signature. SignatureScopes - Array Contains information of the original data that is covered by the signature. signatures[0]. signatureScopes[0]. name Signature. SignatureScopes.  SignatureScope.Name + String Name of the signature scope. signatures[0]. signatureScopes[0]. scope Signature. SignatureScopes.  SignatureScope. Scope + String Type of the signature scope. signatures[0]. signatureScopes[0]. content Signature. SignatureScopes.  SignatureScope. Content + String Description of the scope. signatures[0]. warnings Signature.Warnings - Array Block of validation warnings that do not affect the overall validation result. signatures[0]. warnings[0] Signature.Warnings. Warning + Object Object containing the warning signatures[0]. warnings[0]. content Signature.Warnings. Warning.Description + String Warning description, as retuned by the base library that was used for validation. timeStampTokens TimeStampTokens - Array Array containing the time stamp tokens timeStampTokens[0]. TimeStampToken + Object Object containing the time stamp token (TST) timeStampTokens[0]. indication TimeStampToken. Indication + String Result of the time stamp token validation. Possible values:  TOTAL-PASSED  TOTAL-FAILED timeStampTokens[0]. signedBy TimeStampToken. SignedBy + String Signer of the time stamp token. timeStampTokens[0]. signedTime TimeStampToken. SignedTime + String Time when the time stamp token was given. timeStampTokens[0]. error TimeStampToken. Errors - Array Errors returned in time stamp token validation. timeStampTokens[0]. error[0] Errors. Error + Object Object containing the error. timeStampTokens[0]. error[0]. content Error. Content + String Error description."},{"location":"siva2/interfaces/#sample-json-response-simple-report-successful-scenario","title":"Sample JSON response Simple Report (successful scenario)","text":"<pre><code>{\"validationReport\":\n{\"validationConclusion\": {\n    \"validationTime\": \"2017-11-07T08:14:07Z\",\n    \"signaturesCount\": 1,\n    \"validationLevel\": \"ARCHIVAL_DATA\",\n    \"validatedDocument\": {\n        \"filename\": \"ValidLiveSignature.asice\",\n        \"fileHashInHex\": \"0A805C920603750E0B427C3F25D7B22DCEC183DEF3CA14BE9A2D4488887DD501\",\n        \"hashAlgo\": \"SHA-256\"\n    },\n    \"validSignaturesCount\": 1,\n    \"signatures\": [{\n        \"signatureFormat\": \"XAdES_BASELINE_LT\",\n        \"signedBy\": \"NURM,AARE,38211015222\",\n        \"claimedSigningTime\": \"2016-10-11T09:35:48Z\",\n        \"signatureLevel\": \"QESIG\",\n        \"warnings\": [{\"content\": \"The trusted list is not fresh!\"}],\n        \"signatureScopes\": [{\n            \"scope\": \"FullSignatureScope\",\n            \"name\": \"Tresting.txt\",\n            \"content\": \"Full document\"\n        }],\n        \"id\": \"S0\",\n        \"indication\": \"TOTAL-PASSED\",\n        \"info\": {\"bestSignatureTime\": \"2016-10-11T09:36:10Z\"}\n    }],\n    \"policy\": {\n        \"policyDescription\": \"Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\",\n        \"policyUrl\": \"http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#POLv4\",\n        \"policyName\": \"POLv4\"\n    },\n    \"signatureForm\": \"ASiC_E\"\n}}}\n</code></pre>"},{"location":"siva2/interfaces/#sample-soap-response-simple-report-successful-scenario","title":"Sample SOAP response Simple Report (successful scenario)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;ns2:ValidateDocumentResponse xmlns:ns2=\"http://soap.webapp.siva.openeid.ee/\" xmlns:ns3=\"http://dss.esig.europa.eu/validation/detailed-report\" xmlns:ns4=\"http://x-road.eu/xsd/identifiers\" xmlns:ns5=\"http://x-road.eu/xsd/xroad.xsd\"&gt;\n      &lt;ns2:ValidationReport&gt;\n        &lt;ns2:ValidationConclusion&gt;\n          &lt;Policy&gt;\n            &lt;PolicyDescription&gt;Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.&lt;/PolicyDescription&gt;\n            &lt;PolicyName&gt;POLv4&lt;/PolicyName&gt;\n            &lt;PolicyUrl&gt;http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv4&lt;/PolicyUrl&gt;\n          &lt;/Policy&gt;\n          &lt;ValidationTime&gt;2017-11-07T08:14:07Z&lt;/ValidationTime&gt;\n          &lt;ValidatedDocument&gt;\n            &lt;Filename&gt;ValidLiveSignature.asice&lt;/Filename&gt;\n            &lt;FileHashInHex&gt;0A805C920603750E0B427C3F25D7B22DCEC183DEF3CA14BE9A2D4488887DD501&lt;/FileHashInHex&gt;\n            &lt;HashAlgo&gt;SHA-256&lt;/HashAlgo&gt;\n          &lt;/ValidatedDocument&gt;\n          &lt;ValidationLevel&gt;ARCHIVAL_DATA&lt;/ValidationLevel&gt;\n          &lt;ValidationWarnings/&gt;\n          &lt;SignatureForm&gt;ASiC_E&lt;/SignatureForm&gt;\n          &lt;Signatures&gt;\n            &lt;Signature&gt;\n              &lt;Id&gt;S0&lt;/Id&gt;\n              &lt;SignatureFormat&gt;XAdES_BASELINE_LT&lt;/SignatureFormat&gt;\n              &lt;SignatureLevel&gt;QESIG&lt;/SignatureLevel&gt;\n              &lt;SignedBy&gt;NURM,AARE,38211015222&lt;/SignedBy&gt;\n              &lt;Indication&gt;TOTAL-PASSED&lt;/Indication&gt;\n              &lt;SubIndication/&gt;\n              &lt;Errors/&gt;\n              &lt;SignatureScopes&gt;\n                &lt;SignatureScope&gt;\n                  &lt;Name&gt;Tresting.txt&lt;/Name&gt;\n                  &lt;Scope&gt;FullSignatureScope&lt;/Scope&gt;\n                  &lt;Content&gt;Full document&lt;/Content&gt;\n                &lt;/SignatureScope&gt;\n              &lt;/SignatureScopes&gt;\n              &lt;ClaimedSigningTime&gt;2016-10-11T09:35:48Z&lt;/ClaimedSigningTime&gt;\n              &lt;Warnings&gt;\n                &lt;Warning&gt;\n                  &lt;Content&gt;The trusted list is not fresh!&lt;/Content&gt;\n                &lt;/Warning&gt;\n              &lt;/Warnings&gt;\n              &lt;Info&gt;\n                &lt;bestSignatureTime&gt;2016-10-11T09:36:10Z&lt;/bestSignatureTime&gt;\n              &lt;/Info&gt;\n            &lt;/Signature&gt;\n          &lt;/Signatures&gt;\n          &lt;ValidSignaturesCount&gt;1&lt;/ValidSignaturesCount&gt;\n          &lt;SignaturesCount&gt;1&lt;/SignaturesCount&gt;\n        &lt;/ns2:ValidationConclusion&gt;\n      &lt;/ns2:ValidationReport&gt;\n    &lt;/ns2:ValidateDocumentResponse&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva2/interfaces/#validation-response-parameters-detailed-report-successful-scenario","title":"Validation response parameters Detailed Report (successful scenario)","text":"<p>General structure of validation response.</p> JSON parameter SOAP parameter Mandatory JSON data type Description validationReport ValidationReport + Object Object containing SIVA validation report. validationReport. validationConclusion ValidationReport. ValidationConclusion + Object Object containing information of the validation conclusion. The same object that is present in Simple Report. validationReport. validationProcess ValidationReport. ValidationProcess - Object Object containing information of the validation process. This block is present only on DSS library based validations and is built on DSS detailed report. For more information visit DSS documentation. validationReportSignature ValidationReportSignature - String Base64 string of ASIC-E container that includes the detailed report and is signed by the validation service provider"},{"location":"siva2/interfaces/#sample-json-response-detailed-report-successful-scenario-the-report-is-shortened-but-gives-general-overview-of-structure","title":"Sample JSON response Detailed Report (successful scenario). The report is shortened but gives general overview of structure.","text":"<pre><code>{\n    \"validationReport\": {\n        \"validationProcess\": {\n            \"qmatrixBlock\": {\n                \"tlanalysis\": [{\n                        \"conclusion\": {\"indication\": \"PASSED\"},\n                        \"countryCode\": \"EU\",\n                        \"constraint\": [\n                            {\n                                \"name\": {\n                                    \"nameId\": \"QUAL_TL_FRESH\",\n                                    \"value\": \"Is the trusted list fresh ?\"\n                                },\n                                \"status\": \"OK\"\n                            },\n                         ...\n                        ]\n                    },\n                    {\n                        \"conclusion\": {\"indication\": \"PASSED\"},\n                        \"countryCode\": \"EE\",\n                        \"constraint\": [{\n                                \"name\": {\n                                    \"nameId\": \"QUAL_TL_FRESH\",\n                                    \"value\": \"Is the trusted list fresh ?\"\n                                },\n                                \"status\": \"OK\"\n                            },\n                           ...\n                        ]\n                    }\n                ],\n                \"signatureAnalysis\": [{\n                    \"conclusion\": {\"indication\": \"PASSED\"},\n                    \"signatureQualification\": \"QESIG\",\n                    \"constraint\": [{\n                            \"name\": {\n                                \"nameId\": \"QUAL_IS_ADES\",\n                                \"value\": \"Is the signature/seal an acceptable AdES (ETSI EN 319 102-1) ?\"\n                            },\n                            \"status\": \"OK\"\n                        },\n                      ...\n                    ],\n                    \"id\": \"S0\"\n                }]\n            },\n            \"basicBuildingBlocks\": [{\n                    \"conclusion\": {\"indication\": \"PASSED\"},\n                    \"cv\": {\n                        \"conclusion\": {\"indication\": \"PASSED\"},\n                        \"constraint\": [{\n                                \"name\": {\n                                    \"nameId\": \"BBB_CV_IRDOF\",\n                                    \"value\": \"Is the reference data object(s) found?\"\n                                },\n                                \"status\": \"OK\"\n                            },\n                            ...\n                        ]},\n                    ...\n                    \"id\": \"1561CD6BEA97B0A72664067021330509894BE1EBA586D3057D77787E5F4180A4\",\n                    \"type\": \"TIMESTAMP\"\n                },\n                ...\n            \"signatures\": [{\n                \"validationProcessArchivalData\": {\n                    \"conclusion\": {\"indication\": \"PASSED\"},\n                    \"constraint\": [{\n                        \"name\": {\n                            \"nameId\": \"ARCH_LTVV\",\n                            \"value\": \"Is the result of the LTV validation process acceptable?\"\n                        },\n                        \"status\": \"OK\"\n                    }]},\n                ...\n                },\n                \"id\": \"S0\",\n                \"validationProcessLongTermData\": {\n                    \"conclusion\": {\"indication\": \"PASSED\"},\n                    \"constraint\": [{\n                            \"name\": {\n                                \"nameId\": \"LTV_ABSV\",\n                                \"value\": \"Is the result of the Basic Validation Process acceptable?\"},\n                            \"status\": \"OK\"\n                            },\n                        ...\n                        }]}}]\n        },\n        \"validationConclusion\": {\n            \"validationTime\": \"2017-11-07T09:20:18Z\",\n            \"signaturesCount\": 1,\n            \"validationLevel\": \"ARCHIVAL_DATA\",\n            \"validatedDocument\": {\n                \"filename\": \"ValidLiveSignature.asice\",\n                \"fileHashInHex\": \"0A805C920603750E0B427C3F25D7B22DCEC183DEF3CA14BE9A2D4488887DD501\",\n                \"hashAlgo\": \"SHA-256\"\n            },\n            \"validSignaturesCount\": 1,\n            \"signatures\": [{\n                \"signatureFormat\": \"XAdES_BASELINE_LT\",\n                \"signedBy\": \"NURM,AARE,38211015222\",\n                \"claimedSigningTime\": \"2016-10-11T09:35:48Z\",\n                \"signatureLevel\": \"QESIG\",\n                \"signatureScopes\": [{\n                    \"scope\": \"FullSignatureScope\",\n                    \"name\": \"Tresting.txt\",\n                    \"content\": \"Full document\"\n                }],\n                \"id\": \"S0\",\n                \"indication\": \"TOTAL-PASSED\",\n                \"info\": {\"bestSignatureTime\": \"2016-10-11T09:36:10Z\"}\n            }],\n            \"policy\": {\n                \"policyDescription\": \"Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\",\n                \"policyUrl\": \"http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv4\",\n                \"policyName\": \"POLv4\"\n            },\n            \"signatureForm\": \"ASiC_E\"\n        }\n    },\n    \"validationReportSignature\": \"UEsDBBQACAgIAIlaZ0sAA...\"\n}\n</code></pre>"},{"location":"siva2/interfaces/#sample-soap-response-simple-report-successful-scenario_1","title":"Sample SOAP response Simple Report (successful scenario)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;ns2:ValidateDocumentResponse xmlns:ns2=\"http://soap.webapp.siva.openeid.ee/\" xmlns:ns3=\"http://dss.esig.europa.eu/validation/detailed-report\" xmlns:ns4=\"http://x-road.eu/xsd/identifiers\" xmlns:ns5=\"http://x-road.eu/xsd/xroad.xsd\"&gt;\n      &lt;ns2:ValidationReport&gt;\n        &lt;ns2:ValidationConclusion&gt;\n          &lt;Policy&gt;\n            &lt;PolicyDescription&gt;Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.&lt;/PolicyDescription&gt;\n            &lt;PolicyName&gt;POLv4&lt;/PolicyName&gt;\n            &lt;PolicyUrl&gt;http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv4&lt;/PolicyUrl&gt;\n          &lt;/Policy&gt;\n          &lt;ValidationTime&gt;2017-11-07T09:20:18Z&lt;/ValidationTime&gt;\n          &lt;ValidatedDocument&gt;\n            &lt;Filename&gt;ValidLiveSignature.asice&lt;/Filename&gt;\n            &lt;FileHashInHex&gt;0A805C920603750E0B427C3F25D7B22DCEC183DEF3CA14BE9A2D4488887DD501&lt;/FileHashInHex&gt;\n            &lt;HashAlgo&gt;SHA-256&lt;/HashAlgo&gt;\n          &lt;/ValidatedDocument&gt;\n          &lt;ValidationLevel&gt;ARCHIVAL_DATA&lt;/ValidationLevel&gt;\n          &lt;ValidationWarnings/&gt;\n          &lt;SignatureForm&gt;ASiC-E&lt;/SignatureForm&gt;\n          &lt;Signatures&gt;\n            &lt;Signature&gt;\n              &lt;Id&gt;S0&lt;/Id&gt;\n              &lt;SignatureFormat&gt;XAdES_BASELINE_LT&lt;/SignatureFormat&gt;\n              &lt;SignatureLevel&gt;QESIG&lt;/SignatureLevel&gt;\n              &lt;SignedBy&gt;NURM,AARE,38211015222&lt;/SignedBy&gt;\n              &lt;Indication&gt;TOTAL-PASSED&lt;/Indication&gt;\n              &lt;SubIndication/&gt;\n              &lt;Errors/&gt;\n              &lt;SignatureScopes&gt;\n                &lt;SignatureScope&gt;\n                  &lt;Name&gt;Tresting.txt&lt;/Name&gt;\n                  &lt;Scope&gt;FullSignatureScope&lt;/Scope&gt;\n                  &lt;Content&gt;Full document&lt;/Content&gt;\n                &lt;/SignatureScope&gt;\n              &lt;/SignatureScopes&gt;\n              &lt;ClaimedSigningTime&gt;2016-10-11T09:35:48Z&lt;/ClaimedSigningTime&gt;\n              &lt;Warnings/&gt;\n              &lt;Info&gt;\n                &lt;bestSignatureTime&gt;2016-10-11T09:36:10Z&lt;/bestSignatureTime&gt;\n              &lt;/Info&gt;\n            &lt;/Signature&gt;\n          &lt;/Signatures&gt;\n          &lt;ValidSignaturesCount&gt;1&lt;/ValidSignaturesCount&gt;\n          &lt;SignaturesCount&gt;1&lt;/SignaturesCount&gt;\n        &lt;/ns2:ValidationConclusion&gt;\n        &lt;ns2:ValidationProcess&gt;\n          &lt;ns3:Signatures Id=\"S0\"&gt;\n            &lt;ns3:ValidationProcessBasicSignatures&gt;\n              &lt;ns3:Constraint Id=\"S0\"&gt;\n                &lt;ns3:Name NameId=\"ADEST_ROBVPIIC\"&gt;Is the result of the Basic Validation Process conclusive?&lt;/ns3:Name&gt;\n                &lt;ns3:Status&gt;OK&lt;/ns3:Status&gt;\n              &lt;/ns3:Constraint&gt;\n              &lt;ns3:Conclusion&gt;\n                &lt;ns3:Indication&gt;PASSED&lt;/ns3:Indication&gt;\n              &lt;/ns3:Conclusion&gt;\n            &lt;/ns3:ValidationProcessBasicSignatures&gt;\n            ...\n            &lt;ns3:ValidationProcessArchivalData&gt;\n              &lt;ns3:Constraint&gt;\n                &lt;ns3:Name NameId=\"ARCH_LTVV\"&gt;Is the result of the LTV validation process acceptable?&lt;/ns3:Name&gt;\n                &lt;ns3:Status&gt;OK&lt;/ns3:Status&gt;\n              &lt;/ns3:Constraint&gt;\n              &lt;ns3:Conclusion&gt;\n                &lt;ns3:Indication&gt;PASSED&lt;/ns3:Indication&gt;\n              &lt;/ns3:Conclusion&gt;\n            &lt;/ns3:ValidationProcessArchivalData&gt;\n          &lt;/ns3:Signatures&gt;\n          ...\n          &lt;ns3:BasicBuildingBlocks Id=\"S0\" Type=\"SIGNATURE\"&gt;\n            &lt;ns3:FC&gt;\n              &lt;ns3:Constraint&gt;\n                &lt;ns3:Name NameId=\"BBB_FC_IEFF\"&gt;Is the expected format found?&lt;/ns3:Name&gt;\n                &lt;ns3:Status&gt;OK&lt;/ns3:Status&gt;\n              &lt;/ns3:Constraint&gt;\n            ...\n            &lt;ns3:XCV&gt;\n              &lt;ns3:Constraint&gt;\n                &lt;ns3:Name NameId=\"BBB_XCV_CCCBB\"&gt;Can the certificate chain be built till the trust anchor?&lt;/ns3:Name&gt;\n                &lt;ns3:Status&gt;OK&lt;/ns3:Status&gt;\n              &lt;/ns3:Constraint&gt;\n          &lt;/ns3:BasicBuildingBlocks&gt;\n          &lt;ns3:QMatrixBlock&gt;\n            &lt;ns3:TLAnalysis CountryCode=\"EU\"&gt;\n              ...\n              &lt;ns3:Constraint&gt;\n                &lt;ns3:Name NameId=\"QUAL_TL_WS\"&gt;Is the trusted list well signed ?&lt;/ns3:Name&gt;\n                &lt;ns3:Status&gt;OK&lt;/ns3:Status&gt;\n              &lt;/ns3:Constraint&gt;\n              &lt;ns3:Conclusion&gt;\n                &lt;ns3:Indication&gt;PASSED&lt;/ns3:Indication&gt;\n              &lt;/ns3:Conclusion&gt;\n            &lt;/ns3:TLAnalysis&gt;\n            ...\n            &lt;ns3:SignatureAnalysis Id=\"S0\" SignatureQualification=\"QESig\"&gt;\n              &lt;ns3:Constraint&gt;\n                &lt;ns3:Name NameId=\"QUAL_IS_ADES\"&gt;Is the signature/seal an acceptable AdES (ETSI EN 319 102-1) ?&lt;/ns3:Name&gt;\n                &lt;ns3:Status&gt;OK&lt;/ns3:Status&gt;\n              &lt;/ns3:Constraint&gt;\n              ...\n              &lt;ns3:Conclusion&gt;\n                &lt;ns3:Indication&gt;PASSED&lt;/ns3:Indication&gt;\n              &lt;/ns3:Conclusion&gt;\n            &lt;/ns3:SignatureAnalysis&gt;\n          &lt;/ns3:QMatrixBlock&gt;\n        &lt;/ns2:ValidationProcess&gt;\n      &lt;/ns2:ValidationReport&gt;\n      &lt;ValidationReportSignature&gt;UEsDBBQACAgIAIlaZ0s...&lt;/ValidationReportSignature&gt;\n    &lt;/ns2:ValidateDocumentResponse&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva2/interfaces/#sample-json-response-error-situation","title":"Sample JSON response (error situation)","text":"<p>In case of error (when validation report is not returned) status code 400 is returned together with following message body:</p> <pre><code>{\"requestErrors\": [{\n    \"message\": \"Document malformed or not matching documentType\",\n    \"key\": \"document\"\n}]}\n</code></pre>"},{"location":"siva2/interfaces/#sample-soap-response-error-situation","title":"Sample SOAP response (error situation)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;soap:Fault&gt;\n      &lt;faultcode&gt;soap:Server&lt;/faultcode&gt;\n      &lt;faultstring&gt;Document malformed or not matching documentType&lt;/faultstring&gt;\n    &lt;/soap:Fault&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva2/interfaces/#data-files-request-interface","title":"Data files request interface","text":"<p>** REST JSON Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/getDataFiles\n</code></pre> <p>** SOAP Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/soap/dataFilesWebService/getDocumentDataFiles\n</code></pre> <p>** SOAP WSDL **</p> <pre><code>POST https://&lt;server url&gt;/soap/dataFilesWebService/getDocumentDataFiles?wsdl\n</code></pre>"},{"location":"siva2/interfaces/#data-files-request-parameters","title":"Data files request parameters","text":"<p>Data files request parameters for JSON and SOAP interfaces are described in the table below. Data types of SOAP parameters are defined in the SiVa WSDL document.</p> JSON parameter SOAP parameter Mandatory JSON data type Description document Document + String Base64 encoded string of digitally signed DDOC document filename Filename + String File name of the digitally signed document (i.e. sample.ddoc), max length 255 characters. Currently only DDOC file format is supported for this operation"},{"location":"siva2/interfaces/#sample-json-request","title":"Sample JSON request","text":"<pre><code>{\n  \"filename\":\"sample.ddoc\",\n  \"document\":\"PD94bWwgdmVyc2lvbj0iMS4....\"\n}\n</code></pre>"},{"location":"siva2/interfaces/#sample-soap-request_1","title":"Sample SOAP request","text":"<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:soap=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n  &lt;soapenv:Header/&gt;\n  &lt;soapenv:Body&gt;\n    &lt;soap:GetDocumentDataFiles&gt;\n      &lt;soap:DataFilesRequest&gt;\n        &lt;Document&gt;PD94bWwgdmVyc2lvbj0iMS4wI...&lt;/Document&gt;\n        &lt;Filename&gt;sample.ddoc&lt;/Filename&gt;\n      &lt;/soap:DataFilesRequest&gt;\n    &lt;/soap:GetDocumentDataFiles&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>"},{"location":"siva2/interfaces/#data-files-response-interface","title":"Data files response interface","text":""},{"location":"siva2/interfaces/#data-files-response-parameters-successful-scenario","title":"Data files response parameters (successful scenario)","text":"<p>The data file extraction report (i.e. the data files response) for JSON and SOAP interfaces is described in the table below. Data types of SOAP parameters are defined in the SiVa WSDL document. SiVa returns all data files as they are extracted by JDigiDoc library in an as is form. No extra operations or validations are done.</p> JSON parameter SOAP parameter Mandatory JSON data type Description dataFiles DataFiles - Array Collection of data files found in digitally signed document dataFiles[0] DataFile + Object Extracted data file object dataFiles[0].fileName DataFile.FileName - String File name of the extracted data file dataFiles[0].size DataFile.Size - Long Extracted data file size in bytes dataFiles[0].base64 DataFile.Base64 - String Base64 encoded string of extracted data file dataFiles[0].mimeType DataFile.MimeType - String MIME type of the extracted data file"},{"location":"siva2/interfaces/#sample-json-response-successful-scenario","title":"Sample JSON response (successful scenario)","text":"<pre><code>{\n\"dataFiles\": [{\n \"fileName\": \"Glitter-rock-4_gallery.jpg\",\n \"size\": 41114,\n \"base64\": \"/9j/4AAQSkZJ...\",\n \"mimeType\": \"application/octet-stream\" }]\n}\n</code></pre>"},{"location":"siva2/interfaces/#sample-soap-response-successful-scenario","title":"Sample SOAP response (successful scenario)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;ns2:GetDocumentDataFilesResponse xmlns:ns2=\"http://soap.webapp.siva.openeid.ee/\" xmlns:ns3=\"http://x-road.eu/xsd/identifiers\" xmlns:ns4=\"http://x-road.eu/xsd/xroad.xsd\"&gt;\n      &lt;ns2:DataFilesReport&gt;\n       &lt;DataFiles&gt;\n         &lt;DataFile&gt;\n           &lt;Base64&gt;UCgUCgUCgUCgUCgUCgUCgUCgUCgUCgUCgUH...&lt;/Base64&gt;\n           &lt;FileName&gt;Glitter-rock-4_gallery.jpg&lt;/FileName&gt;\n           &lt;MimeType&gt;application/octet-stream&lt;/MimeType&gt;\n           &lt;Size&gt;41114&lt;/Size&gt;\n         &lt;/DataFile&gt;\n       &lt;/DataFiles&gt;\n     &lt;/ns2:DataFilesReport&gt;\n   &lt;/ns2:GetDocumentDataFilesResponse&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva2/interfaces/#sample-json-response-error-situation_1","title":"Sample JSON response (error situation)","text":"<p>In case of error (when datafiles are not returned) status code 400 is returned together with following message body:</p> <pre><code>{\"requestErrors\": [{\n    \"message\": \"Invalid document type. Can only return data files for DDOC type containers.\",\n    \"key\": \"documentType\"\n}]}\n</code></pre>"},{"location":"siva2/interfaces/#sample-soap-response-error-situation_1","title":"Sample SOAP response (error situation)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;soap:Fault&gt;\n      &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\n      &lt;faultstring&gt;Invalid document type. Can only return data files for DDOC type containers.&lt;/faultstring&gt;\n    &lt;/soap:Fault&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>"},{"location":"siva2/interfaces/#service-health-monitoring","title":"Service health monitoring","text":"<p>SiVa webapps provide an interface for external monitoring tools (to periodically check the generic service health status).</p>"},{"location":"siva2/interfaces/#the-request","title":"The request","text":"<p>The monitoring endpoint is accessible via HTTP GET at /monitoring/health or /monitoring/health.json url.</p> <p>Sample request:</p> <pre><code>GET https://&lt;server url&gt;/monitoring/health\n</code></pre>"},{"location":"siva2/interfaces/#the-response","title":"The response","text":"<p>As a response, a JSON object is returned with the following information:</p> Field Description status General status of the webapp. Possible values: <ul><li>DOWN - when some of the dependent indicators status are down (ie when <code>link{number}.status</code> is DOWN, the overall service status is DOWN)</li><li>UP - the default value. </li></ul> health.status Status of current webapp - constant value UP health.webappName The artifact name of the webapp. Taken from the MANIFEST.MF file (inside the jar/war file). health.version The release version fo the webapp. Taken from the MANIFEST.MF (inside the jar/war file). health.buildTime Build date and time (format yyyy-MM-dd'T'HH:mm:ss'Z') of the webapp. Taken from the MANIFEST.MF (inside the jar/war file). health.startTime Webapp startup date and time (format yyyy-MM-dd'T'HH:mm:ss'Z') health.currentTime Current server date and time (format yyyy-MM-dd'T'HH:mm:ss'Z') link{number}.status (OPTIONAL) Represents the status of a link to the external system that the webapp depends on. <ul><li>DOWN when the webapp does not respond (within a specified timeout limit - default 10 seconds) or the response is in invalid format (default Spring boot actuator /health endpoint format is expected).</li><li>UP if the service responds with HTTP status code 200 and returns a valid JSON object with status \"UP\"</li></ul> link{number}.name (OPTIONAL) Descriptive name for the link to the external system <p>Sample response:</p> <pre><code>{\n  \"status\":\"UP\",\n    \"health\":{\n      \"status\":\"UP\",\n      \"webappName\":\"siva-demo-application\",\n      \"version\":\"3.1.0\",\n      \"buildTime\":\"2016-10-21T15:56:21Z\",\n      \"startTime\":\"2016-10-21T15:57:48Z\",\n      \"currentTime\":\"2016-10-21T15:58:39Z\"\n    },\n    \"link1\":{\n      \"status\":\"UP\",\n      \"name\":\"sivaService\"\n    }\n}\n</code></pre>"},{"location":"siva2/introduction/","title":"Introduction","text":"<p>SiVa is digital signature validation web service that provides SOAP and JSON API to validate following file types:</p> <ul> <li>Older Estonian digital signature files with DDOC extension</li> <li>BDOC containers with <code>TimeMark</code> and <code>TimeStamp</code> signatures</li> <li>Digitally signed PDF files</li> <li>X-Road security server ASiCE signature containers</li> </ul> <p>Architecture document main purpose is to give overview what SiVa is. Give an overview of it's internal processes and provide information when deploying it to production environment.</p>"},{"location":"siva2/introduction/#siva-architecture-document-sections-overview","title":"SiVa architecture document sections overview","text":"<p>Below list will give You an overview of what each section of the SiVa architecture document will cover:</p> <ul> <li>Overview - gives overview what SiVa is and   it's main features.</li> <li>Regulatory environment - legal analysis   and standards that are used when building SiVa application</li> <li>Component diagram - gives overview of   main SiVa subsystems and and and base validation Java libraries   used for different validation services</li> <li>Deployment view - gives general overview of   servers required when deploying SiVa validation web service   into production</li> <li>Interfaces - Description of SiVa   SOAP and JSON API request and response</li> <li>Database schema - description of SiVa   validation administration service database</li> <li>Use cases - describes main processes in SiVa   validation web service</li> <li>Deploying - how to build, deploy and configure   SiVa web service</li> <li>Logging - how to configure and setup SiVa validation   service logging support</li> </ul>"},{"location":"siva2/introduction/#download-documentation","title":"Download documentation","text":"<ul> <li>Download documentation in PDF format</li> </ul>"},{"location":"siva2/links/","title":"Links","text":"<p>https://www.ria.ee/ee/xtee-teenuste-arendamine.html - XRoad impolentations guides to be used for SiVa XRoad implementation</p>"},{"location":"siva2/logging/","title":"Logging","text":"<p>Logging functionality is handled by the SLF4J logging facade and on top of it the Logback framework is used.\u00a0As a result, logging can be configured via the standard Logback configuration file.\u00a0By default, logging works on the <code>INFO</code> level and logs are directed to the system console as well as a log file.</p> <p>The logback xml configuration file can be found at:</p> <pre><code>pdfValidator/pdf-validator-webapp/src/main/resources/logback.xml\n</code></pre> <p>and when compiled the file will reside at\u00a0</p> <pre><code>WEB-INF/classes/logback.xml\n</code></pre> <p>within the packaged war. There is also a possibility to set the location of the default configuration file with a system property\u00a0<code>logback.configurationFile</code> as a JVM argument.\u00a0The value of this property can be a URL, a resource on the class path or a path to a file external to the application.</p> <pre><code>java -Dlogback.configurationFile=/path/to/config.xml\n</code></pre> <p>In this configuration file there are three appenders: <code>STDOUT</code> (logs to standard output), <code>FILE</code> (logs to a file) and <code>SYSLOG</code> (logs to syslog server over the network). To disable certain appender from logging, commenting out its <code>appender-ref</code> is sufficient, but it is recommended that the appender itself should also be commented out. For example to disable <code>SYSLOG</code> appender (which is the default configuration), then one can use following configuration:</p> <pre><code>&lt;!--\n&lt;appender name=\"SYSLOG\" class=\"ch.qos.logback.classic.net.SyslogAppender\"&gt;\n    &lt;syslogHost&gt;enter\\_ip\\_or\\_hostname\\_here&lt;/syslogHost&gt;\n    &lt;port&gt;514&lt;/port&gt;\n    &lt;facility&gt;USER&lt;/facility&gt;\n    &lt;filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\"&gt;\n        &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/filter&gt;\n    &lt;suffixPattern&gt;%-5level %logger{0}:%L \\[%thread\\] - %msg&lt;/suffixPattern&gt;\n&lt;/appender&gt;\n--&gt;\n\n&lt;root level=\"DEBUG\"&gt;\n&lt;appender-ref ref=\"STDOUT\"/&gt;\n&lt;appender-ref ref=\"FILE\"/&gt;\n&lt;!--&lt;appender-ref ref=\"SYSLOG\"/&gt;--&gt;\n\n&lt;/root&gt;\n</code></pre> <p>Logback configuration manual:\u00a0http://logback.qos.ch/manual/</p>"},{"location":"siva2/logging/#stdout-appender","title":"STDOUT appender","text":"<ul> <li>Default the log level is set to DEBUG</li> <li>Appender output pattern is:\u00a0<code>%d{HH:mm:ss.SSS} %-5level %logger{0}:%L [%thread] - %msg%n</code></li> </ul>"},{"location":"siva2/logging/#file-appender","title":"FILE appender","text":"<ul> <li>Default log level is set to <code>INFO</code></li> <li>uses\u00a0RollingFileAppender configured with\u00a0<code>TimeBasedRollingPolicy</code>.   Current configuration makes a seperate logfile for each day and each   file is kept for 30 days.</li> </ul> <p>PS! keep in mind when using relative   destination file path, then the path is added at the end of the   currently working directory, i.e. where the application was started.   (Current day's logfile path:\u00a0<code>logs/pdf-validator-webapp.log</code>,   prievious days pattern:\u00a0</p> <pre><code>    logs/pdf-validator-webapp.%d{yyyy-MM-dd}.log)\n</code></pre> <ul> <li>Appender output pattern is:\u00a0 <code>%d{HH:mm:ss.SSS} %-5level %logger{0}:%L \\[%thread\\] - %msg%n</code><pre><code>-Dlogback.configurationFile=config.xml\n</code></pre> </li> </ul>"},{"location":"siva2/logging/#syslog-appender","title":"SYSLOG appender","text":"<ul> <li>Default log level is set to <code>INFO</code></li> <li>Target's ip/hostname and port are\u00a0configurable</li> <li>Syslog messsages' severity is\u00a0configurable</li> <li>Syslog messages' payload's timestamp and hostname part are created   implicitly and the suffixpattern is:\u00a0 <code>%-5level %logger{0}:%L \\[%thread\\] - %msg</code></li> </ul>"},{"location":"siva2/overview/","title":"Overview","text":""},{"location":"siva2/overview/#what-is-siva","title":"What is SiVa?","text":"<p>SiVa (Signature Validation) web service provides JSON and SOAP based API web interface to validate digital signatures. Please take a look in Validation Policy section for supported formats and applied constraints.</p> <p>SiVa uses following Java libraries and command line utilities:</p> <ul> <li>DigiDoc4J Java library to validate BDOC containers. Supported signature   types are <code>TimeStamp</code> and <code>TimeMark</code></li> <li>JDigiDoc Java library is used to validate DDOC containers.</li> <li>X-Road ASiCE containers are validated using X-Road security server project   provided command line utility</li> <li>EU DSS (Digital Signature Service) library is used to validate all other types of digital signatures that are not covered above.</li> </ul>"},{"location":"siva2/overview/#validation-libraries","title":"Validation libraries","text":""},{"location":"siva2/overview/#digidoc4j-eu-dss-fork","title":"DigiDoc4j EU DSS fork","text":"<p>DigiDoc4J EU DSS fork is used as the main validation library. The fork includes Estonian specific changes and may not be suitable for all signatures.</p> <p>SiVa will use the following functionality of EU DSS library:</p> <ul> <li>XAdES/CAdES/PAdES Validation Functionality</li> <li>ASIC-E and ASIC-S container validation</li> <li>TSL loading functionality</li> </ul>"},{"location":"siva2/overview/#digidoc4j","title":"DigiDoc4J","text":"<p>DigiDoc4J is used to validate both <code>TimeMark</code> and <code>TimeStamp</code> based BDOC containers. For more information on DigiDoc4J visit Github</p> <p>SiVa will use the following functionality of DigiDoc4J:</p> <ul> <li>BDOC validation functionality</li> </ul>"},{"location":"siva2/overview/#jdigidoc","title":"JDigiDoc","text":"<p>JDigiDoc is used to validate DDOC containers. For more information on JDigiDoc visit GitHub</p> <p>SiVa will use the following functionality of JDigiDoc:</p> <ul> <li>DDOC validation functionality</li> </ul>"},{"location":"siva2/overview/#x-road-signature-validation-utility","title":"X-Road signature validation utility","text":"<p>X-Road signature validation utility is command line tool to validate X-Road Security server generated ASiCe files. For more information on this utility visit GitHub</p>"},{"location":"siva2/overview/#main-features-of-siva-validation-service","title":"Main features of SiVa validation service:","text":"<ul> <li>SOAP and REST/JSON API to validate signatures.</li> <li>SOAP and REST/JSON API to retrieve data files from DDOC containers.</li> <li>SOAP API is compadible with X-Road v6.</li> <li>Signing of validation report.</li> </ul>"},{"location":"siva2/qa_strategy/","title":"9.6.1 QA Strategy","text":""},{"location":"siva2/qa_strategy/#introduction","title":"Introduction","text":"<p>The goal of this document is to give general overview of the used infrastructure, processes, schedule and actions to ensure good quality delivery. The document describes activities in the whole software development process. Analysis, development and testing are separated for the sake of structure and transparency although they are integral parts of the development cycle. This is living document and will be constantly updated as the project evolves.</p>"},{"location":"siva2/qa_strategy/#environments-and-infrastructure","title":"Environments and infrastructure","text":"<p>There are different test environments for quality assurance, depending on the nature and aim.</p> <ol> <li>TravisCI environment for public CI - Platform: Linux</li> <li>Test environment for local test and load test - Platform: Linux</li> </ol> <p>Instructions how to set up test enviroment and run tests together with more info can be found in SiVa GitHub page</p> <p>System requirements:</p> <ul> <li>At least 2GB of RAM on machine where the build is executed</li> <li>Minimum required Java version is Java 8</li> <li>SiVa project provided Maven Wrapper (./mvnw)</li> </ul> <p>Tools used:</p> <ul> <li>TravisCI \u2013 is a continuous integration service used to build and test software projects hosted at GitHub</li> <li>Jenkins \u2013 is an open source continuous integration tool written in Java.</li> <li>JMeter \u2013 tool for creating and running load tests.</li> <li>IntelliJ IDEA \u2013 is a Java integrated development environment(IDE) for developing and executing automated tests locally</li> <li>Apache Tomcat - is an open source servlet container developed by the Apache Software Foundation.</li> <li>Docker \u2013 is an open-source project that automates the deployment of applications inside software containers, by providing an additional layer of abstraction and automation of operating-system-level virtualization on Linux.</li> <li>Rest-Assured - is a Java DSL(Domain-specific language) for simplifying testing of REST based Services built on top of HTTP Builder.</li> </ul>"},{"location":"siva2/qa_strategy/#analysis","title":"Analysis","text":"<p>Analysis will be tagged with identificators to enable cross-reference between requirements and corresponding tests. This includes both functional and non-functional requirements. See documents(2) and (3) in References</p>"},{"location":"siva2/qa_strategy/#development","title":"Development","text":""},{"location":"siva2/qa_strategy/#development-process","title":"Development process","text":"<p>Customized process based on Kanban is used in the development. The process consists of following elements:</p> <ul> <li>Product backlog is maintained JIRA</li> <li>Tasks are maintained through JIRA Kanban board</li> <li>Daily team stand-ups are held</li> <li>Tasks marked done are developed, tested and ready to be shipped</li> <li>Bi-weekly meetings are held to give status on progress and discuss open questions </li> </ul>"},{"location":"siva2/qa_strategy/#issue-lifecycle","title":"Issue lifecycle","text":"<p>Each ticket in JIRA Kanban board goes through the following states that correspond the development procedure described in previous chapter. </p> <p>Description of states:</p> <ul> <li>Awaiting analysis - ticket to be dealt with, product backlog.</li> <li>Awaiting implementation - ticket analysed and ready to be implemented.</li> <li>In progress - ticket is being handled (feature coding, document writing, ...).</li> <li>In Review - ticket is ready for review</li> <li>Resolved - ticket is ready for test</li> <li>Closed - ticket has been tested and found ready for release</li> </ul>"},{"location":"siva2/qa_strategy/#qa-activities-and-quality-criterias-in-the-development","title":"QA activities and quality criterias in the development","text":"<p>Process improvement</p> <p>The development process is constantly monitored and adjusted to the changing situations. Retrospective meetings for process feedback are held.</p> <p>Unit tests</p> <p>It is responsibility of developer to write, maintain and execute the unit tests on developed features. The code must compile and pass unit tests before it is allowed to be submitted to the code repository. The code of the unit tests is integral part of the source code and is maintained on the same principles. Unit tests are also automatically executed on each build, if the unit tests do not pass further test execution is stopped.</p> <p>Static testing/code reviews</p> <p>All changes (including changes in unit test code) are reviewed by another development team member using GitHub. The code must pass review before it is submitted to testing. SonarLint is used to validate code automatically. It integrates both suggested tools mentioned in reference document (3) References</p>"},{"location":"siva2/qa_strategy/#testing","title":"Testing","text":""},{"location":"siva2/qa_strategy/#approach","title":"Approach","text":"<p>Testing follows the principles described in reference document (1) in References The goal is to automate as much of the testing process as possible, however some aspects of the testing will be carried out manually. As the development is carried out by the backlog priority the testing follows the same principle. After each feature release test cases, test automation code and test results will be available through GitHub. </p>"},{"location":"siva2/qa_strategy/#testing-process","title":"Testing process","text":"<p>All automatic tests, except load tests will follow the same execution process. The tests are ran automatically during the project build process by Travis CI after each push in GitHub. </p>"},{"location":"siva2/qa_strategy/#test-case-management","title":"Test case management","text":"<p>Test cases are handled as integral part of test automation code. The same applies on manual tests, in manual test cases some portion of automation may be used to execute the tests but the results are verified manually. All the test cases and test code will be maintained in the GitHub. Test cases are developed and maintained together with test automation code by the QA specialist for Integration and System Testing. Following elements will be present in test cases:</p> <ul> <li>TestCaseID: unique ID that makes possible to identify specific test case</li> <li>TestType: Automated, Automated SoapUI or Manual</li> <li>Requirement: Reference to the requirement that is tested</li> <li>Title: Description of the test</li> <li>Expected Result: expected outcome of the test (pass criteria for the test)</li> <li>File: input test file that is used</li> </ul> <p>Test case sample</p> <p>Automatic and manual test cases will have the same description principles (shown below).</p> <pre><code>/**\n* TestCaseID: Bdoc-ValidationFail-27\n*\n* TestType: Automated\n*\n* Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2\n*\n* Title: Bdoc OCSP response doesn't correspond to the signers certificate\n*\n* Expected Result: The document should fail the validation\n*\n* File: NS28_WrongSignerCertInOCSPResp.bdoc\n*/\n@Test\npublic void bdocWrongSignersCertInOcspResponse() {\nsetTestFilesDirectory(\"bdoc/live/timemark/\");\npost(validationRequestFor(\"NS28_WrongSignerCertInOCSPResp.bdoc\"))\n.then()\n.body(\"signatures[0].indication\", Matchers.is(\"TOTAL-FAILED\"))\n.body(\"signatures[0].subIndication\", Matchers.is(\"TRY_LATER\"))\n.body(\"signatures[0].errors.content\", Matchers.hasItem(\"No revocation data for the certificate\"))\n.body(\"validSignaturesCount\", Matchers.is(0));\n}\n</code></pre>"},{"location":"siva2/qa_strategy/#defect-management","title":"Defect management","text":"<p>All found defects will be reported and handled in Jira. The defect report will follow similar lifecycle in JIRA Kanban board as tasks. The report will have at least the following elements:</p> <ul> <li>Title: Short, precise description of the problem</li> <li>Details: Type, Priority, Epic Link</li> <li>Description:<ul> <li>Steps to reproduce bug - sequence for reproduction, link to test case if applicable.</li> <li>Expected behavior - expected outcome of the test sequence.</li> <li>Actual behavior - actual result of the test sequence. The description should be thorough enough to enable the debugging of the problem and to give objective base for severity assessment.</li> <li>File attachments - Test files, logs, images, ...</li> </ul> </li> </ul>"},{"location":"siva2/qa_strategy/#test-levels","title":"Test levels","text":"<p>Integration testing</p> <p>The scope of the tests is illustrated on the image below. The goal is to test the SiVA application API (both X-Road and REST/JSON) and to test the independent module capability for validation of specific type of file. Both valid and invalid inputs are tested. More info about testing specifics can be found in Test Plan Integration testing section. </p> <p>System testing</p> <p>The scope of the tests is illustrated on the image below. The goal of the test is to test the entire length of signature validation process and to test supportive functions. In addition Demo application is tested. More info about testing specifics can be found in Test Plan System testing section. </p> <p>Regression testing</p> <p>Regression testing will consist of two parts: Running all automated tests (unit, integration and system tests) Manual testing of the areas that are not covered by automatic tests based on the regression test checklist</p>"},{"location":"siva2/references/","title":"References","text":"<ul> <li>(1) Lisa_6_Osa_I_SiVa_Testimise_korraldus.pdf</li> <li>(2) Lisa_4_Osa_I_SiVa_Valideerimisteenuse_analuus MUUDETUD.pdf</li> <li>(3) Lisa_3_RIA_Mittefunktsionaalsed_nouded.pdf</li> </ul>"},{"location":"siva2/structure_and_activities/","title":"9.3.1 Component model","text":"<p>The following chapter depicts SiVa software on a component diagram. Note that not all of the external base libraries are included in the component model to avoid duplicity with other documentation. Only relevant base libraries and dependencies are listed and described in the documentation. Information about additional and transitive dependencies of the respective validation service components can be found via the references provided.</p> <p></p>"},{"location":"siva2/structure_and_activities/#system-components","title":"System components","text":""},{"location":"siva2/structure_and_activities/#siva-webapp","title":"Siva webapp","text":"<p>All validation services use different Java library to validate given document in request. The used validation library is described in each of the validation service section.</p> Component Description Web gateway service Web gateway service is a single access point to the whole SiVa webapp application. Web service is implemented as a standard Spring Boot Web application module, that accepts valid JSON or SOAP requests (see the Interfaces section) sent by the client systems. Web service module is responsible for basic request and response handling. This includes basic validation of incoming requests (existence of required fields, permitted values, etc) and unmarshaling the request to a Java object before passing it to the next component \u2013 the Proxy service. Response from the proxy service is marshalled and sent back to the client according to respective API. Report signing service Provides signing services for report. Supported interfaces for signature creation: PKCS11, PKCS12. Validation proxy service Acts as a router for the request and response. It is responsible for selecting the appropriate validation service for incoming document.- Proxy service accepts an in memory representation of a document and finds a matching validation service based on document type. The incoming request is converted to validation request and forwarded to the specific validation service.- The report returned by the specific validation service is passed to the statistics service before returning it to Web service. Data files proxy service Acts as a router for the request and response. It is responsible for selecting the appropriate data files extraction service for incoming document.- Proxy service accepts an in memory representation of a document and finds a matching validation service based on document type. Statistics service An optional component that can be turned on or off using configuration file. It is Spring Boot module and main purpose for it is to collect data about: incoming request, validation reports and errors that have been reported during validation process.- When HTTP authentication header have been set the reporting service will also add this info to statistics report.- After the report object have been created the data will be sent to configured reporting service. SiVa is preconfigured to work with Google Analytics.- More info and specifics about the statistics service can be found in SiVa_statistics.pdf Generic validation service Provides validation services for ASIC containers along with PAdES, CAdES and XAdES signatures. Uses Maven released DigiDoc4J EU DSS fork library BDOC validation service Provides validation services for BDOC containers. BDOC for ASiC compliant containers both TM and TS is supported. Uses Maven released DigiDoc4J library DDOC validation service Provides validation services for DigiDoc containers. DDOC for previous generation digitally signed files. Uses latest Maven release of JDigiDoc TST validation service Provides validation service for Time Stamp Token based ASIC-S containers with Estonian specific validation policy DDOC data files service Provides files extraction services for DigiDoc containers. DDOC for previous generation digitally signed files. Uses latest Maven release of JDigiDoc X-Road validation service X-Road containers are similar to ASiCE containers but are not valid ASiCE containers. There we could not use DSS nor DigiDoc4J provided ASiCE validation functionality but need to X-Road developed <code>asicverifier</code> Java command line utility to validate these containers.Source code for <code>asicverifier</code> can be found in GitHub xroad-public repository: <code>Asicverfier</code> has been integrated into SiVa as Java library. Making possible to use all the Java libraries packaged into <code>asicverifier</code> fat JAR.Configurable functionality:- In SiVa configuration <code>application.yml</code> file You can define alternative location for <code>globalconf</code> directory to be loaded in using input stream. PS! X-road validation service is no longer distributed as a separate webapp installation since SiVa 2.0 Dss Dss library implementations are used for ASICE, XAdES, CAdES and PAdES validation and TSL loading. SiVa uses Digidoc4J DSS fork Java library. JDigiDoc JDigiDoc implementation is used by DDOC validation service and for the DDOC data files service. See the project Github page for further details. Asicverifier X-road signature validation utility (see github project for details). A command line tool to validate X-Road Security server generated ASiCe files. The utility was chosen because it's only available packaged to tool to validate X-Road signature file. TSL loader TSL loader loads the contents of TSL file from given URL in online mode or from directory when using offline mode in predefined interval. Logger Logging functionality is handled by the SLF4J logging facade and on top of the Logback framework.\u00a0As a result, logging can be configured via the standard Logback configuration file.\u00a0By default, logging works on the <code>INFO</code> level and logs are directed to the system console. Additional logging appenders can be added (consult logback documentation for more details) Configuration Configuration is a global component used throughout the webapp. Responsible for reading and handling the application configuration management Validation commons Common interfaces and utilities for all validation services (ie utilities for default and additional policies and constraints) Monitoring service Service that provides generic information about the webapp - it's name, version, uptime and link status. (The service is disabled by default)"},{"location":"siva2/structure_and_activities/#siva-webapp-interfaces","title":"Siva webapp interfaces","text":"<p>Provided:</p> <ul> <li>Validation service REST interface - interface for handling validation queries.<ul> <li>JSON formatted POST requests</li> </ul> </li> <li>Validation service SOAP interface - interface for handling validation queries<ul> <li>X-Road compliant and non-compliant SOAP requests (without the X-Road required headers)</li> </ul> </li> <li>Data file service REST interface - interface for handling data file extraction queries.<ul> <li>JSON formatted POST requests</li> </ul> </li> <li>Data file service SOAP interface - interface for handling data file extraction queries<ul> <li>X-Road compliant and non-compliant SOAP requests (without the X-Road required headers)</li> </ul> </li> <li>Monitoring service REST interface - interface for retrieving the webapp's health information<ul> <li>HTTP GET that returns JSON formatted resp\u00f3nses</li> </ul> </li> </ul> <p>Required:</p> <ul> <li>X-road validation webapp - interface for validating X-road signed requests</li> <li>EU TSL provider interface - interface for loading the TSL</li> <li>Google Analytics service - interface for collection statistics (optional)</li> </ul>"},{"location":"siva2/structure_and_activities/#demo-webapp","title":"Demo webapp","text":"Component Description Demo webapp A Spring boot based web application that provides a web interface to the SiVa system for initial access and testing purposes. Offers a simple and user friendly presentation layer for the whole SiVa webapp. Contains a simple form, that can be used to send signed documents to be validated in SiVa."},{"location":"siva2/structure_and_activities/#demo-webapp-interfaces","title":"Demo webapp interfaces","text":"<p>Provided:</p> <ul> <li>Web interface - interface for handling X-Road signed requests.<ul> <li>JSON formatted POST queries</li> </ul> </li> </ul> <p>Required:</p> <ul> <li>Siva webapp REST interface</li> <li>Siva webapp SOAP interface</li> </ul>"},{"location":"siva2/structure_and_activities/#external-configuration","title":"External configuration","text":"Component Description Policies and constraints (Optional) By default, two policies are supported and integrated into SiVa - see SiVa Validation Policy. However, it is possible to customize the validation policies and their constraints. Configuration is validation service specific. See the overriding configuration section for details. Externalized configuration Application specific configuration (property files, command line variables, etc) that allow overriding the default values set within the webapp."},{"location":"siva2/structure_and_activities/#external-subsystems","title":"External subsystems","text":"Component Description Digidoc3 client DigiDoc3 client is a program that can be used to sign digitally with ID-card and Mobile-ID, check the validity of digital signatures and open and save documents inside the signature container. See the github project for further details. XROAD security server A client subsystem that, once connected, allows SiVa to be integrated into the X-Road data exchange layer EU TSL provider A subsystem that provides SiVa with a current TSL. An HTTPS endpoint, that provides an XML formatted file that lists all trusted service providers along with their certificates. Google Analytics (Optional) A subsystem that can be used for business analysis based on the SiVa statistics (sent over Google Management Protocol v1). The webapp can be configured to send statistical data about validation reports to Google Analytics. See SiVa_statistics.pdf for further details. <ul><li>NB! Note that the exact same dataset is logged by the Logger component if one needs to handle generic statistical data locally (for example using Logstash and Kibana)</li></ul> Monitoring (Optional) A subsystem that tracks the health and uptime of SiVa webapps"},{"location":"siva2/systemintegrators_guide/","title":"9.5.2 System integrator's guide","text":"<p>This guide describes how to integrate SiVa service with other applications. The following is for system integrators who need to set-up, configure, manage, and troubleshoot SiVa system.</p>"},{"location":"siva2/systemintegrators_guide/#system-requirements","title":"System requirements","text":"<p>Following are the minimum requirements to build and deploy SiVa webapps as a service:</p> <ul> <li>Java 8 or above Oracle JVM is supported</li> <li>Git version control system version 1.8 or above is recommended</li> <li>Minimum 2 GB of RAM. Recommended at least 4 GB of RAM</li> <li>Minimum 1 processor core</li> <li>Open internet connection</li> <li>2GB of free disk space</li> <li>Supported operating system is Ubuntu 16.04 LTS</li> </ul>"},{"location":"siva2/systemintegrators_guide/#building","title":"Building","text":""},{"location":"siva2/systemintegrators_guide/#building-siva-webapps-on-ubuntu-1604","title":"Building SiVa webapps on Ubuntu 16.04","text":"<p>First we need to install Git and Java SDK 8 by issuing below commands:</p> <pre><code>sudo apt-get update\nsudo apt-get install git -y\nsudo apt-get install default-jdk -y\n</code></pre> <p>Next we need to clone the SiVa Github repository:</p> <pre><code>git clone https://github.com/open-eid/SiVa.git --branch master\n</code></pre> <p>Final step is building the SiVa project using Maven Wrapper</p> <pre><code>cd SiVa\n./mvnw clean install\n</code></pre> <p>Note</p> <p>The build can take up to 30 minutes because there are lot of tests that will be run through and downloading of the required dependencies</p> <p>To verify that SiVa project built successfully look for <code>BUILD SUCCESS</code> in build compilation output last lines. The last lines of build output should look very similar to below image:</p> <pre><code>[INFO] Reactor Summary:\n[INFO]\n[INFO] SiVa Digitally signed documents validation service . SUCCESS [  1.632 s]\n[INFO] validation-services-parent ......................... SUCCESS [  0.897 s]\n[INFO] validation-commons ................................. SUCCESS [ 12.321 s]\n[INFO] tsl-loader ......................................... SUCCESS [  6.917 s]\n[INFO] Generic Validation Service ......................... SUCCESS [ 27.919 s]\n[INFO] TimeStampToken Validation Service .................. SUCCESS [  7.046 s]\n[INFO] BDOC Validation Service ............................ SUCCESS [ 50.087 s]\n[INFO] DDOC Validation Service ............................ SUCCESS [ 16.712 s]\n[INFO] SiVa webapp and other core modules ................. SUCCESS [  0.653 s]\n[INFO] siva-monitoring .................................... SUCCESS [  9.736 s]\n[INFO] xroad-validation-service ........................... SUCCESS [ 19.761 s]\n[INFO] siva-statistics .................................... SUCCESS [ 13.734 s]\n[INFO] SiVa validation service proxy ...................... SUCCESS [ 11.509 s]\n[INFO] SiVa signature service ............................. SUCCESS [  6.869 s]\n[INFO] siva-webapp ........................................ SUCCESS [ 27.608 s]\n[INFO] SiVa Web Service integration tests ................. SUCCESS [03:53 min]\n[INFO] siva-distribution .................................. SUCCESS [ 10.818 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 08:18 min\n[INFO] Finished at: 2017-12-04T13:49:48+02:00\n[INFO] Final Memory: 113M/903M\n[INFO] ------------------------------------------------------------------------\n</code></pre>"},{"location":"siva2/systemintegrators_guide/#deploying","title":"Deploying","text":""},{"location":"siva2/systemintegrators_guide/#option-1-starting-webapps-from-command-line","title":"OPTION 1 - starting webapps from command line","text":"<p>SiVa project compiles 2 fat executable JAR files that you can run after successfully building the project by issuing below commands:</p> <p>First start the Siva webapp</p> <pre><code>./siva-parent/siva-webapp/target/siva-webapp-3.0.0.jar\n</code></pre> <p>Second we need to start X-road validation webapp</p> <pre><code>./validation-services-parent/xroad-validation-service/target/xroad-validation-service-3.0.0.jar\n</code></pre> <p>The SiVa webapp by default runs on port 8080 and XRoad validation service starts up on port 8081. Easiest way to test out validation is run SiVa demo application.</p>"},{"location":"siva2/systemintegrators_guide/#option-2-running-webapps-as-systemd-services","title":"OPTION 2 - running webapps as systemd services","text":"<p>Maven build generates executable JAR files. This means web container and all its dependencies are package inside single JAR file. It makes a lot easier to deploy it into servers.</p> <p>Easiest option to setup SiVa is as <code>systemd</code> service in Ubuntu servers.</p> <p>For that we first need to create service file:</p> <pre><code>vim siva-webapp.service\n</code></pre> <p>Inside it we need to paste below text. You need to change few things in service setup file.</p> <ul> <li>First you must not run service as <code>root</code>. So it's strongly recommended to change line <code>User=root</code></li> <li>Second You can change Java JVM options by modifying the <code>JAVA_OPTS</code> inside the <code>siva-webapp.service</code> file.</li> <li>Also You can change the SiVa application configuration options by modifying <code>RUN_ARGS</code> section in file</li> </ul> <pre><code>[Unit]\nDescription=siva-webapp\nAfter=syslog.target\n\n[Service]\nUser=root\nExecStart=/var/apps/siva-webapp.jar\nEnvironment=JAVA_OPTS=-Xmx320m RUN_ARGS=--server.port=80\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Save and close the <code>siva-webapp.service</code> file. Next we need to move <code>siva-webapp-3.0.0.jar</code> into newly created <code>/var/apps</code> directory and rename to JAR file to <code>siva-webapp.jar</code>. match</p> <p>Note</p> <p>The copied JAR filename must match option <code>ExecStart</code> in  <code>siva-webapp.service</code> file</p> <pre><code>sudo mkdir /var/apps\nsudo cp siva-parent/siva-webapp/target/executable/siva-webapp-3.0.0.jar /var/apps/siva-webapp.jar\n</code></pre> <p>Next we need to copy the <code>siva-webapp.service</code> file into <code>/lib/systemd/system</code> directory. Then we are ready to start the <code>siva-webapp</code> service.</p> <pre><code>sudo cp siva-webapp.service /lib/systemd/system\nsudo systemctl start siva-webapp\n</code></pre> <p>Final step of setting up the <code>siva-webapp</code> service is to verify that service started correctly by issuing below command.</p> <pre><code>systemctl status siva-webapp\n</code></pre> <p>It should print out similar to below picture:</p> <pre><code>\u25cf siva-webapp.service - siva-webapp\n   Loaded: loaded (/lib/systemd/system/siva-webapp.service; disabled; vendor preset: enabled)\n   Active: active (running) since Thu 2016-07-21 08:48:14 EDT; 1 day 2h ago\n Main PID: 15965 (siva-webapp.jar)\n    Tasks: 34\n   Memory: 429.6M\n      CPU: 2min 5.721s\n   CGroup: /system.slice/siva-webapp.service\n           \u251c\u250015965 /bin/bash /var/apps/stage/siva-webapp.jar\n           \u2514\u250015982 /usr/bin/java -Dsun.misc.URLClassPath.disableJarChecking=true -Xmx320m -jar /var/apps/stage/siva-webapp.jar\n\nJul 20 03:00:01 siva siva-webapp.jar[15965]:         at eu.europa.esig.dss.tsl.service.TSLParser.getTslModel(TSLParser.java:143)\nJul 20 03:00:01 siva siva-webapp.jar[15965]:         at eu.europa.esig.dss.tsl.service.TSLParser.call(TSLParser.java:129)\nJul 20 03:00:01 siva siva-webapp.jar[15965]:         ... 5 common frames omitted\nJul 20 03:00:01 siva siva-webapp.jar[15965]: 20.07.2016 03:00:01.450 INFO  [pool-3-thread-1] [e.e.e.dss.tsl.service.TSLRepository.sync\nJul 20 03:00:01 siva siva-webapp.jar[15965]: 20.07.2016 03:00:01.450 INFO  [pool-3-thread-1] [e.e.e.dss.tsl.service.TSLRepository.sync\n</code></pre>"},{"location":"siva2/systemintegrators_guide/#option-3-deploy-webapps-as-war-files-tomcat-setup-for-legacy-systems","title":"OPTION 3  - deploy webapps as war files (Tomcat setup for legacy systems)","text":"<p>NOTE 1: We do not recommend using WAR deployment option because lack of testing done on different servlet containers also possible container application libraries conflicts</p> <p>NOTE 2: Each SiVa service must be deployed to separate instance of Tomcat to avoid Java JAR library version conflicts.</p> <p>NOTE 3: To limit your webapp request size (this is set automatically when deploying service as jar) one needs to configure the container manually. For example, when using Tomcat 7 or Tomcat 8 - the http connector parameter <code>maxPostSize</code> should be configured with the desired limit.</p> <p>NOTE 4: The war file must be deployed to Tomcat ROOT.</p> <p>First we need to download Tomcat web servlet container as of the writing latest version available in version 8 branch is 8.5.24. We will download it with <code>wget</code></p> <pre><code>wget http://www-eu.apache.org/dist/tomcat/tomcat-8/v8.5.24/bin/apache-tomcat-8.5.24.tar.gz\n</code></pre> <p>Unpack it somewhere:</p> <pre><code>tar xf apache-tomcat-8.5.24.tar.gz\n</code></pre> <p>Now we should build the WAR file. We have created helper script with all the correct Maven parameters.</p> <pre><code>./war-build.sh\n</code></pre> <p>NOTE The script will skip running the integration tests when building WAR files</p> <p>Final steps would be copying built WAR file into Tomcat <code>webapps</code> directory and starting the servlet container.</p> <pre><code>cp siva-parent/siva-webapp/target/siva-webapp-3.0.0.war apache-tomcat-8.5.24/webapps\n./apache-tomcat-7.0.77/bin/catalina.sh run\n</code></pre> <p>IMPORTANT siva-webapp on startup creates <code>etc</code> directory where it copies the TSL validaiton certificates <code>siva-keystore.jks</code>. Default location for this directory is application root or <code>$CATALINA_HOME</code>. To change this default behavior you should set environment variable <code>DSS_DATA_FOLDER</code></p>"},{"location":"siva2/systemintegrators_guide/#how-to-set-war-deployed-siva-applicationproperties","title":"How-to set WAR deployed SiVa <code>application.properties</code>","text":"<p>SiVa override properties can be set using <code>application.properties</code> file. The file can locate anywhare in the host system. To make properties file accessible for SiVa you need to create or edit <code>setenv.sh</code> placed inside <code>bin</code> directory.</p> <p>Contents of the <code>setenv.sh</code> file should look like:</p> <pre><code>export CATALINA_OPTS=\"-Dspring.config.location=file:/path/to/application.properties\"\n</code></pre>"},{"location":"siva2/systemintegrators_guide/#smoke-testing-your-deployed-system","title":"Smoke testing your deployed system","text":"<p>Step 1. Install HTTPIE <code>httpie</code> is more user friendly version of <code>curl</code> and we will use to verify that SiVa was installed and started correctly on our server.</p> <p>If you have Python and its package manager <code>pip</code> installed. Then You can issue below command:</p> <pre><code>pip install httpie\n</code></pre> <p>Step 2. Download a sample JSON request file.</p> <pre><code>http --download https://raw.githubusercontent.com/open-eid/SiVa/develop/build-helpers/sample-requests/bdocPass.json\n</code></pre> <p>Step 3. After successful download issue below command in same directory where you downloaded the file using the command below.</p> <pre><code>http POST http://localhost:8080/validate &lt; bdocPass.json\n</code></pre> <p>Step 4. Verify the output. The output of previous command should have similar data as below screenshot. Look for <code>signatureCount</code> and <code>validSignatureCount</code>, they must be equal.</p> <p></p>"},{"location":"siva2/systemintegrators_guide/#logging","title":"Logging","text":"<p>By default, logging works on the INFO level and logs are directed to the system console only. Logging functionality is handled by the SLF4J logging facade and on top of the Logback framework. As a result, logging can be configured via the standard Logback configuration file through Spring boot. Additional logging appenders can be added. Consult logback documentation for more details on log file structure.</p> <p>For example, adding application.properties to classpath with the logging.config property</p> <pre><code>logging.config=/path/to/logback.xml\n</code></pre>"},{"location":"siva2/systemintegrators_guide/#statistics","title":"Statistics","text":"<p>For every report validated, a statistical report is composed that collects the following data:</p> Data Description Validation duration The time it takes to process an incoming request - measured in milliseconds Container type Container type ( text value that identifies the signature type of the incoming document: ASiC-E, XAdES, ASiC-S or ASiC-E (BatchSignature) ) Siva User ID String (Text data that contains the SiVa user identifier for reports (from the HTTP x-authenticated-user header) or <code>N/A</code>) Total signatures count The value of the <code>signaturesCount</code> element in the validation report Valid signatures count The value of the <code>validSignaturesCount</code> element in the validation report Signature validation indication(s) Values of elements signatures/indication and signatures/subindication from the validation report. <code>indication[/subindication]</code> Signature country/countries Country code extracted from the signer certs. The ISO-3166-1 alpha-2 country code that is associated with signature (the signing certificate). Or constant string \"XX\" if the country cannot be determined. Signature format(s) Values of element signatures/signatureFormat from the validation report.  <p>There are two channels where this information is sent:</p> <ol> <li> <p>Log feeds (at INFO level) which can be redirected to files or to a syslog feed.</p> </li> <li> <p>Google Analytics service (as GA events). Turned off by default. See Configuration parameters for further details.</p> </li> </ol> <p>The format and events are described in more detail in SiVa_statistics.pdf</p>"},{"location":"siva2/systemintegrators_guide/#monitoring","title":"Monitoring","text":"<p>SiVa webapps provide an endpoint for external monitoring tools to periodically check the generic service health status.</p> <p>Note</p> <p>Note that this endpoint is disabled by default.</p> <p>The url for accessing JSON formatted health information with HTTP GET is <code>/monitoring/health</code> or <code>/monitoring/health.json</code>. See the Interfaces section for response structure and details.</p> <ul> <li>Enabling and disabling the monitoring endpoint</li> </ul> <p>To enable the endpoint, use the following configuration parameter:</p> <pre><code>endpoints.health.enabled=true\n</code></pre> <ul> <li>Customizing external service health indicators</li> </ul> <p>The endpoint is implemented as a customized Spring boot health endpoint, which allows to add custom health indicators.</p> <p>Demo webapp and Siva webapp also include additional information about the health of their dependent services. These links to dependent web services have been preconfigured. For example, the Demo webapp is preset to check whether the Siva webapp is accessible from the following url (parameter <code>siva.service.serviceHost</code> value)/monitoring/health and the Siva webapp verifies that the X-road validation service webapp is accessible by checking the default url (configured by parameter <code>siva.proxy.xroadUrl</code> value)/monitoring/health url.</p> <p>However, using the following parameters, these links can be overridden:</p> Property Description endpoints.health.links[index].name A short link name <ul><li>Default: N/A</li></ul> endpoints.health.links[index].url URL to another monitoring endpoint that produces Spring boot health endpoint compatible JSON object as a response to HTTP GET. <ul><li>Default: N/A</li></ul> endpoints.health.links[index].timeout Connection timeout (in milliseconds)<ul><li>Default: N/A</li></ul> <p>For example:</p> <pre><code>endpoints.health.links[0].name=linkToXroad\nendpoints.health.links[0].url=http://localhost:7777/monitoring/health\nendpoints.health.links[0].timeout=1000\n</code></pre> <p>Note</p> <p>The external link configuration must be explicitly set when the monitoring service on the target machine is configured to run on a different port as the target service itself(ie using the  <code>management.port</code> option in configuration) .</p>"},{"location":"siva2/systemintegrators_guide/#validation-report-signature","title":"Validation Report Signature","text":"<p>SiVa provides the ability to sign the validation report. The idea of supplementing the validation report with a validation report signature is to prove the authority's authenticity and integrity over the validation.</p> <p>Note</p> <p>Signing of validation report is disabled by default</p> <p>To enable it, use the following configuration parameter:</p> <pre><code>siva.report.reportSignatureEnabled=true\n</code></pre> <p>When validation report signature is enabled, only detailed validation reports will be signed, simple reports will not be signed. The validation report's digital signature is composed out of response's <code>validationReport</code> object. The target format of the signature is ASiC-E (signature level is configurable). The ASiC-E container contents are encoded into Base64 and put on the same level int the response as the validation report itself.</p> <p>Note</p> <p>Enabling the validation report signing will affect the performance of the service.</p> <p>Example structure of the response containing report signature:</p> <pre><code>{\n  \"validationReport\": {\n  ...\n  },\n  \"validationReportSignature\": \"ZHNmYmhkZmdoZGcgZmRmMTM0NTM...\"\n}\n</code></pre> <p>Supported interfaces for signature creation:</p> <ul> <li>PKCS#11 - a platform-independent API for cryptographic tokens, such as hardware security modules (HSM) and smart cards</li> <li>PKCS#12 - for files bundled with private key and certificate</li> </ul> <p>Report signature configuration parameters:</p> Property Description siva.report.reportSignatureEnabled Enables signing of the validation report. Validation report will only be signed when requesting detailed report.  <ul><li>Default: false</li></ul> siva.signatureService.signatureLevel The level of the validation report signature.  Example values:  * XAdES_BASELINE_B  * XAdES_BASELINE_T  * XAdES_BASELINE_LT  * XAdES_BASELINE_LTA siva.signatureService.tspUrl URL of the timestamp provider.  Only needed when the configured signature level is at least XAdES_BASELINE_T siva.signatureService.ocspUrl URL of the OCSP provider.  Only needed when the configured signature level is at least XAdES_BASELINE_LT siva.signatureService.pkcs11.path path to PKCS#11 module (depends on your installed smart card or hardware token library, for example: /usr/local/lib/opensc-pkcs11.so) siva.signatureService.pkcs11.password pin/password of the smart card or hardware token siva.signatureService.pkcs11.slotIndex depends on the hardware token. E.g. Estonian Smart Card uses 2, USB eToken uses 0. <ul><li>Default: 0</li></ul> siva.signatureService.pkcs12.path path to keystore file containing certificate and private key siva.signatureService.pkcs12.password password of the keystore file containing certificate and private key <p>Note</p> <p>When configuring report signature, either PKCS#11 or PKCS#12 should be configured, no need to configure both.</p>"},{"location":"siva2/systemintegrators_guide/#configuration-parameters","title":"Configuration parameters","text":"<p>All SiVa webapps have been designed to run with predetermined defaults after building and without additional configuration. However, all the properties can be overridden on the service or embedded web server level, if necessary.</p> <p>By default, the service loads it's global configuration from the application.yml file that is packaged inside the jar file. Default configuration parameters can be overridden by providing custom application.yml in the following locations, or using command line parameters or by using other externalized configuration methods methods.</p> <p>For example, to configure the embedded Tomcat web server inside a fat jar to run on different port (default is 8080), change the server.port following property:</p> <pre><code>server.port=8080\n</code></pre> <p>Or to increase or modify the default http request limit, override the server.max-http-post-size property:</p> <pre><code>server.max-http-post-size: 13981016\n</code></pre> <p>See the reference list of all common application properties provided by Spring boot</p>"},{"location":"siva2/systemintegrators_guide/#siva-webapp-parameters","title":"Siva webapp parameters","text":"<ul> <li>Updating TSL</li> </ul> Property Description siva.tsl.loader.loadFromCache A boolean value that determines, whether the TSL disk cache is updated by downloading a new TSL in a predetermined intervalNote that the cache is by default stored in a system temporary folder (can be set with system property <code>java.io.tmpdir</code>) in a subdirectory named <code>dss_cache_tsl</code><ul><li>When set to false the cache is refreshed periodically by SiVa in a predetermined interval specified by <code>siva.tsl.loader.schedulerCron</code> using <code>siva.tsl.loader.url</code></li><li>When set to true the siva uses existing cache as it's TSL. No direct polling for updates are performed. </li><li>Default: false</li></ul> siva.tsl.loader.url A url value that points to the external TSL <ul><li>Default: https://ec.europa.eu/tools/lotl/eu-lotl.xml</li></ul> siva.tsl.loader.code Sets the LOTL code in DSS <ul><li>Default: EU</li></ul> siva.tsl.loader.trustedTerritories Sets the trusted territories by countries <ul><li>Default: \"AT\", \"BE\", \"BG\", \"CY\", \"CZ\", \"DE\", \"DK\", \"EE\", \"ES\", \"FI\", \"FR\", \"GR\", \"HU\", \"HR\", \"IE\", \"IS\", \"IT\", \"LT\", \"LU\", \"LV\", \"LI\", \"MT\", \"NO\", \"NL\", \"PL\", \"PT\", \"RO\", \"SE\", \"SI\", \"SK\", \"UK\"</li></ul> siva.tsl.loader.schedulerCron A string in a Crontab expression format that defines the interval at which the TSL renewal process is started. The default is 03:00 every day (local time) <ul><li>Default: 0 0 3 * * ?</li></ul> siva.keystore.type Keystore type. Keystore that contains public keys to verify the signed TSL <ul><li>Default: JKS</li></ul> siva.keystore.filename Keystore that contains public keys to verify the signed TSL <ul><li>Default: siva-keystore.jks</li></ul> siva.keystore.password Keystore password. Keystore that contains public keys to verify the signed TSL <ul><li>Default: siva-keystore-password</li></ul> <p>Note</p> <p>Note that the keystore file location can be overriden using environment variable <code>DSS_DATA_FOLDER</code>. By default the keystore file location, is expected to be on local filesystem in <code>etc</code> directory which is at the same level with the fat jar file (one is created, if no such directory exists).</p> <p>Note</p> <p>TSL is currently used only by Generic and BDOC validators</p> <ul> <li>Forward to custom X-road webapp instance</li> </ul> Property Description siva.proxy.xroadUrl A URL where the X-Road validation requests are forwarded <ul><li>Default: http://localhost:8081</li></ul> <ul> <li>Collecting statistics with Google Analytics</li> </ul> Property Description siva.statistics.google-analytics.enabled Enables/disables the service <ul><li>Default: false</li></ul> siva.statistics.google-analytics.url Statistics endpoint URL <ul><li>Default: http://www.google-analytics.com/batch</li></ul> siva.statistics.google-analytics.trackingId The Google Analytics tracking ID <ul><li>Default: UA-83206619-1</li></ul> siva.statistics.google-analytics.dataSourceName Descriptive text of the system <ul><li>Default: SiVa</li></ul> <ul> <li>BDOC validation parameters</li> </ul> Property Description siva.bdoc.digidoc4JConfigurationFile Path to Digidoc4j configuration override <ul><li>Default: N/A</li></ul> <p>Customizing BDOC validation policies</p> Property Description siva.bdoc.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.bdoc.signaturePolicy.policies[0].name=POLv3\nsiva.bdoc.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.bdoc.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#POLv3\nsiva.bdoc.signaturePolicy.policies[0].constraintPath=bdoc_constraint_no_type.xml\n\nsiva.bdoc.signaturePolicy.policies[1].name=POLv4\nsiva.bdoc.signaturePolicy.policies[1].description=Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\nsiva.bdoc.signaturePolicy.policies[1].url=http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#POLv4\nsiva.bdoc.signaturePolicy.policies[1].constraintPath=bdoc_constraint_qes.xml\n\nsiva.bdoc.signaturePolicy.defaultPolicy=POLv4\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p> <ul> <li>Generic validation - customize validation policies</li> </ul> Property Description siva.europe.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.europe.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.europe.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.europe.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.europe.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.europe.signaturePolicy.policies[0].name=POLv3\nsiva.europe.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.europe.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#POLv3\nsiva.europe.signaturePolicy.policies[0].constraintPath=generic_constraint_ades.xml\n\nsiva.europe.signaturePolicy.policies[1].name=POLv4\nsiva.europe.signaturePolicy.policies[1].description=Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\nsiva.europe.signaturePolicy.policies[1].url=http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#POLv4\nsiva.europe.signaturePolicy.policies[1].constraintPath=generic_constraint_qes.xml\n\nsiva.europe.signaturePolicy.defaultPolicy=POLv4\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p> <ul> <li>DDOC validation</li> </ul> Property Description siva.ddoc.jdigidocConfigurationFile Path to JDigidoc configuration file. Determines the Jdigidoc configuration parameters (see JDigidoc manual for details.<ul><li>Default: /siva-jdigidoc.cfg</li></ul> <p>Customizing DDOC validation policies:</p> Property Description siva.ddoc.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.ddoc.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.ddoc.signaturePolicy.policies[0].name=POLv3\nsiva.ddoc.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.ddoc.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#POLv3\nsiva.ddoc.signaturePolicy.policies[0].constraintPath=ddoc_constraint_no_type.xml\n\nsiva.ddoc.signaturePolicy.policies[1].name=POLv4\nsiva.ddoc.signaturePolicy.policies[1].description=Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\nsiva.ddoc.signaturePolicy.policies[1].url=http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#POLv4\nsiva.ddoc.signaturePolicy.policies[1].constraintPath=ddoc_constraint_qes.xml\n\nsiva.ddoc.signaturePolicy.defaultPolicy=POLv4\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p> <ul> <li>X-road validation</li> </ul> Property Description siva.xroad.validation.service.configurationDirectoryPath Directory that contains the certs of approved CA's, TSA's and list of members <ul><li>Default: /verificationconf</li></ul> Property Description siva.xroad.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.xroad.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.xroad.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.xroad.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.xroad.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.xroad.signaturePolicy.policies[0].name=POLv3\nsiva.xroad.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.xroad.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#POLv3\nsiva.xroad.signaturePolicy.policies[0].constraintPath=xroad_constraint_no_type.xml\n\nsiva.xroad.signaturePolicy.defaultPolicy= POLv3\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p> <p>Note</p> <p>By default, X-road validation currently supports only POLv3</p>"},{"location":"siva2/systemintegrators_guide/#demo-webapp-parameters","title":"Demo webapp parameters","text":"<ul> <li>Linking to SiVa webapp</li> </ul> Property Description siva.service.serviceHost An HTTP URL link to the Siva webapp <ul><li>Default: http://localhost:8080</li></ul> siva.service.jsonServicePath Service path in Siva webapp to access the REST/JSON API<ul><li>Default: /validate</li></ul> siva.service.soapServicePath Service path in Siva webapp to access the SOAP API <ul><li>Default: /soap/validationWebService/validateDocument</li></ul> siva.service.jsonDataFilesServicePath Data file service path in Siva webapp to access the REST/JSON API<ul><li>Default: /getDataFiles</li></ul> siva.service.soapDataFilesServicePath Data file service path in Siva webapp to access the SOAP API <ul><li>Default: /soap/dataFilesWebService/getDocumentDataFiles</li></ul>"},{"location":"siva2/test_plan/","title":"9.6.2 Test Plan","text":""},{"location":"siva2/test_plan/#test-execution","title":"Test execution","text":"<p>Execution of tests in SiVa is divided in three categories: Automated, Automated SoapUI, Manual. The method is also indicated in test case description with TestType field.</p>"},{"location":"siva2/test_plan/#execution-of-automated-type-of-tests","title":"Execution of Automated type of tests","text":"<p>These tests are run automatically by Maven every time SiVa project is built. These tests must pass for the build to be successful. Its also possible to execute the tests separately with Maven wrapper using the command:</p> <pre><code>./mvnw verify\n</code></pre> <p>These tests are part of SiVa project and can also be executed using IntellJ IDEA. To do that, SiVa project must be loaded into IDEA. Tests are located in following packages:</p> <ul> <li>ee.openeid.siva.integrationtest</li> <li>ee.openeid.siva.resttest</li> <li>ee.openeid.siva.soaptest</li> </ul> <p>To run the tests in IDEA right click on package name and select \"Run tests in\". Its also possible to run individual tests by right clicking on specific test code and selecting \"Run\". </p>"},{"location":"siva2/test_plan/#execution-of-automated-soapui-type-of-tests","title":"Execution of Automated SoapUI type of tests","text":"<p>The description how to execute the tests together with SoapUI project file to be used can be found in SiVa GitHub</p>"},{"location":"siva2/test_plan/#execution-of-manual-type-of-tests","title":"Execution of Manual type of tests","text":"<p>Most of the manual tests require that SiVa service is set up together with SiVa Demo Application. The instructions how to set up SiVa are given in System integrator's guide</p> <p>Execution of manual tests depends on testable area. These tests can be divided into following categories:</p> <ul> <li>Statistics tests - test data can be prepeared with exectuting ee.openeid.siva.manualtest package. It can be also generated by uploading files into SiVa Demo application. Results have to be verified in logs and Google Analytics.</li> <li>Report tests - test data can be prepeared with exectuting ee.openeid.siva.manualtest package. Results have to be verified manually.</li> <li>Configuration tests - SiVa configuration files have to be modified by hand and service must be set up. Correct behavior of the service must be checked.</li> <li>Other tests - tests are executed by loading files into SiVa Demo application and validating the results shown in the SiVa Demo application.</li> </ul> <p>Files to use in manual tests can be found in SiVa GitHub</p>"},{"location":"siva2/test_plan/#integration-test-introduction","title":"Integration Test introduction","text":"<p>This section of the document gives overview of Integration Testing carried out on SiVa web service and SiVa Demo Application.</p> <p>SiVa web service Integration Testing is using RestAssured library v2.9.0 to implement automatic checks for REST/SOAP based tests.</p> <p>The testing of the SiVa web service is divided into sections based on the software architecture and functionalities provided to the users. The sections are:</p> <ul> <li>REST API</li> <li>SOAP API</li> <li>DDOC container signature validation</li> <li>BDOC container signature validation</li> <li>ASIC-S container signature validation</li> <li>PDF signature validation</li> <li>X-Road ASIC-E signature validation</li> </ul> <p>The goal is to focus testing on functionalities implemented in SiVa web service application. Functionalities provided by Validation libraries are not explicitly tested.</p> <p>In addition SiVa Demo Application is tested. These tests are carried out manually.</p>"},{"location":"siva2/test_plan/#testing-of-rest-api","title":"Testing of REST API","text":"<p>The goal of the REST API testing is to check that the API is accepting the requests based on the specification and the output result is in correct format and has all the required elements.</p>"},{"location":"siva2/test_plan/#validation-request-tests","title":"Validation request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Wrong (not accepted) values in input parameters</li> <li>Empty values in input paramters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Inconsistencies on stated parameters and actual data (wrong document type)</li> <li>Case insensitivity on parameter names</li> <li>Empty request</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>ValidationRequestIT.java</li> <li>DocumentFormatIT.java</li> </ul>"},{"location":"siva2/test_plan/#get-data-files-request-tests","title":"Get Data Files request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Empty request</li> <li>Empty values in input parameters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Changed order of parameters</li> <li>Case insensitivity on parameter names</li> <li>Inconsistencies on stated parameters and actual data</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>GetDataFileRequestIT.java</li> </ul>"},{"location":"siva2/test_plan/#validation-report-and-report-siganture-tests","title":"Validation report and report siganture tests","text":"<p>SiVa web service returns uniform Validation Report on all the supported document types. This also includes correct document types without actual signature (for example PDF document without signature).</p> <p>Following areas are tested on output (Validation Report):</p> <ul> <li>JSON structure on DDOC, BDOC, PDF, ASIC-E, ASIC-S and ASICE-E X-Road document types</li> <li>Presence of the mandatory elements on DDOC, BDOC, PDF, ASIC-E, ASIC-S and ASICE-E X-Road document types</li> <li>Presence of optional elements on DDOC, BDOC, PDF, ASIC-E, ASIC-S and ASICE-E X-Road document types</li> <li>Verification of expected values</li> <li>JSON structure on containers without signatures</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>ValidationReportValueVerificationIT.java</li> <li>ReportSignatureManualIT.java</li> <li>DetailedReportValidationManualIT.java</li> </ul>"},{"location":"siva2/test_plan/#testing-of-soap-api","title":"Testing of SOAP API","text":"<p>The goal of the SOAP API testing is to check that the API is accepting the requests based on the specification and the output result (Validation Report) is in correct format and has all the required elements. In general the tests follow the same principles as with REST API. Compatibility with X-Road security server is out of scope for these tests and will be covered in X-Road System Test plan.</p>"},{"location":"siva2/test_plan/#validation-request-tests_1","title":"Validation request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Wrong (not accepted) values in input parameters</li> <li>Empty values in input paramters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Inconsistencies on stated parameters and actual data (wrong document type)</li> <li>Case insensitivity on parameter names</li> <li>Empty request</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapValidationRequestIT.java</li> </ul>"},{"location":"siva2/test_plan/#get-data-files-request-tests_1","title":"Get Data Files request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Empty request</li> <li>Empty values in input parameters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Changed order of parameters</li> <li>Case insensitivity on parameter names</li> <li>Inconsistencies on stated parameters and actual data</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapGetDataFileRequestIT.java</li> </ul>"},{"location":"siva2/test_plan/#validation-report-tests","title":"Validation report tests","text":"<p>SiVa web service returns uniform Validation Report on all the supported document types. This also includes correct document types without actual signature (for example PDF document without signature). However not all values may be present for all the document types.</p> <p>Following areas are tested on output (Validation Report):</p> <ul> <li>Presence of the mandatory elements on DDOC, BDOC, PDF, ASIC-S ASIC-E and ASICE-E X-Road document types</li> <li>Presence of optional elements on DDOC, BDOC, PDF, ASIC-S, ASIC-E and ASICE-E X-Road document types</li> <li>Verification of expected values</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapValidationReportValueIT.java</li> </ul>"},{"location":"siva2/test_plan/#get-data-files-report-tests","title":"Get Data Files report tests","text":"<p>Following areas are tested on output:</p> <ul> <li>Presence of the mandatory elements</li> <li>Verification of expected values</li> <li>Extraction of all data files</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapGetDataFileReportIT.java</li> </ul>"},{"location":"siva2/test_plan/#testing-of-ddoc-container-signature-validation","title":"Testing of DDOC container signature validation","text":"<p>The goal of the DDOC container signature validation testing is to check that the validation results given by JDigiDoc library are properly presented in validation report.</p> <p>The testing of DDOC signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated.</li> <li>Containers with invalid signature(s) or no signature are validated</li> <li>Containers sizes near maximum are validated</li> <li>Containers with DDOC v1.0 - 1.3 are validated</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>DdocValidationFailIT.java</li> <li>DdocValidationPassIT.java</li> <li>LargeFileIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva2/test_plan/#testing-of-bdoc-container-signature-validation","title":"Testing of BDOC container signature validation","text":"<p>The goal of the BDOC container signature validation testing is to check that the validation results given by DigiDoc4J library are properly presented in validation report.</p> <p>The testing of BDOC container signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated</li> <li>Containers with invalid signature(s) or no signature are validated</li> <li>Containers sizes near maximum are validated</li> <li>Containers with baseline LT, LTA, T and B profiles</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>BdocValidationFailIT.java</li> <li>BdocValidationPassIT.java</li> <li>LargeFileIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva2/test_plan/#testing-of-asic-s-container-signature-validation","title":"Testing of ASIC-S container signature validation","text":"<p>The goal of the ASIC-S container signature validation testing is to check that the validation results given by DSS library are properly presented in validation report.</p> <p>The testing of ASIC-S container signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated</li> <li>Containers with invalid signature(s) or no signature are validated</li> <li>Containers sizes near maximum are validated</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>AsicsValidationFailIT.java</li> <li>AsicsValidationPassIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva2/test_plan/#testing-of-pdf-signature-validation","title":"Testing of PDF signature validation","text":"<p>Portion of the validation rules for PDF documents are implemented in SiVa web apllication itself. Therefor different test area selection is used for PDF compared to other containers.</p> <p>The testing of PDF signatures consists of following main cases:</p> <ul> <li>Containers with invalid signature(s) (different reasons for failure) are validated</li> <li>Containers with no signature are validated</li> <li>Containers sizes near maximum are validated</li> <li>Containers with different baseline profiles are validated</li> <li>Containers with serial and parallel signatures are validated</li> <li>Containers with different signature cryptocaphic algorithms are validated</li> <li>Containers with OCSP values inside and outside bounds are validated</li> <li>Containers with baseline LT, LTA, T and B profiles</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>PdfBaselineProfileIT.java</li> <li>PdfSignatureCryptographicAlgorithmIT.java</li> <li>PdfValidationFailIT.java</li> <li>PdfValidationPassIT.java</li> <li>LargeFileIT.java</li> </ul>"},{"location":"siva2/test_plan/#testing-of-x-road-asic-e-container-signature-validation","title":"Testing of X-Road ASIC-E container signature validation","text":"<p>The goal of the ASICE container signature validation testing is to check that the validation results given by X-Road signature validation utility are properly presented in validation report.</p> <p>The testing of ASICE signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated</li> <li>Containers with invalid signature(s) are validated</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>XroadValidationPassIT.java</li> <li>XroadValidationFailIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva2/test_plan/#testing-of-data-files-extraction","title":"Testing of Data Files Extraction","text":"<p>The goal of the Data Files Extraction testing  is to check if right data files returned for DDOC container and error messages for other types of containers.</p> <p>The testing of Data Files Extraction consists of following main cases:</p> <ul> <li>Extracting the data files from valid DDOC container</li> <li>Extracting the data files from Hashcoded DDOC  returns null for Base64 encoded String</li> <li>Extracting the data files from DDOC container  with 12 different   types  of files</li> <li>Extracting the data files from not DDOC container</li> <li>Extracting the data files from DDOC container with wrong Document Type</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>DdocGetDataFilesIT.java</li> </ul>"},{"location":"siva2/test_plan/#testing-of-user-statistics","title":"Testing of user statistics","text":"<p>Testing of user statistics is carried out in combination of automatic data preparation and generation by integration tests and manual verification of the results. SiVa supports two parallel ways of gathering user statistics:</p> <ul> <li>Validation results are printed to system log and can be gathered by any suitable means</li> <li>Validation results are sent to Google Analytics using Google Measurement Protocol API</li> </ul> <p>Note</p> <p>Testing of Google Analytics requires creation and configuration of Google Analytics account and configuring SiVa service to send statistics to this account. Configuration of SiVa service is explained in SiVa system deployment.</p> <p>As both systems use the same data the testing follows the same principles for both. Following areas are covered:</p> <ul> <li>Statistics values are checked in log and Google Analytics for all container types (this also includes parameters not present in validation report)</li> <li>Valid and invalid signatures are validated</li> <li>Error situations on signature validation (instead of validation report, error message is returned)</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>StatisticsToGAManualIT.java</li> <li>StatisticsToLogsManualIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Configuring Google Analytics reports is out of scope. Only verification of data presence is done.</li> </ul>"},{"location":"siva2/test_plan/#siva-demo-application-tests","title":"SiVa Demo Application tests","text":"<p>Testing of SiVa Demo Application is done manually. The main cases are:</p> <ul> <li>Cross browser usage (IE, Edge, Chrome, Firefox and Safari)</li> <li>File upload (different sizes, suported and unsupported file types)</li> <li>Displayment of Validation Report both for REST and SOAP</li> <li>Layout of the page</li> <li>Error representation</li> </ul> <p>Sample test cases with input files can be found in:</p> <ul> <li>Demo Application Integration Test </li> </ul>"},{"location":"siva2/test_plan/#system-test-introduction","title":"System Test introduction","text":"<p>While Integration Tests were mostly carried out automatically then System Testing is mostly depending on manual testing.</p> <p>System testing is carried out using two access points:</p> <ul> <li>Testing through SiVa Demo Application</li> <li>Testing through X-Road security server using SoapUI</li> </ul> <p>Note</p> <p>Testing through X-Road security server requires presence and configuration of X-Road security server to use SiVa service.  Tests are run using SoapUI that simulates request to X-Road security server.</p>"},{"location":"siva2/test_plan/#testing-through-x-road-security-server","title":"Testing through X-Road security server","text":"<p>Following areas are covered for document validation:</p> <ul> <li>Validation of valid signature</li> <li>Validation of invalid signatur</li> <li>Validation that returns Soap error</li> </ul> <p>All of the above test cases are run with BDOC, DDOC, PDF, ASIC-S and X-Road ASiC-E containers. </p> <p>Following areas are covered for file extraction:</p> <ul> <li>Extraction of data files from valid ddoc</li> <li>Extraction of data files from invalid ddoc</li> <li>Error response from data file extraction  </li> </ul> <p>Tests along with test case descriptions are available for rerun in github.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>X-Road Soap System Test</li> </ul>"},{"location":"siva2/test_plan/#configurationadministration-testing","title":"Configuration/administration testing","text":"<p>Following areas are covered:</p> <ul> <li>SiVa Web Application configuration</li> <li>X-Road validation service configuration</li> <li>Demo application configuration</li> </ul> <p>Specific test cases can be found in:</p> <ul> <li>Configuration System Test </li> </ul>"},{"location":"siva2/test_plan/#load-test-introduction","title":"Load Test introduction","text":"<p>The goals of the load test was to:</p> <ul> <li>Determine the throughput capabilities of a single Siva node and how it handles requests under increasing load.</li> <li>Test whether the SiVa service throughput is horizontally scalable up to 50 requests per second.</li> </ul> <p>Each container type was load-tested separately since the business logic and underlying mechanics for validating specific container types are vastly different.</p> <p>Load tests were run in three stages \u2013 firstly a single Siva service node was tested to determine the baseline performance metrics. Second and third stage involved adding additional service node to previous setup and testing the horizontal scalability performance. All three target Siva service nodes had identical virtual machine set-up. Virtual machines were installed on separate physical hardware. Siva web service nodes on a target Linux virtual machine were packaged inside a Docker container (along with Java with 4 GB allocated for Heap). The test runner (JMeter plugin used by Maven) resided on a separate machine on local area network. Simple reverse proxy was used as a load balancer to distribute the load between nodes (using round robin algorithm).</p> <p>Load testing is carried out on following environments:</p> <ul> <li>System under test enviroment (processor: Intel(R) Xeon(R) CPU E5-2620 v3 @ 2.40GHz memory: 6GB (4GB allocated for Java heap))</li> <li>Load balancer enviroment (processor: Intel(R) Xeon(R) CPU E5-2620 v3 @ 1.60GHz memory: 4GB)</li> <li>Jmeter executer enviroment (processor: Intel(R) Xeon(R) CPU E5-2620 v2 @ 2.10GHz memory: 10GB)</li> </ul> <p>Following test data is used in load test:</p> <ul> <li>BDOC-TS file with two valid signatures (~100KB and 5MB)</li> <li>BDOC-TM file with two valid signatures (~100KB and 5MB)</li> <li>PDF file with two valid signatures (~200KB and 5MB)</li> <li>DDOC file with two valid signatures (~300KB and 5MB)</li> <li>ASIC-E X-Road container with one valid signature (~10KB)</li> <li>ASIC-S file with two valid signatures (~20KB and 50KB)</li> </ul> <p>Each of the files are validated through REST interface. SOAP interface is used with small files for a comparison. It is evaluated that the interface (REST or SOAP) do not play noticeable effect on overall results.</p> <p>Each of the tested files follow the same test plan:</p> <ul> <li>Five concurrent requests are made per second</li> <li>This load is held for period of time</li> <li>Concurrent requests are increased by five until 50 concurrent requests per second is achieved</li> <li>Latency and throughput is measured on each concurrent request steps</li> </ul>"},{"location":"siva2/use_cases/","title":"9.3.2 Use cases","text":""},{"location":"siva2/use_cases/#digitally-signed-document-validation-process","title":"Digitally signed document validation process","text":"<p>Digitally signed document validation process shows how SiVa chooses validation service and possible output of validation process.</p> <p></p> <p>User of SiVa system provides digitally signed document file in form of Base64 encoded string. The validation of file and validation policy is handled by validation services underlying libraries.</p> <ul> <li>In case of DDOC containers with XAdES signatures it will be Ddoc Validation Service</li> <li>In case of BDOC containers with XAdES signatures it will be Bdoc Validation Service</li> <li>In case of X-ROAD ASIC-E containers with XAdES signatures it will be Xroad Validation Service</li> <li>In case of ASIC-S containers with TimeStampToken it will be Timestamptoken Validation Service</li> <li>In case of other containers or with XAdES, CAdES and PAdES signatures it will be Generic Validation Service</li> </ul> <p>We will log following failure cases: When file upload fails (request started but was not completed successfully) When request validation (JSON or SOAP) fails When signature validation fails</p>"},{"location":"siva2/use_cases/#certificate-loading-process","title":"Certificate loading process","text":"<p>All validation services require certificates to validate digitally signed documents. Below process shows how certificates are loaded into validation service. Loading process is done separably for each validation service.</p> <p></p> <p>Certificate loading process is scheduled cron job inside each validation service to update currently in memory loaded certificates.</p> <p>This process should run after TSL loader has completed updating SiVa local copy of certificates.</p>"},{"location":"siva2/use_cases/#x-road-6-security-server-soap-request-process","title":"X-Road 6 security server SOAP request process","text":"<p>X-Road validation process is brought out because we skip authentication process for X-Road security server interface and and use XML SOAP as input source.</p> <p></p> <p>Validation of SOAP request XML is done in the SiVa web application module. Document validation process is described in detail in Digitally signed document validation process Validation report output id described in Interface description</p>"},{"location":"siva2/use_cases/#tsl-loading-use-case","title":"TSL loading use case","text":"<p>TSL implementd in seprate module. The process is executed in two ways.</p> <ul> <li>When SiVa application is started</li> <li>As scheduled job</li> </ul> <p>Loading process is required action when ASiCE (BDOC) or</p> <p></p>"},{"location":"siva2/use_cases/#ddoc-data-file-extraction-process","title":"DDOC data file extraction process","text":"<p>DDOC data file extraction process shows how SiVa extracts data file(s) from container and possible output of data file extraction.</p> <p></p> <p>User of SiVa system provides digitally signed DDOC file in form of Base64 encoded string. The extraction of data files is handled by underlying JDigiDoc library.</p> <p>We will log following failure cases: When file upload fails (request started but was not completed successfully) When request validation (JSON or SOAP) fails.</p>"},{"location":"siva2/appendix/known_issues/","title":"Appendix 4 - Known Issues","text":""},{"location":"siva2/appendix/known_issues/#known-issues","title":"Known issues","text":"<p>All known issues should be reported and managed under GitHub project issues section</p>"},{"location":"siva2/appendix/test_cases/","title":"Test Case Descriptions","text":""},{"location":"siva2/appendix/test_cases/#introduction","title":"Introduction","text":"<p>This document gives overview of the test cases. This page is partially generated using a script, more info about the script can be found in SiVa GitHub.</p> <p>The structure and elements of test case is described in QA Strategy document. All the files used in the tests can be found in SiVa GitHub.</p>"},{"location":"siva2/appendix/test_cases/#asicevalidationfailitjava","title":"AsiceValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Asice-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with single invalid signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: InvalidLiveSignature.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice with multiple invalid signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: InvalidMultipleSignatures.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice with multiple signatures both valid and invalid</li> <li>Expected Result: The document should fail the validation</li> <li>File: InvalidAndValidSignatures.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice with no signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: AsiceContainerNoSignature.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Wrong signature timestamp</li> <li>Expected Result: The document should fail the validation</li> <li>File: TS-02_23634_TS_wrong_SignatureValue.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice No non-repudiation key usage value in the certificate, verification of AdES signature level</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-I-43.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice signers certificate does not have non-repudiation value in the certificates key usage field and it does not contain the QC and SSCD compliance information.</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-I-26.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: OCSP certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-01_bdoc21-unknown-resp.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice TSA certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: TS-05_23634_TS_unknown_TSA.asice</li> </ul> <p>**Attention! This test is disabled: https://ec.europa.eu/cefdigital/tracker/browse/DSS-1221</p> <p>TestCaseID: Asice-ValidationFail-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-R-25.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice difference between OCSP and time-stamp issuing times is more than 24 hours</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-20.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice unsigned data files in the container</li> <li>Expected Result: The document should pass the validation with warning</li> <li>File: EE_SER-AEX-B-LT-V-34.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice SignatureValue does not correspond to the SignedInfo block</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-19_bdoc21-no-sig-asn1-pref.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice Baseline-BES file</li> <li>Expected Result: The document should fail the validation</li> <li>File: signWithIdCard_d4j_1.0.4_BES.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice Baseline-EPES file</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-04_kehtivuskinnituset.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice signers certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-15_revoked.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice OCSP response status is unknown</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-16_unknown.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice signed data file has been removed from the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-21_fileeemaldatud.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice no files in container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-02_tyhi.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice signed data file(s) don't match the hash values in reference elements</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-14_filesisumuudetud.4.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice Baseline-T signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: TS-06_23634_TS_missing_OCSP.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice certificate's validity time is not in the period of OCSP producedAt time</li> <li>Expected Result: The document should fail the validation</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file is needed where certificate expiration end is before the OCSP produced at time</p>"},{"location":"siva2/appendix/test_cases/#asicevalidationpassitjava","title":"AsiceValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Asice-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice with single valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice TM with multiple valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: BDOC-TS.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice One LT signature with certificates from different countries</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-30.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice Baseline-LT file</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-49.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice Baseline-LTA file</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LTA-V-24.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice file signed with Mobile-ID, ECC-SHA256 signature with prime256v1 key</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-2.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice file with  ESTEID-SK 2015 certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: IB-4270_TS_ESTEID-SK 2015  SK OCSP RESPONDER 2011.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice file with KLASS3-SK 2010 (EECCRCA) certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-28.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: *.sce file with TimeStamp</li> <li>Expected Result: The document should pass the validation</li> <li>File: ASICE_TS_LTA_content_as_sce.sce</li> </ul> <p>TestCaseID: Asice-ValidationPass-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice-TS with special characters in data file</li> <li>Expected Result: The document should pass the validation with correct signature scope</li> <li>File: Nonconventionalcharacters.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice unsigned data files in the container</li> <li>Expected Result: The document should pass the validation with warning</li> <li>File: EE_SER-AEX-B-LT-V-34.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: New Estonian ECC signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Mac_AS0099904_EsimeneAmetlikSKTestElliptilistega_TS.asice</li> </ul>"},{"location":"siva2/appendix/test_cases/#asicsvalidationfailitjava","title":"AsicsValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Asics-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Only one datafile is allowed in ASIC-s</li> <li>Expected Result: The validation should fail</li> <li>File: TwoDataFilesAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: No data file in ASIC-s</li> <li>Expected Result: The validation should fail</li> <li>File: DataFileMissingAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: more folders that META-INF in ASIC-s</li> <li>Expected Result: The validation should fail</li> <li>File: FoldersInAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: META-INF folder not in root of container</li> <li>Expected Result: The validation should fail</li> <li>File: MetaInfNotInRoot.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Not allowed files in META-INF folder</li> <li>Expected Result: The validation should fail</li> <li>File: signatureMixedWithTST.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: TST not intact</li> <li>Expected Result: The validation should fail</li> <li>File: AsicsTSTsignatureModified.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: TST has been corrupted</li> <li>Expected Result: The validation should fail</li> <li>File: AsicsTSTsignatureBroken.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Data file changed</li> <li>Expected Result: The validation should fail</li> <li>File: DatafileAlteredButStillValid.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Exluding files in META-INF folder together with TST</li> <li>Expected Result: The validation should fail</li> <li>File: evidencerecordMixedWithTST.asics</li> </ul>"},{"location":"siva2/appendix/test_cases/#asicsvalidationpassitjava","title":"AsicsValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Asics-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with DDOC inside</li> <li>Expected Result: TST and inner DDOC are valid</li> <li>File: ValidDDOCinsideAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with DDOC inside SCS extension</li> <li>Expected Result: TST and inner DDOC are valid</li> <li>File: ValidDDOCinsideAsics.scs</li> </ul> <p>TestCaseID: Asics-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with BDOC inside</li> <li>Expected Result: TST and inner BDOC are valid</li> <li>File: ValidBDOCinsideAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with text document inside</li> <li>Expected Result: TST is valid</li> <li>File: TXTinsideAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with ASICs inside</li> <li>Expected Result: TST is valid, no inner looping of ASICs</li> <li>File: ValidASICSinsideAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with DDOC inside ZIP extension</li> <li>Expected Result: TST and inner DDOC are valid</li> <li>File: ValidDDOCinsideAsics.zip</li> </ul> <p>TestCaseID: Asics-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with wrong mimetype with DDOC inside</li> <li>Expected Result: TST and inner DDOC are valid</li> <li>File: ValidDDOCinsideAsicsWrongMime.asics</li> </ul>"},{"location":"siva2/appendix/test_cases/#bdocvalidationfailitjava","title":"BdocValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with single invalid signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: IB-3960_bdoc2.1_TSA_SignatureValue_altered.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with multiple invalid signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: BdocMultipleSignaturesInvalid.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with multiple signatures both valid and invalid</li> <li>Expected Result: The document should fail the validation</li> <li>File: BdocMultipleSignaturesMixedWithValidAndInvalid.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with no signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: BdocContainerNoSignature.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with invalid mimetype in manifest</li> <li>Expected Result: document malformed error should be returned</li> <li>File: 23147_weak-warning-sha1-invalid-mimetype-in-manifest.bdoc</li> </ul> <p>**Attention! This test is disabled: /jira.ria.ee/browse/DD4J-161\")</p> <p>TestCaseID: Bdoc-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice with wrong slash character ('\\') in data file mime-type value</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-33.bdoc</li> </ul> <p>**Attention! This test is disabled: /jira.ria.ee/browse/DD4J-161\")</p> <p>TestCaseID: Bdoc-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Wrong signature timestamp</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: TS-02_23634_TS_wrong_SignatureValue.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice No non-repudiation key usage value in the certificate, verification of AdES signature level</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: EE_SER-AEX-B-LT-I-43.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice signers certificate does not have non-repudiation value in the certificates key usage field and it does not contain the QC and SSCD compliance information.</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-I-26.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc OCSP certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-01_bdoc21-unknown-resp.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice TSA certificate is not trusted</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: TS-05_23634_TS_unknown_TSA.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: EE_SER-AEX-B-LT-R-25.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice difference between OCSP and time-stamp issuing times is more than 24 hours</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-20.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc different data file mime-type values in signatures.xml and manifest.xml files</li> <li>Expected Result: The document should return warning regarding the mismatch</li> <li>File: 23613_TM_wrong-manifest-mimetype.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc SignatureValue does not correspond to the SignedInfo block</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-19_bdoc21-no-sig-asn1-pref.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc Baseline-BES file</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: signWithIdCard_d4j_1.0.4_BES.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc Baseline-EPES file</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-04_kehtivuskinnituset.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc signers certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-15_revoked.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc OCSP response status is unknown</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-16_unknown.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc signed data file has been removed from the container</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: KS-21_fileeemaldatud.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc no files in container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-02_tyhi.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-24</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc wrong nonce</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-10_noncevale.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-25</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc signed data file(s) don't match the hash values in reference elements</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-14_filesisumuudetud.4.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-26</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice Baseline-T signature</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: TS-06_23634_TS_missing_OCSP.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-27</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc OCSP response is not the one expected</li> <li>Expected Result: The document should fail the validation</li> <li>File: 23608-bdoc21-TM-ocsp-bad-nonce.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-28</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc certificate's validity time is not in the period of OCSP producedAt time</li> <li>Expected Result: The document should fail the validation</li> <li>File: 23154_test1-old-sig-sigat-OK-prodat-NOK-1.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-29</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc     BDOC-1.0 version container</li> <li>Expected Result: The document should fail the validation</li> <li>File: BDOC-1.0.bdoc</li> </ul>"},{"location":"siva2/appendix/test_cases/#bdocvalidationpassitjava","title":"BdocValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Bdoc with single valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Bdoc TM with multiple valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Bdoc with warning on signature</li> <li>Expected Result: The document should pass the validation but warning should be returned</li> <li>File: bdoc_weak_warning_sha1.bdoc</li> </ul> <p>**Attention! This test is disabled: New file needed. This one has different mimetype value in manifest.xml and signature.xml</p> <p>TestCaseID: Bdoc-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice One LT signature with certificates from different countries</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-30.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Bdoc signed with Mobile-ID, ECC-SHA256 signature with prime256v1 key</li> <li>Expected Result: The document should pass the validation</li> <li>File: 24050_short_ecdsa_correct_file_mimetype.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice Baseline-LT file</li> <li>Expected Result: The document should pass the validation in DD4J</li> <li>File: EE_SER-AEX-B-LT-V-49.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice QES file</li> <li>Expected Result: The document should pass the validation</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice Baseline-LTA file</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LTA-V-24.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice file signed with Mobile-ID, ECC-SHA256 signature with prime256v1 key</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-2.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice file with  ESTEID-SK 2015 certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: IB-4270_TS_ESTEID-SK 2015  SK OCSP RESPONDER 2011.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Asice file with KLASS3-SK 2010 (EECCRCA) certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-28.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Bdoc with Baseline-LT_TM and QES signature level and ESTEID-SK 2011 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: BDOC2.1.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Bdoc TS with multiple valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: Test_id_aa.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Bdoc-TM with special characters in data file</li> <li>Expected Result: The document should pass the validation</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: *.sce file with TimeMark</li> <li>Expected Result: The document should pass the validation</li> <li>File: BDOC2.1_content_as_sce.sce</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: *.sce file with TimeStamp</li> <li>Expected Result: The document should pass the validation</li> <li>File: ASICE_TS_LTA_content_as_sce.sce</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc-TS with special characters in data file</li> <li>Expected Result: The document should pass the validation with correct signature scope</li> <li>File: Nonconventionalcharacters.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Asice unsigned data files in the container</li> <li>Expected Result: The document should pass the validation with warning</li> <li>File: EE_SER-AEX-B-LT-V-34.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: ECC signature vith BDOC TM</li> <li>Expected Result: The document should pass the validation</li> <li>File: testECCDemo.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: ECC signature vith BDOC TS</li> <li>Expected Result: The document should pass the validation</li> <li>File: Mac_AS0099904_EsimeneAmetlikSKTestElliptilistega_TS.asice</li> </ul>"},{"location":"siva2/appendix/test_cases/#ddocgetdatafilesitjava","title":"DdocGetDataFilesIT.java","text":"<p>Open file</p> <p>TestCaseID:  Ddoc-Get-Data-Files-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: Valid DDOC with data file used</li> <li>Expected Result: The data file should be returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: Invalid DDOC with data file used</li> <li>Expected Result: The data file should be returned</li> <li>File: OCSP nonce vale.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title:DDOC with xml v1.1 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: DDOC with xml v1.2 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: DIGIDOC-XML1.2.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: DDOC with xml v1.3 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: Hashcoded DDOC  is  used</li> <li>Expected Result: Null is returned</li> <li>File: DIGIDOC-XML1.3_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled: Run this test manually as it fails in Travis</p> <p>TestCaseID:  Ddoc-Get-Data-Files-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: DDOC  with 12 different  files of different types  is  used</li> <li>Expected Result: Data file returned for each file correctly</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: BDOC with data file used</li> <li>Expected Result: The error message  should be returned</li> <li>File: BDOC-TS.bdoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: PDF file used</li> <li>Expected Result: The error message  should be returned</li> <li>File: hellopades-lt-b.pdf</li> </ul>"},{"location":"siva2/appendix/test_cases/#ddocvalidationfailitjava","title":"DdocValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Ddoc-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc with single invalid signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: AndmefailiAtribuudidMuudetud.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc with multiple invalid signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: multipleInvalidSignatures.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc with multiple signatures both valid and invalid</li> <li>Expected Result: The document should fail the validation</li> <li>File: multipleValidAndInvalidSignatures.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc with no signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: DdocContainerNoSignature.bdoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc signature value has been changed (SignatureValue does not correspond to the SignedInfo block)</li> <li>Expected Result: The document should fail the validation</li> <li>File: test-inv-sig-inf.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc Data file(s) don't match the hash values in Reference elements</li> <li>Expected Result: The document should fail the validation</li> <li>File: AndmefailiAtribuudidMuudetud.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc Baseline-BES file, no OCSP response</li> <li>Expected Result: The document should fail the validation</li> <li>File: ilma_kehtivuskinnituseta.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc no non-repudiation key usage value in the certificate</li> <li>Expected Result: The document should fail the validation</li> <li>File: test-non-repu1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc Signer's certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: Belgia_kandeavaldus_LIV.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc OCSP certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: Tundmatu_OCSP_responder.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc has unsigned data files in the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: lisatud_andmefail.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc signed data file has been removed from the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: faileemald1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc wrong nonce</li> <li>Expected Result: The document should fail the validation</li> <li>File: OCSP nonce vale.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/</li> <li>Title: Ddoc with XML Entity expansion attack</li> <li>Expected Result: The document should fail the validation with error</li> <li>File: xml_expansion.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/</li> <li>Title: Ddoc with XML server side request forgery attack</li> <li>Expected Result: The document should fail the validation with error</li> <li>File: xml_entity.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc no files in container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-02_tyhi.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc XML namespace error in container</li> <li>Expected Result: The document should pass with warning</li> <li>File: ns6t3cp7.ddoc</li> </ul>"},{"location":"siva2/appendix/test_cases/#ddocvalidationpassitjava","title":"DdocValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Ddoc-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.0 with valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>**Attention! This test is disabled:  https://github.com/open-eid/SiVa/issues/11</p> <p>TestCaseID: Ddoc-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.1 with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.2 with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: DIGIDOC-XML1.2.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.3 with valid signature with ESTEID-SK 2011 certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.3 with valid signature, signed data file name has special characters and ESTEID-SK certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.3 KLASS3-SK certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: KLASS3-SK _ KLASS3-SK OCSP RESPONDER uus.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.3 KLASS3-SK 2010 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: KLASS3-SK 2010 _ KLASS3-SK 2010 OCSP RESPONDER.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.1 ESTEID-SK 2007 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: vaikesed1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.1 ESTEID-SK 2007 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: IB-4270_ESTEID-SK 2015  SK OCSP RESPONDER 2011.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.1 ESTEID-SK certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK _ EID-SK OCSP RESPONDER.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.1 ESTEID-SK 2007 and OCSP 2010 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK 2007 _ EID-SK 2007 OCSP RESPONDER 2010.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.3 ESTEID-SK 2007 and OCSP 2007 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK 2007 _ EID-SK 2007 OCSP RESPONDER.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Ddoc v1.3 ESTEID-SK 2011 and OCSP 2011 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK 2011 _ SK OCSP RESPONDER 2011.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Ddoc with warning should pass</li> <li>Expected Result: Document passes the validation</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: DdocHashcode-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of DDOC Hashcode v1.0</li> <li>Expected Result: Document passes the validation</li> <li>File: SK-XML1.0_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled: https://github.com/open-eid/SiVa/issues/11</p> <p>TestCaseID: DdocHashcode-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of DDOC Hashcode v1.1</li> <li>Expected Result: Document passes the validation</li> <li>File: DIGIDOC-XML1.1_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled: This tests fails in Travis. Has been executed locally</p> <p>TestCaseID: DdocHashcode-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of DDOC Hashcode v1.2</li> <li>Expected Result: Document passes the validation</li> <li>File: DIGIDOC-XML1.2_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled: This tests fails in Travis. Has been executed locally</p> <p>TestCaseID: DdocHashcode-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of DDOC Hashcode v1.3</li> <li>Expected Result: Document passes the validation</li> <li>File: DIGIDOC-XML1.3_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled: This tests fails in Travis. Has been executed locally</p>"},{"location":"siva2/appendix/test_cases/#documentformatitjava","title":"DocumentFormatIT.java","text":"<p>Open file</p> <p>TestCaseID: DocumentFormat-1</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of pdf document acceptance</li> <li>Expected Result: Pdf is accepted and correct signature validation is given</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: DocumentFormat-2</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of bdoc document acceptance</li> <li>Expected Result: Bdoc is accepted and correct signature validation is given</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: DocumentFormat-3</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of asice document acceptance</li> <li>Expected Result: asice is accepted and correct signature validation is given</li> <li>File: Vbdoc21-TS.asice</li> </ul> <p>TestCaseID: DocumentFormat-4</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of asics document acceptance</li> <li>Expected Result: asics is accepted and correct signature validation is given</li> <li>File: ValidDDOCinsideAsics.asics</li> </ul> <p>TestCaseID: DocumentFormat-5</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of xades acceptance</li> <li>Expected Result: xades is accepted and correct signature validation is given</li> <li>File: signatures0.xml</li> </ul> <p>TestCaseID: DocumentFormat-6</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Validation of cades acceptance</li> <li>Expected Result: cades is accepted and correct signature validation is given</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: Test file needed</p>"},{"location":"siva2/appendix/test_cases/#documentvalidationitjava","title":"DocumentValidationIT.java","text":"<p>Open file</p> <p>TestCaseID: Document-Validation-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title:Bdoc with two signatures and one unsigned document.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2s_1f_unsigned.bdoc</li> </ul> <p>TestCaseID: Document-Validation-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with two signatures and one document signed by only one signature.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2s_1partly_signed.bdoc</li> </ul> <p>TestCaseID: Document-Validation-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with two signatures and two documents signed by only one signature.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2s_2partly_signed.bdoc</li> </ul> <p>TestCaseID: Document-Validation-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with two signatures, one unsigned and two partly signed documents.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:4f_2s_all_combinations.bdoc</li> </ul> <p>TestCaseID: Document-Validation-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with three unsigned documents.</li> <li>Expected Result: The document should pass the validation and warnings should be displayed.</li> <li>File:6f_2s_3unsigned.bdoc</li> </ul> <p>TestCaseID: Document-Validation-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with deleted document, named in manifest.</li> <li>Expected Result: The document should fail the validation and warning should be displayed.</li> <li>File:2f_2signed_1f_deleted.bdoc</li> </ul> <p>TestCaseID: Document-Validation-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with deleted document, also removed from manifest.</li> <li>Expected Result: The document should fail the validation without warning.</li> <li>File:2f_2signed_1f_totally_removed.bdoc</li> </ul> <p>TestCaseID: Document-Validation-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with one unsigned document, named in manifest.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2signed_1unsigned_all_in_manifest.bdoc</li> </ul> <p>TestCaseID: Document-Validation-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with one unsigned document, NOT named in manifest.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2signed_1unsigned_2in_manifest.bdoc</li> </ul> <p>TestCaseID: Document-Validation-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with signed documents.</li> <li>Expected Result: The document should pass the validation without warning.</li> <li>File:2f_all_signed.bdoc</li> </ul> <p>**Attention! This test is disabled: </p>"},{"location":"siva2/appendix/test_cases/#largefileitjava","title":"LargeFileIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-LargeFiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB PDF files (PAdES Baseline LT).</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_PDF.pdf</li> </ul> <p>TestCaseID: Bdoc-LargeFiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB ASIC-E file</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_BDOC-TS.bdoc</li> </ul> <p>TestCaseID: Bdoc-LargeFiles-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB BDOC-TM</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_BDOC-TM.bdoc</li> </ul> <p>TestCaseID: Ddoc-LargeFiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB DDOC</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_DDOC.ddoc</li> </ul>"},{"location":"siva2/appendix/test_cases/#monitoringitjava","title":"MonitoringIT.java","text":"<p>Open file</p> <p>TestCaseID: WebApp-Monitoring-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#service-health-monitoring</li> <li>Title: Health monitor response structure</li> <li>Expected Result: response matches the expected structure of JSON</li> <li>File: not relevant</li> </ul>"},{"location":"siva2/appendix/test_cases/#pdfbaselineprofileitjava","title":"PdfBaselineProfileIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-BaselineProfile-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF has PAdES-B profile signature polv3</li> <li>Expected Result: Document validation should fail as the profile is not supported with any policy</li> <li>File: hellopades-pades-b-sha256-auth.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF has PAdES-T profile signature polv3</li> <li>Expected Result: Document validation should fail with any policy</li> <li>File: pades-baseline-t-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF has PAdES-LT profile signature polv3</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF has PAdES-LT profile signature polv4</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF has PAdES-LTA profile signature polv3</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF has PAdES-LTA profile signature polv4</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF has PAdES-LT and B profile signature</li> <li>Expected Result: Document validation should fail</li> <li>File: hellopades-lt-b.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: PDF document message digest attribute value does not match calculate value</li> <li>Expected Result: Document validation should fail</li> <li>File: hellopades-lt1-lt2-wrongDigestValue.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: PDF file with a serial signature</li> <li>Expected Result: Document signed with multiple signers with serial signatures should pass</li> <li>File: hellopades-lt1-lt2-Serial.pdf</li> </ul>"},{"location":"siva2/appendix/test_cases/#pdfsignaturecryptographicalgorithmitjava","title":"PdfSignatureCryptographicAlgorithmIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-SigCryptoAlg-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: SHA512 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with SHA512 algorithm should pass</li> <li>File: hellopades-lt-sha512.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: SHA1 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with SHA1 algorithm should pass</li> <li>File: hellopades-lt-sha1.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: ECDSA224 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with ECDSA224 algorithm should pass</li> <li>File: hellopades-lt-sha256-ec224.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: ECDSA256 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with ECDSA256 algorithm should pass</li> <li>File: hellopades-lt-sha256-ec256.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: RSA1024 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA1024 algorithm should pass</li> <li>File: hellopades-lt-sha256-rsa1024.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: RSA1023 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA1023 algorithm should fail</li> <li>File: hellopades-lt-sha256-rsa1023.pdf</li> </ul> <p>**Attention! This test is disabled: ug fixed in DSS version 5.1. https://ec.europa.eu/cefdigital/tracker/browse/DSS-1145</p> <p>TestCaseID: PDF-SigCryptoAlg-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: RSA2047 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA2047 algorithm should pass</li> <li>File: hellopades-lt-sha256-rsa2047.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: RSA2048 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA2048 algorithm should pass</li> <li>File: PdfValidSingleSignature</li> </ul>"},{"location":"siva2/appendix/test_cases/#pdfvalidationfailitjava","title":"PdfValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF-file has been signed with expired certificate (PAdES Baseline T)</li> <li>Expected Result: Document signed with certificate that is expired should fail.</li> <li>File: hellopades-lt-rsa1024-sha1-expired.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF-file has been signed with revoked certificate (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that is revoked should fail.</li> <li>File: pades_lt_revoked.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: The PDF-file has been signed with certificate which has no non repudiation key usage attribute (PAdES Baseline LT)</li> <li>Expected Result: The PDF-file validation should fail with error.</li> <li>File: hellopades-pades-lt-sha256-auth.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: hellopadess been signed with an expired certificate, where signing time is within the original validity</li> <li>Expected Result: Document signed with expired certificate should fail</li> <li>File: hellopades-lt-sha256-rsa2048-expired.pdf</li> </ul> <p>**Attention! This test is disabled: Needs new test file</p> <p>TestCaseID: PDF-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: hellopadess been signed with an expired certificate, where signing time is within the original validity</li> <li>Expected Result: Document signed with expired certificate should fail</li> <li>File: hellopades-lt-sha256-rsa1024-expired2.pdf</li> </ul> <p>**Attention! This test is disabled: le needed</p> <p>TestCaseID: PDF-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: OCSP is taken more than 24h after TS</li> <li>Expected Result: Document signed with expired certificate should fail</li> <li>File: hellopades-lt-sha256-rsa1024-expired2.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: CRL is out of thisUpdate and nextUpdate range</li> <li>Expected Result: Validation should fail</li> <li>File: pades-lt-CRL-taken-days-later.pdf</li> </ul>"},{"location":"siva2/appendix/test_cases/#pdfvalidationpassitjava","title":"PdfValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: The PDF-file has been signed with certificate that is expired after signing (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that expired after signing should pass.</li> <li>File: hellopades-lt-sha256-rsa1024-not-expired.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: The PDF-file has been signed with certificate that will expire in 7 days after signing (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that expired after signing should pass.</li> <li>File: hellopades-lt-sha256-rsa2048-7d.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Pdf with single valid signature</li> <li>Expected Result: Document should pass.</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: The PDF-file has OCSP more than 15 minutes after TS but earlier than 24h</li> <li>Expected Result: Warning should be returned but validation should pass</li> <li>File: hellopades-lt-sha256-ocsp-15min1s.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: The PDF-file has OCSP almost 24h before TS</li> <li>Expected Result: Warning should be returned but validation should pass</li> <li>File: hellopades-lt-sha256-rsa2048-ocsp-before-ts.pdf</li> </ul>"},{"location":"siva2/appendix/test_cases/#reportsignatureitjava","title":"ReportSignatureIT.java","text":"<p>Open file</p> <p>TestCaseID: Detailed-Report-Signature-1</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Simple report signature should not be in response</li> <li>Expected Result: Simple report response should not contain signature</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signature-2</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Simple report signature should be in response</li> <li>Expected Result: Simple report response should contain signature</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signature-3</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature</li> <li>Expected Result: Signed report is successfully validated</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signature-4</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: In simple report reportSignatureEnabled parameter value true</li> <li>Expected Result: File hash in hex in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signature-5</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: In simple report reportSignatureEnabled parameter value false</li> <li>Expected Result: File hash in hex not in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: est should be ran manually after configuring the report signature feature</p>"},{"location":"siva2/appendix/test_cases/#signaturepolicyitjava","title":"SignaturePolicyIT.java","text":"<p>Open file</p> <p>TestCaseID: POLv4-Signature-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The PDF-file is Ades level</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File: soft-cert-signature.pdf</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is Ades level</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File: allkiri_ades.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is Ades signature</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv4-Signature-Policy-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is Ades signature</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv4-Signature-Policy-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is Ades seal</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv4-Signature-Policy-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is ades seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv4-Signature-Policy-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level signature, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, warning is returned about signature level</li> <li>File: testAdesQC.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level signature, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, warning is returned about signature level</li> <li>File: testAdesQC.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level seal, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File: IB-4828_tempel_not_qscd_TS.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level seal, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File: IB-4828_tempel_not_qscd_TM.bdoc</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level, but do not have SSCD/QSCD compliance and type identifier</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: file needed</p> <p>TestCaseID: POLv4-Signature-Policy-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level, but do not have SSCD/QSCD compliance and type identifier</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: file needed</p> <p>TestCaseID: POLv4-Signature-Policy-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: IB-4828_tempel_qscd_TM.bdoc</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is QES level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: IB-4828_tempel_qscd_TS.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is QES level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: EE_SER-AEX-B-LT-V-28.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The PDF-file is Ades level</li> <li>Expected Result: Signatures are not valid according to policy</li> <li>File: soft-cert-signature.pdf</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The bdoc is Ades level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: allkiri_ades.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The bdoc is ADES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: allkiri_ades.asice</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv3-Signature-Policy-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The asice is Ades level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv3-Signature-Policy-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The bdoc is Ades seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv3-Signature-Policy-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The asice is Ades level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv3-Signature-Policy-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level signature, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, warning is returned about signature level</li> <li>File: testAdesQC.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level signature, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, warning is returned about signature level</li> <li>File: testAdesQC.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level seal, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File: IB-4828_tempel_not_qscd_TS.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level seal, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File: IB-4828_tempel_not_qscd_TM.bdoc</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level, but do not have SSCD/QSCD compliance and type identifier</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: file needed</p> <p>TestCaseID: POLv3-Signature-Policy-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level, but do not have SSCD/QSCD compliance and type identifier</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: file needed</p> <p>TestCaseID: POLv3-Signature-Policy-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: IB-4828_tempel_qscd_TM.bdoc</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is QES level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: IB-4828_tempel_qscd_TS.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is QES level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: EE_SER-AEX-B-LT-V-28.asice</li> </ul> <p>TestCaseID: Revocation-Signature-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The PDF-file is missing an OCSP or CRL</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File: PadesProfileT.pdf</li> </ul> <p>TestCaseID: Revocation-Signature-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The PDF-file with included CRL</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: PadesProfileLtWithCrl.pdf</li> </ul>"},{"location":"siva2/appendix/test_cases/#xadeshashcodevalidationfailitjava","title":"XadesHashcodeValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Xades-Hashcode-Validation-Fail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: Data file hash algorithm do not match signature hash algorithm</li> <li>Expected Result: Validation fails</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Fail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Hashes do not match</li> <li>Expected Result: Validation fails</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Fail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Wrong data file name is used</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Fail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Invalid signature in XAdES</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul>"},{"location":"siva2/appendix/test_cases/#xadeshashcodevalidationpassitjava","title":"XadesHashcodeValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Xades-Hashcode-Validation-Pass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: XAdES extracted from ASICE</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Pass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: XAdES extracted from BDOC</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Pass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#siva-signature-validation-policy-version-2-polv4</li> <li>Title: XAdES extracted from BDOC</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_XADES_LT_TS_multiple_datafiles.xml</li> </ul>"},{"location":"siva2/appendix/test_cases/#xroadvalidationfailitjava","title":"XRoadValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Xroad-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Simple xroad document with container fault</li> <li>Expected Result: Document should fail validation</li> <li>File: invalid-digest.asice</li> </ul>"},{"location":"siva2/appendix/test_cases/#xroadvalidationpassitjava","title":"XRoadValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Xroad-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Simple xroad document</li> <li>Expected Result: Document should pass</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Xroad-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Batchsignature xroad document</li> <li>Expected Result: Document should pass</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Xroad-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Attachment xroad document</li> <li>Expected Result: Document should pass</li> <li>File: xroad-attachment.asice</li> </ul>"},{"location":"siva2/appendix/test_cases/#detailedreportvalidationmanualitjava","title":"DetailedReportValidationManualIT.java","text":"<p>Open file</p> <p>TestCaseID: Detailed-Report-Validation-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: ValidationConclusion element</li> <li>Expected Result: Detailed report includes validationConclusion element</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Validation-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: QmatrixBlock element</li> <li>Expected Result: Detailed report includes QmatrixBlock element and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Validation-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Signatures element</li> <li>Expected Result: Detailed report includes signatures element and its sub-elements and its values</li> <li>File: hellopades-lt-sha256-ec256.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Validation-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: basicBuildingBlocks element</li> <li>Expected Result: Detailed report includes basicBuildingBlocks element and its sub-elements and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Validation-5</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: BasicBuildingBlocks element</li> <li>Expected Result: Detailed report includes basicBuildingBlocks element and its sub-elements and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Validation-6</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: BasicBuildingBlocks element</li> <li>Expected Result: Detailed report includes basicBuildingBlocks element and its sub-elements and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Validation-7</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Wrong signature value</li> <li>Expected Result: Detailed report includes wrong signature value</li> <li>File: TS-02_23634_TS_wrong_SignatureValue.asice</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Validation-8</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Wrong data file in manifest</li> <li>Expected Result:</li> <li>File: WrongDataFileInManifestAsics.asics</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Validation-9</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report file hash if ReportSignatureEnabled value true</li> <li>Expected Result: fileHashInHex calculated</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Validation-10</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report file hash if ReportSignatureEnabled value false</li> <li>Expected Result: fileHashInHex no calculated</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p>"},{"location":"siva2/appendix/test_cases/#reportsignaturemanualltjava","title":"ReportSignatureManuallT.java","text":"<p>Open file</p> <p>TestCaseID: Detailed-Report-Signatures-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_LTA signed with RSA key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Signatures-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_LT signed with RSA key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Signatures-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_T signed with RSA key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Signatures-5</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_B signed with RSA key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Signatures-6</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_LTA and signed with ECC key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Signatures-7</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_LT and signed with ECC key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Signatures-8</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_T and signed with ECC key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Signatures-9</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_B and signed with ECC key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Signatures-10</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when configuration parameter OcspUrl empty</li> <li>Expected Result: No signature</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signatures-11</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when configuration parameter TspUrl empty</li> <li>Expected Result: No signature</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signatures-12</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when configuration parameter Pkcs11 wrong value</li> <li>Expected Result: Error message</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p> <p>TestCaseID: Detailed-Report-Signatures-13</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when configuration parameter SignatureLevel empty</li> <li>Expected Result: No Signature</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signatures-14</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when using pks11 to sign</li> <li>Expected Result: Signature exists</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: </p>"},{"location":"siva2/appendix/test_cases/#statisticstogamanualitjava","title":"StatisticsToGAManualIT.java","text":"<p>Note</p> <p>All tests in this class expect manual configuration of Google Analytics before executing the tests. The test are made to prepare test data and ease the test execution, all results must be checked manually in GA! Check all the fields presence and correctness even though tests prepare data for specific cases.</p> <p>TestCaseID: Xauth-Statistics-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf valid container is validated with x-authenticated-user set in header</li> <li>Expected Result: x-authenticated-user value is shown in GA</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Xauth-Statistics-GA-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf valid container is validated with x-authenticated-user set in header</li> <li>Expected Result: x-authenticated-user value is shown as N/A in GA</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Xauth-Statistics-GA-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf valid container is validated with x-authenticated-user set in header</li> <li>Expected Result: x-authenticated-user value is shown as N/A in GA</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Bdoc-Statistics-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc with certificates from different countries.</li> <li>Expected Result: LT, EE and LV country codes are present in GA, Signature container type is ASIC-E TM</li> <li>File: Baltic MoU digital signing_EST_LT_LV.bdoc</li> </ul> <p>TestCaseID: Bdoc-Statistics-GA-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Asice-E TS is validated</li> <li>Expected Result: GA shows Signature container type as ASIC-E TS</li> <li>File: BDOC-TS.bdoc</li> </ul> <p>TestCaseID: Xroad-Statistics-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Xroad valid container is validated</li> <li>Expected Result: Country code XX is sent to GA (GA shows ZZ as the XX is unknown code), Signature container type is ASiC-E (BatchSignature)</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Ddoc-Statistics-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc not supported file is inserted</li> <li>Expected Result: Not shown in GA statistics as the container is not validated</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc invalid container is validated</li> <li>Expected Result: GA shows Signature container type as XAdES, TOTAL-FAILED indication</li> <li>File: ilma_kehtivuskinnituseta.ddoc</li> </ul> <p>TestCaseID: Xauth-Statistics-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf valid container is validated with x-authenticated-user set in header</li> <li>Expected Result: x-authenticated-user value is shown in GA</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul>"},{"location":"siva2/appendix/test_cases/#statisticstologsmanualitjava","title":"StatisticsToLogsManualIT.java","text":"<p>Note</p> <p>All tests in this class expect manual verification of responses in log! The tests are made to prepare test data and ease the test execution.</p> <p>TestCaseID: Bdoc-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Bdoc-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc not supported file is inserted</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Bdoc-Statistics-Log-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Bdoc with certificates from different countries.</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Baltic MoU digital signing_EST_LT_LV.bdoc</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: ilma_kehtivuskinnituseta.ddoc</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc not supported file is inserted</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Ddoc with certificates from different countries.</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Belgia_kandeavaldus_LIV.ddoc</li> </ul> <p>**Attention! This test is disabled: 2-126\")</p> <p>TestCaseID: Pdf-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: hellopades-lt1-lt2-wrongDigestValue.pdf</li> </ul> <p>TestCaseID: Pdf-Statistics-Log-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Pdf with certificates from non Estonian countries.</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Regulatione-signedbyco-legislators.pdf</li> </ul> <p>TestCaseID: Xroad-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Xroad valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Xroad-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Xroad invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: invalid-digest.asice</li> </ul> <p>TestCaseID: Xroad-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: Xroad not supported file is inserted</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: BDOC-TS.bdoc</li> </ul> <p>TestCaseID: Asics-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: ASiCs valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: ValidBDOCinsideAsics.asics</li> </ul> <p>TestCaseID: Asics-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/pdf-files/SiVa_statistics.pdf</li> <li>Title: asics invalid container is validated</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: TwoDataFilesAsics.asics</li> </ul>"},{"location":"siva2/appendix/test_cases/#getdatafilerequestitjava","title":"GetDataFileRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Get-Data-Files-Request-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Input empty values</li> <li>Expected Result: Errors are returned stating the missing values</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Get-Data-Files-Request-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Totally empty request body is sent</li> <li>Expected Result: Errors are given</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Get-Data-Files-Request-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Order of elements is changed in request</li> <li>Expected Result: Order of  elements is ignored, no error messages in response</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Additional elements are added</li> <li>Expected Result: Added elements ignored, no error messages and  additional elements in response</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Mandatory element 'documentType' is duplicated, duplicated element with bdoc value</li> <li>Expected Result: Error message is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Mandatory element 'document' is deleted</li> <li>Expected Result: Errors returned stating the missing element</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Low case for document type is used</li> <li>Expected Result: Data file is returned, no error messages</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to BDOC, actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to PDF, actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to unsupported format (JPG), actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to XROAD format, actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to DDOC format, actual is BDOC</li> <li>Expected Result: Error is returned</li> <li>File: BDOC-TS.bdoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to DDOC format, actual is PDF</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Get-Data-Files-Request-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: For Unsupported format Document Type is changed in request to DDOC format, actual is PNG</li> <li>Expected Result: Error is returned</li> <li>File: Picture.png</li> </ul>"},{"location":"siva2/appendix/test_cases/#hashcodevalidationrequestitjava","title":"HashcodeValidationRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Get-Hascode-Validation-Request-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input correct values for simple report</li> <li>Expected Result: Simple report is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input correct values for detailed report</li> <li>Expected Result: Detailed report is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input missing signature file</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input missing signature file</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input incorrect signature file</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input file without signature</li> <li>Expected Result: Validation report is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Not correct file type</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input missing filename</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input empty filename</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input whitespace filename</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input too long filename</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input invalid format filename</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Input wrong file type in filename</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Report type missing</li> <li>Expected Result: Default is used</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Report type case sensitivity</li> <li>Expected Result: Report type is case insensitive</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Report type is invalid</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Signature policy missing</li> <li>Expected Result: Default is used</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Signature policy is invalid</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Incorrect signature policy format</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Signature policy is empty</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Signature policy too long</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file missing</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Empty data files list</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-24</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file filename missing</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-25</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file filename empty</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-26</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file filename too long</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-27</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file filename invalid format</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-28</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file invalid hash algorithm</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-29</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file hash algorithm case sensitivity</li> <li>Expected Result: Validation report is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-30</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file hash missing</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-31</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file hash empty</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-32</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Data file hash wrong format</li> <li>Expected Result: Error is returned</li> <li>File: hashAsiceXades.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-33</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface-for-hashcode</li> <li>Title: Excess data files are ignored</li> <li>Expected Result: Validation report is returned</li> <li>File: hashAsiceXades.xml</li> </ul>"},{"location":"siva2/appendix/test_cases/#validationreportvalueverificationitjava","title":"ValidationReportValueVerificationIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface#validation-request-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT_TM, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23635_bdoc_ts_OCSP_random_nonce.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT-TM, AdESqc</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: testAdesQCInvalid.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Bdoc valid multiple signatures)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: Baltic MoU digital signing_EST_LT_LV.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Bdoc indeterminate status)</li> <li>Expected Result: All required elements are present according to BdocDocSimpleReportSchema.json</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title:  Bdoc report with no signatures</li> <li>Expected Result: Report is returned with required elements</li> <li>File:BdocContainerNoSignature.bdoc</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf valid single signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: hellopades-lt-sha256-ec256.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf valid Multiple signatures)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf invalid signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: hellopades-lt-b.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf indeterminate status)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: hellopades-lt-rsa1024-sha1-expired.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title:  Pdf report with no signatures</li> <li>Expected Result: Report is returned with required elements</li> <li>File: PdfNoSignature.pdf</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (ddoc valid single signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (ddoc invalid signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: multipleInvalidSignatures.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Check for optional warning element</li> <li>Expected Result: Warning element is present</li> <li>File: ns6t3cp7.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title:  Ddoc report with no signatures</li> <li>Expected Result: Report is returned with required elements</li> <li>File: DdocContainerNoSignature.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.0, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>**Attention! This test is disabled: https://github.com/open-eid/SiVa/issues/11</p> <p>TestCaseID: Ddoc-ValidationReportVerification-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.1, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.2, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.2.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.3, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Xroad-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-simple container</li> <li>Expected Result: Report is returned with required elements</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Xroad-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-batchsignature container</li> <li>Expected Result: Report is returned with required elements</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Xroad-ValidationReportVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-attachment container</li> <li>Expected Result: Report is returned with required elements</li> <li>File: xroad-attachment.asice</li> </ul> <p>TestCaseID: Xroad-ValidationReportVerification-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report with invalid xroad container</li> <li>Expected Result: Report is returned with required elements</li> <li>File: xroad-attachment.asice</li> </ul>"},{"location":"siva2/appendix/test_cases/#validationrequestitjava","title":"ValidationRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: ValidationRequest-Parameters-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Happy path valid mandatory input test</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Happy path valid all input test</li> <li>Expected Result: Validation report is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Totally empty request body is sent</li> <li>Expected Result: Error is given</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Input empty values</li> <li>Expected Result: Errors are returned stating the missing values</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with more parameters than expected is sent</li> <li>Expected Result: Error is given or extra parameters are ignored?</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request has invalid keys (capital letters)</li> <li>Expected Result: Error is returned stating wrong values</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Document parameter is missing</li> <li>Expected Result: Errors are returned stating missing Document values</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Filename parameter is missing</li> <li>Expected Result: Errors are returned stating the missing values</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Happy path valid file encoding format</li> <li>Expected Result: Validation report is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Happy path valid file encoding format</li> <li>Expected Result: Validation report is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with not base64 string as document</li> <li>Expected Result: Error is returned stating encoding problem</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Filename field should be case insensitive</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Filename field should ignore spaces</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request has invalid character in filename</li> <li>Expected Result: Correct error code is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Filename is in allowed length</li> <li>Expected Result: Report is returned with the same filename</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Filename is over allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: DocumentType parameter is missing</li> <li>Expected Result: Document type is selected automatically and validation report is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: DocumentType parameter is XROAD</li> <li>Expected Result: Xroad validatior is used for validation and report is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: DocumentType parameter is XROAD</li> <li>Expected Result: Xroad validatior is used for validation and report is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy parameter is missing, default is used</li> <li>Expected Result: Validation report is returned with POLv4</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is set as POLv3</li> <li>Expected Result: Validation report is returned with POLv3</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is set as POLv4</li> <li>Expected Result: Validation report is returned with POLv4</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy has not allowed value</li> <li>Expected Result: error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-24</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: ReportType parameter is missing</li> <li>Expected Result: Simple report is returned as default</li> <li>File: TS-11_23634_TS_2_timestamps.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-25</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: ReportType parameter is missing</li> <li>Expected Result: Simple report is returned</li> <li>File: TS-11_23634_TS_2_timestamps.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-26</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: ReportType parameter is missing</li> <li>Expected Result: Simple report is returned</li> <li>File: TS-11_23634_TS_2_timestamps.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-27</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: ReportType parameter is invalid</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-28</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Filename is under allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-29</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is under allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-30</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Validator-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in stated and actual document (bdoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: ValidationRequest-Validator-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as bdoc</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-Validator-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Acceptance of ASICE as BDOC document type</li> <li>Expected Result: Asice files are handled the same as bdoc</li> <li>File: bdoc21-TS.asice</li> </ul> <p>TestCaseID: ValidationRequest-Validator-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as pdf</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Validator-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in stated and actual document (ddoc and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Validator-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as ddoc</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-Validator-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in stated and actual document (xroad and ddoc)</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: ValidationRequest-Validator-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with xroad document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul>"},{"location":"siva2/appendix/test_cases/#soapgetdatafilereportitjava","title":"SoapGetDataFileReportIT.java","text":"<p>Open file</p> <p>TestCaseID: SoapGetDataFile-Report-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report, checks for  File name, Base64, Mimetype and Size</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: SoapGetDataFile-Report-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report xml v1.1, checks for  File name, Base64, Mimetype and Size</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID: SoapGetDataFile-Report-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report xml v1.2, checks for  File name, Base64, Mimetype and Size</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: DIGIDOC-XML1.2.ddoc</li> </ul> <p>TestCaseID: SoapGetDataFile-Report-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report for container with a number of files, checks for  File name, Base64, Mimetype and Size for each file</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>**Attention! This test is disabled: Run this test manually as it fails in Travis because of big response data</p>"},{"location":"siva2/appendix/test_cases/#soapgetdatafilerequestitjava","title":"SoapGetDataFileRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Input empty values</li> <li>Expected Result: Error is returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Input empty body</li> <li>Expected Result: Error is returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Element DocumentType is removed from the body</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Element Document is removed from the body</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Element DocumentType is duplicated in the body with different value</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Additional element Filename is added to  the body</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Value for element Document was changed</li> <li>Expected Result: Error is returned</li> <li>File: ddoc_1_3.xml.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to BDOC when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to PDF when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to XROAD when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to unsupported format JPG when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to DDOC when actual is PDF</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to DDOC when actual is BDOC</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul>"},{"location":"siva2/appendix/test_cases/#soapvalidationreportvalueitjava","title":"SoapValidationReportValueIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT_TM, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: Bdoc-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23635_bdoc_ts_OCSP_random_nonce.bdoc</li> </ul> <p>TestCaseID: Bdoc-SoapValidationReportValue-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, AdES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>**Attention! This test is disabled: New testfile needed</p> <p>TestCaseID: Bdoc-SoapValidationReportValue-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT_TM, AdESqc, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: testAdesQC.bdoc</li> </ul> <p>**Attention! This test is disabled: Testfile needed</p> <p>TestCaseID: Bdoc-SoapValidationReportValue-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LTA, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: EE_SER-AEX-B-LTA-V-24.bdoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.0, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>**Attention! This test is disabled: https://github.com/open-eid/SiVa/issues/11</p> <p>TestCaseID: Ddoc-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.1, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.2, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.2.ddoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.3, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Pdf-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, PAdES_baseline_LT, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, PAdES_baseline_B, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: hellopades-pades-b-sha256-auth.pdf</li> </ul> <p>TestCaseID: Xroad-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-simple container</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Xroad-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xroad-simple invalid container</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: invalid-digest.asice</li> </ul>"},{"location":"siva2/appendix/test_cases/#soapvalidationrequestitjava","title":"SoapValidationRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Soap-ValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Empty request body</li> <li>Expected Result: Error is returned stating mismatch with required elements</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with not base64 string as document</li> <li>Expected Result: Error is returned stating encoding problem</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Verification of wrong document type as input</li> <li>Expected Result: Correct error code is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Verification of case sensitivity in document type</li> <li>Expected Result: Error is returned as WSDL defines the allowed values</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request has XML as document type (special case, XML is similar to ddoc and was a accepted document type in earlier versions)</li> <li>Expected Result: Error is given</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request has long filename field</li> <li>Expected Result: Report is returned with the same filename</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Totally empty request body is sent</li> <li>Expected Result: Error is given</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with more parameters than expected is sent</li> <li>Expected Result: Error is given or extra parameters are ignored?</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with more parameters than expected is sent</li> <li>Expected Result: Error is given or extra parameters are ignored?</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with special chars is sent</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with no optional SignaturePolicy field</li> <li>Expected Result: Validation report is returned using default policy</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with XML expansion</li> <li>Expected Result: Error is returned and Entity is not handled</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request XML external entity attack</li> <li>Expected Result: Error message is returned and Doctype field is not handled</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with empty document</li> <li>Expected Result: Error is returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with empty filename</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Request with not allowed signature policy characters</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is over allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is under allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Filename is under allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Filename is over allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with bdoc document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Verification of filename value (filename do not match the actual file)</li> <li>Expected Result: The same filename is returned as sent in the request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and ddoc)</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Bdoc file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Bdoc file, policy fiels should be case insensitive</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with ddoc document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File:</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Ddoc file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-attachment.asice</li> </ul> <p>TestCaseID: Soap-PdfValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with pdf document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-PdfValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: PDF file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-XroadValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: X-road file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Soap-XroadValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (xroad and ddoc)</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-XroadValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (pdf and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-XroadValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul>"},{"location":"siva2/appendix/test_cases/#soapxroadrequestheaderitjava","title":"SoapXRoadRequestHeaderIT.java","text":"<p>Open file</p> <p>TestCaseID: XroadSoap-RequestVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Soap headers are returned in response</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: XroadSoap-RequestVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Soap headers are returned in correct order</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: XroadSoap-RequestVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#validation-request-interface</li> <li>Title: Soap headers are returned in error response</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: not relevant</li> </ul> <p>TestCaseID: XroadSoap-GetDataFiles-RequestVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Soap headers are returned in response for Get Data Files</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: XroadSoap-GetDataFiles-RequestVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Soap headers are returned in correct order for Get Data Files</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: XroadSoap-GetDataFiles-RequestVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/interfaces/#data-files-request-interface</li> <li>Title: Soap headers are returned in error response for Get Data Files</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: not relevant</li> </ul>"},{"location":"siva2/appendix/test_cases/#demo-application-integration-test","title":"Demo Application Integration Test","text":"<p>TestCaseID: Demo-Application-Elements-1</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Upload of correct file type</li> <li>Expected Result: Its possible to upload the file by dropping in download area or by browsing a file</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Demo-Application-Elements-2</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Upload of invalid file type</li> <li>Expected Result: File is not validated, corresponding errors are returned</li> <li>File: XML.xml</li> </ul> <p>TestCaseID: Demo-Application-Elements-3</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Upload file larger than 10MB</li> <li>Expected Result: File is not validated</li> <li>File: hellopades-lta-no-ocsp.pdf</li> </ul> <p>TestCaseID: Demo-Application-Elements-4</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Page layout</li> <li>Expected Result: All elements are properly displayed and can be used with different window sizes</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Demo-Application-Validation-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Validate container with valid signatures</li> <li>Expected Result: Validation report is displayed correctly both for JSON and SOAP</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Demo-Application-Validation-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Validate container with valid signatures</li> <li>Expected Result: Validation report is displayed correctly both for JSON and SOAP</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Demo-Application-Validation-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Validate container with invalid signatures</li> <li>Expected Result: Validation report is displayed correctly both for JSON and SOAP</li> <li>File: IB-3960_bdoc2.1_TSA_SignatureValue_altered.bdoc</li> </ul> <p>TestCaseID: Demo-Application-Validation-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/#validation-request-interface</li> <li>Title: Validate container with not passing policy (POLv2)</li> <li>Expected Result: Validation report is displayed correctly (correct policy is returned) both for JSON and SOAP</li> <li>File: soft-cert-signature.pdf</li> </ul>"},{"location":"siva2/appendix/test_cases/#x-road-soap-system-test","title":"X-Road Soap System Test","text":"<p>TestCaseID: Xroad-Validate-Ddoc-1</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate valid Ddoc</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Xroad-Validate-Ddoc-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate invalid Ddoc</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: test-non-repu1.ddoc</li> </ul> <p>TestCaseID: Xroad-Validate-Ddoc-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-Validate-Bdoc-1</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate valid Bdoc</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Xroad-Validate-Bdoc-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate invalid Bdoc</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: TM-15_revoked.4.asice</li> </ul> <p>TestCaseID: Xroad-Validate-Bdoc-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-Validate-Pdf-1</p> <ul> <li>TestType: Automated SoapUI </li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate valid Pdf</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: Xroad-Validate-Pdf-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate invalid Pdf</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: pades-baseline-t-live-aj.pdf</li> </ul> <p>TestCaseID: Xroad-Validate-Pdf-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-Validate-Xroad-1</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate valid Xroad</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Xroad-Validate-Xroad-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Validate invalid Xroad</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: invalid-digest.asice</li> </ul> <p>TestCaseID: Xroad-Validate-Xroad-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-GetDataFiles-DDOC-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Get data files from valid DDOC</li> <li>Expected Result: Data files should be returned</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Xroad-GetDataFiles-DDOC-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Get data files from invalid DDOC</li> <li>Expected Result: Data files should be returned even if the signatures are not valid</li> <li>File: test-non-repu1.ddoc</li> </ul> <p>TestCaseID: Xroad-GetDataFiles-DDOC-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v2/interfaces/</li> <li>Title: Invalid request</li> <li>Expected Result: Error is returned as the document type is not supported</li> <li>File: test-non-repu1.ddoc  </li> </ul>"},{"location":"siva2/appendix/test_cases/#configuration-system-test","title":"Configuration System Test","text":"<p>TestCaseID: Configuration-Webapp-TSL-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: TSL update over network</li> <li>Expected Result: TSL is updated from configured path</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-TSL-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: TSL update disabled</li> <li>Expected Result: Local cashe is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-TSL-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: TSL trusted territories</li> <li>Expected Result: only listed countries are allowed</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-TSL-5</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: TSL loader scheduler cron</li> <li>Expected Result: TSL renewal process is started</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Keystore-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Keystore change</li> <li>Expected Result: configured keystore is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Scheduler-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Update time is configured</li> <li>Expected Result: configured time is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Xroad-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: X-Road validator service address is changed</li> <li>Expected Result: correct address is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-GA-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Google Analytics is configured</li> <li>Expected Result: Data is transfered to GA</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Policy-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Configure policy for bdoc</li> <li>Expected Result: Configuration is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Policy-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Configure policy for pdf</li> <li>Expected Result: Configuration is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Monitoring-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled for webapp only</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Monitoring-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled for webapp and Xroad Service</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Monitoring-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled and custom links are configured</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info</li> <li>File: not relevant    </li> </ul> <p>TestCaseID: Configuration-XroadService-Monitoring-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info for Xroad Service</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-DemoApplication-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Configuration of SiVa Web Service access</li> <li>Expected Result: Correct web service is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-DemoApplication-Monitoring-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info using basic authentication</li> <li>File: not relevant</li> </ul>"},{"location":"siva2/appendix/validation_policy/","title":"SiVa Signature Validation Policy","text":""},{"location":"siva2/appendix/validation_policy/#introduction","title":"Introduction","text":"<p>This signature validation policy document specifies signature validation rules used for validating signatures in SiVa digital signature validation service (hereinafter: Service).</p>"},{"location":"siva2/appendix/validation_policy/#versioning","title":"Versioning","text":"<p>Different policy versions may be used by the service in the following conditions:</p> <ul> <li>different validation policies may be in use simultaneously, enabling the Service's user to choose the most suitable policy for a specific business context;</li> <li>validation policies are subject to change, i.e. there may be an update to a policy which causes the previous version to become no longer used (obsolete);</li> <li>for later reference, the validation report returned by the Service must indicate the specific version of validation policy that was used during validation process.</li> <li>for later reference, previous versions of validation policy documents should remain available for the Service's users.</li> </ul> <p>The following validation policy versions are supported in SiVa 2.0 service:</p> <ol> <li>SiVA Signature Validation Policy - Version 3 (POLv3)</li> <li>SiVA Signature Validation Policy - Version 4 (POLv4)</li> </ol> <p>The following validation policy versions are marked as obsolete in SiVa 2.0 service:</p> <ol> <li>SiVA Signature Validation Policy - Version 1 (POLv1)</li> <li>SiVA Signature Validation Policy - Version 2 (POLv2)</li> </ol>"},{"location":"siva2/appendix/validation_policy/#general-principles-of-siva-validation-policies","title":"General principles of SiVa validation policies","text":"<ol> <li>The validation policy documents describe validation rules for all digital signature formats that are supported in SiVa.</li> <li>All rules described for electronic signatures also apply for electronic seals and digital stamps if not explicitly stated otherwise.</li> <li>The set of signature validation constraints that are used by the Service are a combination of constraints defined in the Service itself and constraints that are implicitly defined in base components of the service, including:<ul> <li>Validation rules defined by the standard or specification documents of the digital signature formats supported in SiVa (described in Signature format constraints section).</li> <li>Validation rules defined by base libraries used in SiVa that implement the supported digital signature formats, i.e. the validation constraints that are imposed by the source code implementation or configuration of the base libraries (described in Base libraries' constraints section).</li> </ul> </li> </ol> <p>Note</p> <p>When no specific validation rule is set in the present document, the requirements and rules from the abovementioned implicit sources for validation requirements shall apply in their entirety. When specific requirements and rules are set in the present validation policy document, they shall prevail over the corresponding requirements set in the implicit resources.</p>"},{"location":"siva2/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3","title":"SiVA Signature Validation Policy - Version 3 (POLv3)","text":""},{"location":"siva2/appendix/validation_policy/#description","title":"Description","text":"<p>Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature. </p>"},{"location":"siva2/appendix/validation_policy/#url","title":"URL","text":"<pre><code>http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv3\n</code></pre>"},{"location":"siva2/appendix/validation_policy/#polv3-validation-constraints","title":"POLv3 validation constraints","text":"<ol> <li>The signature may be a Qualified Electronic Signature (QES), Advanced electronic Signature (AdES) or AdES supported by a Qualified Certificate (AdES/QC) taking account of the following requirements:<ul> <li>Qualified Certificate (QC) requirement<ul> <li>The signer\u2019s certificate may be a qualified or non-qualified certificate, as meant by the eIDAS regulation.</li> <li>The signer's certificate is considered acceptable by the validation process even if it is not possible to determine the certificate's QC compliance.</li> </ul> </li> <li>SSCD/QSCD (Secure/Qualified Signature Creation Device) requirement<ul> <li>Signer certificate may or may not comply with SSCD/QSCD criteria. </li> <li>The signer's certificate is considered acceptable by the validation process even if it is not possible to determine the certificate's SSCD/QSCD compliance.</li> </ul> </li> </ul> </li> <li>Constraints defined in the Common validation constraints (POLv3, POLv4) section</li> </ol>"},{"location":"siva2/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4","title":"SiVA Signature Validation Policy - Version 4 (POLv4)","text":""},{"location":"siva2/appendix/validation_policy/#description_1","title":"Description","text":"<p>Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.</p>"},{"location":"siva2/appendix/validation_policy/#url_1","title":"URL","text":"<pre><code>http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#POLv4\n</code></pre>"},{"location":"siva2/appendix/validation_policy/#polv4-validation-constraints","title":"POLv4 validation constraints","text":"<ol> <li>The requirements for the signature level depend on signature type.<ul> <li>Qualified Certificate (QC) requirement<ul> <li>The signer\u2019s certificate must be a qualified certificate, as meant by the eIDAS regulation.</li> <li>If Trusted Lists are used during signature validation then also the signer certificate\u2019s qualification information in the Trusted List is taken into account.</li> </ul> </li> <li>SSCD/QSCD (Secure/Qualified Signature Creation Device) requirement<ul> <li>In case of Signatures, signer certificate should comply with SSCD/QSCD criteria, otherwise warning is returned.</li> <li>In case of Seals, there is no requirement for SSCD/QSCD criteria.</li> <li>If it is not possible to determine the signature type, it must comply with SSCD/QSCD criteria.</li> <li>If Trusted Lists are used during signature validation then the also signer certificate\u2019s SSCD/QSCD qualification information in the Trusted List is taken into account. </li> </ul> </li> <li>The signer's certificate is not considered acceptable by the validation process if it is not possible to determine the certificate's QC and SSCD/QSCD compliance, with the following exception:<ul> <li>In case of DIGIDOC-XML 1.0...1.3 and the respective hashcode formats, it is assumed that the signer's certificate complies with QC and SSCD/QSCD requirements, if the certificate is issued by SK and if the nonRepudiation bit has been set in the certificate's Key Usage field. See also Certificate Profile documents of certificates issued by SK, ETSI EN 319 412-2 and ETSI EN 319 412-3.</li> </ul> </li> </ul> </li> <li>Constraints defined in the Common validation constraints (POLv3, POLv4) section</li> </ol>"},{"location":"siva2/appendix/validation_policy/#common-validation-constraints-polv3-polv4","title":"Common validation constraints (POLv3, POLv4)","text":""},{"location":"siva2/appendix/validation_policy/#general-constraints","title":"General constraints","text":"<ol> <li>The validation result returned by SiVa determines whether a signature is technically valid and depending of a container type also conforms to a set of validation constraints that are specific to Estonian legislation and local practices of digital signing. The policy may not be suitable for signatures created in other territories.</li> <li>The validation result returned by SiVa comprises validation results of all the signatures in a single signature container (in case of detached signatures) or all signatures in a signed document (in case of enveloped or enveloping signatures). I.e. in case of multiple detached/enveloped/enveloping signatures, overall validation result correspoinding to the collection of signatures is not determined.</li> </ol>"},{"location":"siva2/appendix/validation_policy/#signature-format-constraints","title":"Signature format constraints","text":"<ol> <li> <p>SiVa implicitly implements constraints that are specified in the specification documents of the signature formats supported by the Service:</p> <ul> <li>BDOC 2.1 ASiC-E/XAdES signatures</li> <li>X-Road ASiC-E/XAdES signatures</li> <li>PAdES signatures</li> <li>XAdES signatures</li> <li>CAdES signatures</li> <li>DIGIDOC-XML  1.0, 1.1, 1.2, 1.3 signatures</li> <li>DIGIDOC-XML 1.0, 1.1, 1.2 and 1.3 signatures in hashcode format</li> </ul> </li> </ol>"},{"location":"siva2/appendix/validation_policy/#base-libraries-constraints","title":"Base libraries' constraints","text":"<ol> <li> <p>SiVa implicitly implements constraints that are imposed by the base software libraries that are used by the service. For more information, see the documentation and source code of the base libraries:</p> <ul> <li>JDigiDoc - is used to validate signatures in DIGIDOC-XML 1.0...1.3 format, including documents in hashcode form.</li> <li>DigiDoc4J - is used to validate signatures in BDOC 2.1 format</li> <li>asicverifier - is used for validating ASiC-E/XAdES signatures created in X-Road system.</li> <li>Open-eID DSS fork - is used to validate all other signature formats than mentioned above</li> </ul> </li> </ol>"},{"location":"siva2/appendix/validation_policy/#baseline-profile-constraints","title":"Baseline Profile constraints","text":"<ol> <li>The signature must comply with Baseline Profile of the respective signature format:<ul> <li>XAdES Baseline Profile</li> <li>PAdES Baseline Profile</li> <li>CAdES Baseline Profile</li> </ul> </li> <li>In case of Baseline LT-level signature with time-mark, the notation BASELINE_LT_TM is used.</li> <li>The following table describes supported Baseline Profile levels, according to signature formats:</li> </ol> Signature format BASELINE_B BASELINE_T BASELINE_LT BASELINE_LT_TM BASELINE_LTA BDOC NOK NOK OK OK OK X-Road signature (simple form) NOK NOK OK NOK NOK X-Road signature (batch signature) OK NOK NOK NOK NOK PAdES NOK NOK OK NOK OK XAdES NOK NOK OK NOK OK CAdES NOK NOK OK NOK OK **DIGIDOC-XML 1.0...1.3 ** NOK NOK NOK OK NOK **DIGIDOC-XML 1.0...1.3 hashcode ** NOK NOK NOK OK NOK <p>Legend:</p> <ul> <li>OK - the respective Baseline Profile level is supported and acceptable.</li> <li>NOK - the respective Baseline Profile level is not supported or is considered insufficient for the signature format.</li> </ul>"},{"location":"siva2/appendix/validation_policy/#x509-validation-constraints","title":"X.509 validation constraints","text":"<ol> <li>The signer certificate\u2019s Key Usage field must have nonRepudiation bit set (also referred to as contentCommitment).</li> </ol>"},{"location":"siva2/appendix/validation_policy/#cryptographic-algorithm-constraints","title":"Cryptographic algorithm constraints","text":"<ol> <li>Hash algorithm constraints:<ul> <li>In case of BDOC format: when validating a signature where SHA-1 function has been used then a validation warning about weak digest method is returned.</li> </ul> </li> <li>Asymmetric cryptographic algorithm contraints:<ul> <li>RSA and ECC cryptographic algorithms are supported</li> <li>In case of PAdES/XAdES(also BDOC)/CAdES formats, the RSA key lenght must be at least 1024 bits and ECC key length at least 192 bits.</li> </ul> </li> </ol>"},{"location":"siva2/appendix/validation_policy/#trust-anchor-constraints","title":"Trust anchor constraints","text":"<ol> <li>The signature must contain the certificate of the trust anchor and all certificates necessary for the signature validator to build a certification path up to the trust anchor. This applies to the signer\u2019s certificate and the certificates of trust service providers that have issued the time-stamp token and revocation data that are incorporated in the signature.</li> <li>Trust Anchors are:<ul> <li>In case of XAdES/CAdES/PAdES formats: EU Member State Trusted Lists.</li> <li>In case of DIGIDOC-XML 1.0...1.3 and respective hashcode formats: Estonian CA certificates issued by SK, defined in local configuration file.</li> <li>In case of X-Road ASiC-E signatures, SK issued KLASS3-SK 2010, and KLASS3-SK 2010 OCSP RESPONDER and SK TIMESTAMPING AUTHORITY certificates, defined in local configuration file.</li> </ul> </li> </ol>"},{"location":"siva2/appendix/validation_policy/#revocation-data-constraints","title":"Revocation data constraints","text":"<ol> <li>The signature must contain evidence record to confirm that certificate was valid at the time of signing.</li> <li>The evidence record of signer certificate must be in the form of an OCSP confirmation or as a Certificate Revocation List.</li> <li>No additional revocation data other than the data that was originally incorporated in the signature shall be requested during validation time.</li> <li>Checking revocation of certificates regarded as Trust Anchors:<ul> <li>In case of DIGIDOC-XML 1.0...1.3 and X-Road formats: revocation of Trust Anchor certificates is not checked.</li> <li>In case of XAdES/CAdES/PAdES formats: revocation of Trust Anchor certificates is checked on the basis of the data in Trusted Lists.</li> </ul> </li> </ol>"},{"location":"siva2/appendix/validation_policy/#signer-certificates-revocation-freshness-constraints","title":"Signer certificate's revocation freshness constraints","text":"<ol> <li>In case of BDOC and DIGIDOC-XML 1.0...1.3 BASELINE_LT_TM signatures with time-mark: revocation data is always considered fresh as the revocation data is issued at the trusted signing time.</li> <li>In case of XAdES/CAdES/PAdES BASELINE_LT and BASELINE_LTA signatures with signature time-stamp: revocation data freshness is checked according to the following rules:<ul> <li>In case of OCSP responce if difference between signature time-stamp's production time (genTime field) and signer certificate OCSP confirmation\u2019s production time (producedAt field) is more than 24 hours then the signature is considered invalid. If the difference is more than 15 minutes  and less then 24h then a validation warning is returned.</li> <li>In case of Certificate Revocation List the signature time-stamp's production time (genTime field) must be within validity range of the CRL (between thisUpdate and nextUpdate)</li> </ul> </li> </ol>"},{"location":"siva2/appendix/validation_policy/#trusted-signing-time-constraints","title":"Trusted signing time constraints","text":"<ol> <li>Trusted signing time, denoting the earliest time when it can be trusted (because proven by some Proof-of-Existence present in the signature) that a signature has existed, is determined as follows:<ul> <li>In case of signature with time-mark (BASELINE_LT_TM level) - the producedAt value of the earliest valid time-mark (OCSP confirmation of the signer's certificate) in the signature.</li> <li>In case of signature with time-stamp (BASELINE_T, BASELINE_LT or BASELINE_LTA level) - the genTime value of the earliest valid signature time-stamp token in the signature.</li> <li>In case of basic signature (BASELINE_B) - the trusted signing time value cannot be determined as there is no Proof-of-Existence of the signature.</li> </ul> </li> </ol>"},{"location":"siva2/appendix/validation_policy/#bdoc-container-spceific-requirements","title":"BDOC container spceific requirements","text":"<p>The BDOC container must conform with BDOC 2.1 standard. 1.  File extension     * \".bdoc\" file extension is supported during signature validation. 2. Only one signature shall be stored in one signatures.xml file. 3. All signatures in the container must sign all of the data files. 4. All data files in the container must be signed, i.e. all files in the container, except of \"mimetype\" file and the files in META-INF/ folder, must be signed. 5. Two data files with the same name and same path shall not be allowed in the container as the signed data file must be uniquely identifiable in the container. To avoid conflicts in some operating system environments, file names shall be case insensitive. 6. Only relative file paths are supported, for example \"META-INF/signatures.xml\" and \"document.txt\" instead of \"/META-INF/signatures.xml\" and \"/document.txt\". 7. \"META-INF/manifest.xml\" file shall be conformant to OASIS Open Document Format version 1.0 or 1.2.</p>"},{"location":"siva2/appendix/validation_policy/#asice-container-spceific-requirements","title":"ASICE container spceific requirements","text":"<p>The ASICE container must conform with ETSI EN 319 162-1 standard. 1. Warning is returned when signatures in the container do not sign all of the data files. 2. Manifest file must be present.</p>"},{"location":"siva2/appendix/validation_policy/#asics-container-spceific-requirements","title":"ASICS container spceific requirements","text":"<p>The service supports both signature and Time Stamp Token (TST) based ASIC-S containers. Evidence record based containers are not supported. The ASIC-S container must conform with ETSI EN 319 162-1 and ETSI EN 319 162-2 standards.</p> <ol> <li>Manifest file can not be present in case of signature based ASIC-S containers.</li> <li>Only one TimeStampToken per container is supported. No AsicArchiveManifest.xml support.</li> <li>No TSL based verification of certificates is done in case of TimeStampToken based containers.</li> </ol>"},{"location":"siva2/appendix/wsdl/","title":"Appendix 3 - WSDL/XSD of SOAP Interface","text":"<p>See also Interfaces for more information about the SOAP interfaces.</p>"},{"location":"siva2/appendix/wsdl/#validation-web-service-wsdl","title":"Validation web service wsdl","text":"<pre><code>&lt;wsdl:definitions xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:tns=\"http://soap.webapp.siva.openeid.ee/\"\n                  xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"\n                  xmlns:xrd=\"http://x-road.eu/xsd/xroad.xsd\" targetNamespace=\"http://soap.webapp.siva.openeid.ee/\"\n                  xmlns:external=\"http://dss.esig.europa.eu/validation/detailed-report\"\n                  name=\"SignatureValidationService\"&gt;\n    &lt;wsdl:types&gt;\n        &lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:tns=\"http://soap.webapp.siva.openeid.ee/\"\n                   targetNamespace=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n            &lt;xs:import namespace=\"http://x-road.eu/xsd/xroad.xsd\" schemaLocation=\"xroad.xsd\"/&gt;\n            &lt;xs:import namespace=\"http://dss.esig.europa.eu/validation/detailed-report\"\n                       schemaLocation=\"DetailedReport.xsd\"/&gt;\n            &lt;xs:element name=\"ValidateDocument\" type=\"tns:ValidateDocument\"/&gt;\n            &lt;xs:element name=\"ValidationRequest\" type=\"tns:SoapValidationRequest\"/&gt;\n            &lt;xs:element name=\"ValidateDocumentResponse\" type=\"tns:ValidateDocumentResponse\"/&gt;\n            &lt;xs:element name=\"ValidationReport\" type=\"tns:ValidationReport\"/&gt;\n            &lt;xs:element name=\"ValidationProcess\" substitutionGroup=\"external:DetailedReport\"/&gt;\n            &lt;xs:element name=\"ValidationConclusion\" type=\"tns:ValidationConclusion\"/&gt;\n\n            &lt;xs:complexType name=\"ValidateDocument\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element ref=\"tns:ValidationRequest\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"SoapValidationRequest\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Document\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Filename\" type=\"xs:string\"/&gt;\n                    &lt;xs:element minOccurs=\"0\" maxOccurs=\"1\" name=\"ReportType\" type=\"xs:string\"/&gt;\n                    &lt;xs:element minOccurs=\"0\" maxOccurs=\"1\" name=\"DocumentType\" type=\"tns:DocumentType\"/&gt;\n                    &lt;xs:element minOccurs=\"0\" name=\"SignaturePolicy\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"ValidateDocumentResponse\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=\"1\" ref=\"tns:ValidationReport\"/&gt;\n                    &lt;xs:element minOccurs=\"0\" name=\"ValidationReportSignature\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"ValidationReport\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=\"1\" ref=\"tns:ValidationConclusion\"/&gt;\n                    &lt;xs:element minOccurs=\"0\" ref=\"tns:ValidationProcess\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"ValidationConclusion\"&gt;\n                &lt;xs:sequence&gt;\n\n                    &lt;xs:element name=\"Policy\" type=\"tns:Policy\"/&gt;\n                    &lt;xs:element name=\"ValidationTime\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"ValidatedDocument\" type=\"tns:ValidatedDocumentData\"/&gt;\n                    &lt;xs:element name=\"ValidationLevel\" minOccurs=\"0\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"ValidationWarnings\" minOccurs=\"0\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"ValidationWarning\"\n                                            type=\"tns:ValidationWarning\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"SignatureForm\" minOccurs=\"0\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Signatures\" minOccurs=\"0\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"Signature\"\n                                            type=\"tns:SignatureValidationData\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"TimeStampTokens\" minOccurs=\"0\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element minOccurs=\"0\" maxOccurs=\"unbounded\" name=\"TimeStampToken\"\n                                            type=\"tns:TimeStampTokenData\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"ValidSignaturesCount\" minOccurs=\"0\" type=\"xs:int\"/&gt;\n                    &lt;xs:element name=\"SignaturesCount\" minOccurs=\"0\" type=\"xs:int\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"Policy\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"PolicyDescription\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"PolicyName\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"PolicyUrl\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"TimeStampTokenData\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Indication\" type=\"tns:Indication\"/&gt;\n                    &lt;xs:element name=\"SignedBy\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"SignedTime\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Errors\" minOccurs=\"0\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"Error\" type=\"tns:Error\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"ValidatedDocumentData\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Filename\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"FileHash\" minOccurs=\"0\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"HashAlgo\" minOccurs=\"0\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n\n            &lt;xs:complexType name=\"SignatureValidationData\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Id\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"SignatureFormat\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"SignatureLevel\" minOccurs=\"0\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"SignedBy\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Indication\" type=\"tns:Indication\"/&gt;\n                    &lt;xs:element name=\"SubIndication\" minOccurs=\"0\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Errors\" minOccurs=\"0\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"Error\" type=\"tns:Error\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"SignatureScopes\" minOccurs=\"0\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" name=\"SignatureScope\" type=\"tns:SignatureScope\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"ClaimedSigningTime\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Warnings\" minOccurs=\"0\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"Warning\" type=\"tns:Warning\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                    &lt;xs:element name=\"Info\" minOccurs=\"0\" type=\"tns:Info\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"Error\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Content\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"ValidationWarning\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Content\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"SignatureScope\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Name\" minOccurs=\"0\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Scope\" minOccurs=\"0\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Content\" minOccurs=\"0\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"Warning\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Content\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"Info\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=\"0\" name=\"BestSignatureTime\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:simpleType name=\"DocumentType\"&gt;\n                &lt;xs:restriction base=\"xs:string\"&gt;\n                    &lt;xs:enumeration value=\"XROAD\"/&gt;\n                &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n            &lt;xs:simpleType name=\"Indication\"&gt;\n                &lt;xs:restriction base=\"xs:string\"&gt;\n                    &lt;xs:enumeration value=\"TOTAL-PASSED\"/&gt;\n                    &lt;xs:enumeration value=\"TOTAL-FAILED\"/&gt;\n                    &lt;xs:enumeration value=\"INDETERMINATE\"/&gt;\n                &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n        &lt;/xs:schema&gt;\n    &lt;/wsdl:types&gt;\n    &lt;wsdl:message name=\"ValidateDocument\"&gt;\n        &lt;wsdl:part element=\"tns:ValidateDocument\" name=\"parameters\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"ValidateDocumentResponse\"&gt;\n        &lt;wsdl:part element=\"tns:ValidateDocumentResponse\" name=\"parameters\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"requestHeader\"&gt;\n        &lt;wsdl:part name=\"client\" element=\"xrd:client\"/&gt;\n        &lt;wsdl:part name=\"service\" element=\"xrd:service\"/&gt;\n        &lt;wsdl:part name=\"id\" element=\"xrd:id\"/&gt;\n        &lt;wsdl:part name=\"userId\" element=\"xrd:userId\"/&gt;\n        &lt;wsdl:part name=\"issue\" element=\"xrd:issue\"/&gt;\n        &lt;wsdl:part name=\"protocolVersion\" element=\"xrd:protocolVersion\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:portType name=\"ValidationWebService\"&gt;\n        &lt;wsdl:operation name=\"ValidateDocument\"&gt;\n            &lt;wsdl:input message=\"tns:ValidateDocument\" name=\"ValidateDocument\"/&gt;\n            &lt;wsdl:output message=\"tns:ValidateDocumentResponse\" name=\"ValidateDocumentResponse\"/&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:portType&gt;\n    &lt;wsdl:binding name=\"SignatureValidationServiceSoapBinding\" type=\"tns:ValidationWebService\"&gt;\n        &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n        &lt;wsdl:operation name=\"ValidateDocument\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\"/&gt;\n            &lt;wsdl:input name=\"ValidateDocument\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"client\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"service\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"id\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"userId\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"issue\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"protocolVersion\" use=\"literal\"/&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output name=\"ValidateDocumentResponse\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"client\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"service\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"id\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"userId\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"issue\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"protocolVersion\" use=\"literal\"/&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:binding&gt;\n    &lt;wsdl:service name=\"SignatureValidationService\"&gt;\n        &lt;wsdl:port binding=\"tns:SignatureValidationServiceSoapBinding\" name=\"ValidationWebServiceImplPort\"&gt;\n            &lt;soap:address location=\"http://localhost:8080/soap/validationWebService\"/&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>"},{"location":"siva2/appendix/wsdl/#data-files-web-service-wsdl","title":"Data files web service wsdl","text":"<pre><code>&lt;wsdl:definitions xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:tns=\"http://soap.webapp.siva.openeid.ee/\"\n                  xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"\n                  xmlns:xrd=\"http://x-road.eu/xsd/xroad.xsd\" targetNamespace=\"http://soap.webapp.siva.openeid.ee/\"\n                  name=\"DataFilesService\"&gt;\n    &lt;wsdl:types&gt;\n        &lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:tns=\"http://soap.webapp.siva.openeid.ee/\"\n                   targetNamespace=\"http://soap.webapp.siva.openeid.ee/\"&gt;\n            &lt;xs:import namespace=\"http://x-road.eu/xsd/xroad.xsd\" schemaLocation=\"xroad.xsd\"/&gt;\n            &lt;xs:element name=\"GetDocumentDataFiles\" type=\"tns:GetDocumentDataFiles\"/&gt;\n            &lt;xs:element name=\"GetDocumentDataFilesResponse\" type=\"tns:GetDocumentDataFilesResponse\"/&gt;\n            &lt;xs:element name=\"DataFilesReport\" type=\"tns:DataFilesReport\"/&gt;\n            &lt;xs:element name=\"DataFilesRequest\" type=\"tns:SoapDataFilesRequest\"/&gt;\n            &lt;xs:complexType name=\"GetDocumentDataFiles\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element ref=\"tns:DataFilesRequest\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"SoapDataFilesRequest\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Document\" type=\"xs:string\"/&gt;\n                    &lt;xs:element minOccurs=\"0\" maxOccurs=\"1\" name=\"Filename\" type=\"xs:string\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n\n            &lt;xs:complexType name=\"GetDocumentDataFilesResponse\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=\"0\" ref=\"tns:DataFilesReport\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"DataFilesReport\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"DataFiles\"&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:sequence&gt;\n                                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"DataFile\" type=\"tns:DataFile\"/&gt;\n                            &lt;/xs:sequence&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=\"DataFile\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Base64\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Filename\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"MimeType\" type=\"xs:string\"/&gt;\n                    &lt;xs:element name=\"Size\" type=\"xs:long\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:simpleType name=\"DocumentType\"&gt;\n                &lt;xs:restriction base=\"xs:string\"&gt;\n                    &lt;xs:enumeration value=\"PDF\"/&gt;\n                    &lt;xs:enumeration value=\"XROAD\"/&gt;\n                    &lt;xs:enumeration value=\"BDOC\"/&gt;\n                    &lt;xs:enumeration value=\"DDOC\"/&gt;\n                &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n        &lt;/xs:schema&gt;\n    &lt;/wsdl:types&gt;\n    &lt;wsdl:message name=\"GetDocumentDataFiles\"&gt;\n        &lt;wsdl:part element=\"tns:GetDocumentDataFiles\" name=\"parameters\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"GetDocumentDataFilesResponse\"&gt;\n        &lt;wsdl:part element=\"tns:GetDocumentDataFilesResponse\" name=\"parameters\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"requestHeader\"&gt;\n        &lt;wsdl:part name=\"client\" element=\"xrd:client\"/&gt;\n        &lt;wsdl:part name=\"service\" element=\"xrd:service\"/&gt;\n        &lt;wsdl:part name=\"id\" element=\"xrd:id\"/&gt;\n        &lt;wsdl:part name=\"userId\" element=\"xrd:userId\"/&gt;\n        &lt;wsdl:part name=\"issue\" element=\"xrd:issue\"/&gt;\n        &lt;wsdl:part name=\"protocolVersion\" element=\"xrd:protocolVersion\"/&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:portType name=\"DataFilesWebService\"&gt;\n        &lt;wsdl:operation name=\"GetDocumentDataFiles\"&gt;\n            &lt;wsdl:input message=\"tns:GetDocumentDataFiles\" name=\"GetDocumentDataFiles\"/&gt;\n            &lt;wsdl:output message=\"tns:GetDocumentDataFilesResponse\" name=\"GetDocumentDataFilesResponse\"/&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:portType&gt;\n    &lt;wsdl:binding name=\"DataFilesServiceSoapBinding\" type=\"tns:DataFilesWebService\"&gt;\n        &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n        &lt;wsdl:operation name=\"GetDocumentDataFiles\"&gt;\n            &lt;soap:operation soapAction=\"\" style=\"document\"/&gt;\n            &lt;wsdl:input name=\"GetDocumentDataFiles\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"client\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"service\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"id\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"userId\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"issue\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"protocolVersion\" use=\"literal\"/&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output name=\"GetDocumentDataFilesResponse\"&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"client\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"service\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"id\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"userId\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"issue\" use=\"literal\"/&gt;\n                &lt;soap:header message=\"tns:requestHeader\" part=\"protocolVersion\" use=\"literal\"/&gt;\n            &lt;/wsdl:output&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:binding&gt;\n    &lt;wsdl:service name=\"DataFilesWebService\"&gt;\n        &lt;wsdl:port binding=\"tns:DataFilesServiceSoapBinding\" name=\"DataFilesWebServiceImplPort\"&gt;\n            &lt;soap:address location=\"http://localhost:8080/soap/dataFilesWebService\"/&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>"},{"location":"siva2/appendix/wsdl/#dss-detailed-report-xsd","title":"DSS detailed report XSD","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\"\n           targetNamespace=\"http://dss.esig.europa.eu/validation/detailed-report\"\n           xmlns=\"http://dss.esig.europa.eu/validation/detailed-report\"\n           xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;\n\n    &lt;xs:element name=\"DetailedReport\"&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element type=\"Signature\" name=\"Signatures\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n                &lt;xs:element type=\"BasicBuildingBlocks\" name=\"BasicBuildingBlocks\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n                &lt;xs:element type=\"QMatrixBlock\" name=\"QMatrixBlock\" minOccurs=\"0\" /&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n\n    &lt;xs:complexType name=\"Signature\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element type=\"ValidationProcessBasicSignatures\" name=\"ValidationProcessBasicSignatures\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"ValidationProcessTimestamps\" name=\"ValidationProcessTimestamps\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n            &lt;xs:element type=\"ValidationProcessLongTermData\" name=\"ValidationProcessLongTermData\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"ValidationProcessArchivalData\" name=\"ValidationProcessArchivalData\" minOccurs=\"0\" /&gt;\n        &lt;/xs:sequence&gt;\n        &lt;xs:attribute name=\"Id\" type=\"xs:string\" use=\"required\" /&gt;\n        &lt;xs:attribute name=\"Type\" type=\"xs:string\" use=\"optional\" /&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"BasicBuildingBlocks\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element type=\"FC\" name=\"FC\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"ISC\" name=\"ISC\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"VCI\" name=\"VCI\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"CV\"  name=\"CV\"  minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"SAV\" name=\"SAV\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"XCV\" name=\"XCV\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"PSV\" name=\"PSV\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"PCV\" name=\"PCV\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"VTS\" name=\"VTS\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"Conclusion\" name=\"Conclusion\" /&gt;\n        &lt;/xs:sequence&gt;\n        &lt;xs:attribute name=\"Id\" type=\"xs:string\" use=\"required\" /&gt;\n        &lt;xs:attribute name=\"Type\" type=\"xs:string\" use=\"required\" /&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"QMatrixBlock\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element type=\"TLAnalysis\" name=\"TLAnalysis\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n            &lt;xs:element type=\"SignatureAnalysis\" name=\"SignatureAnalysis\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"TLAnalysis\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\"&gt;\n                &lt;xs:attribute name=\"CountryCode\" type=\"xs:string\" use=\"required\" /&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"SignatureAnalysis\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\"&gt;\n                &lt;xs:attribute name=\"Id\" type=\"xs:string\" use=\"required\" /&gt;\n                &lt;xs:attribute name=\"SignatureQualification\" type=\"SignatureQualification\" use=\"optional\" /&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"ConstraintsConclusion\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element type=\"Constraint\" name=\"Constraint\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n            &lt;xs:element type=\"Conclusion\" name=\"Conclusion\" /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"ValidationProcessBasicSignatures\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"ValidationProcessTimestamps\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\"&gt;\n                &lt;xs:attribute name=\"Id\" type=\"xs:string\" use=\"required\" /&gt;\n                &lt;xs:attribute name=\"Type\" type=\"xs:string\" use=\"required\" /&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"ValidationProcessLongTermData\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"ValidationProcessArchivalData\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"FC\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"ISC\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"VCI\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"RFC\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"CV\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"SAV\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"XCV\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"SubXCV\" type=\"SubXCV\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"SubXCV\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"RFC\" type=\"RFC\" minOccurs=\"0\" /&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=\"Id\" type=\"xs:string\" use=\"required\" /&gt;\n                &lt;xs:attribute name=\"TrustAnchor\" type=\"xs:boolean\" /&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"VTS\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"ControlTime\" type=\"xs:dateTime\" /&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"PCV\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"ControlTime\" type=\"xs:dateTime\" minOccurs=\"0\" /&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"PSV\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"ERV\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"ConstraintsConclusion\" /&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"Constraint\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element type=\"Name\" name=\"Name\" /&gt;\n            &lt;xs:element type=\"Status\" name=\"Status\" /&gt;\n            &lt;xs:element type=\"Name\" name=\"Error\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"Name\" name=\"Warning\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"Name\" name=\"Info\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"xs:string\" name=\"AdditionalInfo\" minOccurs=\"0\" /&gt;\n        &lt;/xs:sequence&gt;\n        &lt;xs:attribute name=\"Id\" type=\"xs:string\" use=\"optional\" /&gt; &lt;!-- In case of constraint with a BBB --&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"Conclusion\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element type=\"Indication\" name=\"Indication\" /&gt;\n            &lt;xs:element type=\"SubIndication\" name=\"SubIndication\" minOccurs=\"0\" /&gt;\n            &lt;xs:element type=\"Name\" name=\"Errors\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n            &lt;xs:element type=\"Name\" name=\"Warnings\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n            &lt;xs:element type=\"Name\" name=\"Infos\" minOccurs=\"0\" maxOccurs=\"unbounded\" /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"Name\"&gt;\n        &lt;xs:simpleContent&gt;\n            &lt;xs:extension base=\"xs:string\"&gt;\n                &lt;xs:attribute name=\"NameId\" type=\"xs:string\" /&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:simpleContent&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:simpleType name=\"Status\" final=\"restriction\"&gt;\n        &lt;xs:restriction base=\"xs:string\"&gt;\n            &lt;xs:enumeration value=\"OK\" /&gt;\n            &lt;xs:enumeration value=\"NOT OK\" /&gt;\n            &lt;xs:enumeration value=\"IGNORED\" /&gt;\n            &lt;xs:enumeration value=\"INFORMATION\" /&gt;\n            &lt;xs:enumeration value=\"WARNING\" /&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n\n    &lt;xs:simpleType name=\"Indication\" final=\"restriction\"&gt;\n        &lt;xs:restriction base=\"xs:string\"&gt;\n            &lt;xs:enumeration value=\"PASSED\" /&gt;\n            &lt;xs:enumeration value=\"INDETERMINATE\" /&gt;\n            &lt;xs:enumeration value=\"FAILED\" /&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n\n    &lt;xs:simpleType name=\"SubIndication\" final=\"restriction\"&gt;\n        &lt;xs:restriction base=\"xs:string\"&gt;\n            &lt;xs:enumeration value=\"NO_SIGNING_CERTIFICATE_FOUND\" /&gt;\n            &lt;xs:enumeration value=\"FORMAT_FAILURE\" /&gt;\n            &lt;xs:enumeration value=\"SIGNATURE_POLICY_NOT_AVAILABLE\" /&gt;\n            &lt;xs:enumeration value=\"POLICY_PROCESSING_ERROR\" /&gt;\n            &lt;xs:enumeration value=\"OUT_OF_BOUNDS_NO_POE\" /&gt;\n            &lt;xs:enumeration value=\"NO_CERTIFICATE_CHAIN_FOUND\" /&gt;\n            &lt;xs:enumeration value=\"TRY_LATER\" /&gt;\n            &lt;xs:enumeration value=\"REVOKED_NO_POE\" /&gt;\n            &lt;xs:enumeration value=\"REVOKED_CA_NO_POE\" /&gt;\n            &lt;xs:enumeration value=\"CHAIN_CONSTRAINTS_FAILURE\" /&gt;\n            &lt;xs:enumeration value=\"CRYPTO_CONSTRAINTS_FAILURE\" /&gt;\n            &lt;xs:enumeration value=\"CRYPTO_CONSTRAINTS_FAILURE_NO_POE\" /&gt;\n            &lt;xs:enumeration value=\"SIGNED_DATA_NOT_FOUND\" /&gt;\n            &lt;xs:enumeration value=\"HASH_FAILURE\" /&gt;\n            &lt;xs:enumeration value=\"SIG_CRYPTO_FAILURE\" /&gt;\n            &lt;xs:enumeration value=\"SIG_CONSTRAINTS_FAILURE\" /&gt;\n            &lt;xs:enumeration value=\"NOT_YET_VALID\" /&gt;\n            &lt;xs:enumeration value=\"TIMESTAMP_ORDER_FAILURE\" /&gt;\n            &lt;xs:enumeration value=\"REVOKED\" /&gt;\n            &lt;xs:enumeration value=\"EXPIRED\" /&gt;\n            &lt;xs:enumeration value=\"NO_POE\" /&gt;\n            &lt;xs:enumeration value=\"CERTIFICATE_CHAIN_GENERAL_FAILURE\" /&gt;\n            &lt;xs:enumeration value=\"UNEXPECTED_ERROR\" /&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n\n    &lt;xs:simpleType name=\"SignatureQualification\" final=\"restriction\"&gt;\n        &lt;xs:restriction base=\"xs:string\"&gt;\n\n            &lt;xs:enumeration value=\"QESig\" /&gt;\n            &lt;xs:enumeration value=\"QESeal\" /&gt;\n            &lt;xs:enumeration value=\"QES?\" /&gt;\n            &lt;xs:enumeration value=\"AdESig-QC\" /&gt;\n            &lt;xs:enumeration value=\"AdESeal-QC\" /&gt;\n            &lt;xs:enumeration value=\"AdES?-QC\" /&gt;\n            &lt;xs:enumeration value=\"AdESig\" /&gt;\n            &lt;xs:enumeration value=\"AdESeal\" /&gt;\n            &lt;xs:enumeration value=\"AdES?\" /&gt;\n\n            &lt;xs:enumeration value=\"Indeterminate QESig\" /&gt;\n            &lt;xs:enumeration value=\"Indeterminate QESeal\" /&gt;\n            &lt;xs:enumeration value=\"Indeterminate QES?\" /&gt;\n            &lt;xs:enumeration value=\"Indeterminate AdESig-QC\" /&gt;\n            &lt;xs:enumeration value=\"Indeterminate AdESeal-QC\" /&gt;\n            &lt;xs:enumeration value=\"Indeterminate AdES?-QC\" /&gt;\n            &lt;xs:enumeration value=\"Indeterminate AdESig\" /&gt;\n            &lt;xs:enumeration value=\"Indeterminate AdESeal\" /&gt;\n            &lt;xs:enumeration value=\"Indeterminate AdES?\" /&gt;\n\n            &lt;xs:enumeration value=\"Not AdES but QC with QSCD\" /&gt;\n            &lt;xs:enumeration value=\"Not AdES but QC\" /&gt;\n            &lt;xs:enumeration value=\"Not AdES\" /&gt;\n\n            &lt;xs:enumeration value=\"N/A\" /&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n\n&lt;/xs:schema&gt;\n</code></pre>"},{"location":"siva3/background/","title":"2. BACKGROUND","text":""},{"location":"siva3/background/#what-is-siva","title":"What is SiVa?","text":"<p>SiVa (Signature Validation) web service provides JSON based API web interface to validate digital signatures. Please take a look in Validation Policy section for supported formats and applied constraints.</p> <p>SiVa uses following Java libraries and command line utilities:</p> <ul> <li>DigiDoc4J Java library to validate BDOC (supported signature   types are <code>TimeStamp</code> and <code>TimeMark</code>) and DDOC containers.</li> <li>EU DSS (Digital Signature Service) library is used to validate all other types of digital signatures that are not covered above.</li> </ul>"},{"location":"siva3/background/#validation-libraries","title":"Validation libraries","text":""},{"location":"siva3/background/#digidoc4j-eu-dss-fork","title":"DigiDoc4j EU DSS fork","text":"<p>DigiDoc4J EU DSS fork is used as the main validation library. The fork includes Estonian specific changes and may not be suitable for all signatures.</p> <p>SiVa will use the following functionality of EU DSS library:</p> <ul> <li>XAdES/CAdES/PAdES Validation Functionality</li> <li>ASIC-E and ASIC-S container validation</li> <li>TSL loading functionality</li> </ul>"},{"location":"siva3/background/#digidoc4j","title":"DigiDoc4J","text":"<p>DigiDoc4J is used to validate both <code>TimeMark</code> and <code>TimeStamp</code> based BDOC and DDOC containers. For more information on DigiDoc4J visit Github</p> <p>SiVa will use the following functionality of DigiDoc4J:</p> <ul> <li>BDOC validation functionality</li> <li>DDOC validation functionality</li> </ul>"},{"location":"siva3/background/#main-features-of-siva-validation-service","title":"Main features of SiVa validation service:","text":"<ul> <li>REST/JSON API to validate signatures.</li> <li>REST/JSON API to retrieve data files from DDOC containers.</li> <li>REST/JSON API is compatible with X-Road v6.</li> <li>Signing of validation report.</li> </ul>"},{"location":"siva3/definitions/","title":"1. DEFINITIONS","text":"BDOC A digital signature format that was created in order to replace the DDOC (DigiDoc) digital signature format that is specific to Estonia. DDOC A format of digitally signed files based on the ETSI TS 101 903 Standard that is called \u2018XML Advanced Electronic Signatures (XAdES)\u2019. The standard describes the structure of digitally signed documents on various levels of incorporation of additional validity verification information. DigiDoc corresponds to the XAdES profile \u2018XAdES-X-L\u2019. DSS Digital Signature Services is Java library to sign and validate European digital signature formats Fat JAR The fat JAR is the JAR, which contains classes from all the libraries, on which your project depends and,   the classes of built project. JAR Java Archive is a package file format typically used to aggregate many Java class files and associated metadata   and resources (text, images, etc.) into one file to distribute application software or libraries on the Java platform. JVM The Java Virtual Machine is the runtime engine of the Java Platform, which   allows any program written in Java or other language compiled into Java bytecode to run on any   computer that has a native JVM. Linux an operating system, based on UNIX, that runs on many different hardware platforms and whose source   code is available to the public. PDF Portable document format is a file format that provides an electronic image of text or text and graphics that   looks like a printed document and can be viewed, printed, and electronically transmitted. SiVa is RESTful web service providing digital signature validation services for BDOC, DDOC and PDF   files Spring Boot is a framework from the team at Pivotal, designed to simplify the bootstrapping and development of a new   Spring application. The framework takes an opinionated approach to configuration, freeing developers from the   need to define boilerplate configuration X-Road X-Road, the data exchange layer for information systems, is a technological and organizational environment enabling a secure Internet-based data exchange between information systems."},{"location":"siva3/deployment/","title":"5.1 Deployment model","text":"<p>The deployment view of the architecture describes the various physical nodes in the most typical configuration for SiVa service provider.</p> <p></p>"},{"location":"siva3/deployment/#nodes","title":"Nodes","text":"<p>In the following section, a description of each network node element is described in detail.</p> Node Setup description Load balancer server Load balancer distributes traffic between SiVa server nodes when there is more than one Siva server instance running. SiVa does not set any specific requirements for load balancer. As an example, the nginx reverse proxy is used. Siva server The SiVa webapp service is set up to run on SiVa server.SiVa web application is executable Spring Boot JAR file. This means all the dependencies and servlet containers are packaged inside single JAR file. The JAR file can be placed anywhere in server and the JAR must be marked executable if its not already.There also should be separate user created to run executable JAR as Linux service.Read more about running Spring Boot applications as Linux system service X-road security server A standard X-road security server setup. SiVa validation service endpoints have to be registered to provide service to other organisations using XRoad infrastructure. Setting up XRoad Security server is out of scope for SiVa documentation (see the official installation instructions). Demo server Demo server hosts the Demo webapp provided within SiVa project as a reference client implementation. <ul><li>Demo webapp - single Java web application that provides a simple form to upload and validate a signed file in Siva webapp. Demo webapp serves as a tool for evaluating and testing the validation service. </li></ul>"},{"location":"siva3/deployment/#horizontal-scaling","title":"Horizontal scaling","text":"<p>Neither the Siva webapp, nor Demo webapp persist their state in sessions between requests. Therefore, it is possible to install multiple instances of these services behind respective load balancers.</p>"},{"location":"siva3/deployment_guide/","title":"5.2 Deployment guide","text":"<p>The following guide is for system integrators who need to set-up, configure, manage and troubleshoot SiVa service.</p>"},{"location":"siva3/deployment_guide/#system-requirements","title":"System requirements","text":"<p>Following are the minimum requirements to build and deploy SiVa webapps as a service:</p> <ul> <li>Java 11 or above is supported</li> <li>Git version control system version 1.8 or above is recommended</li> <li>Minimum 2 GB of RAM. Recommended at least 4 GB of RAM</li> <li>Minimum 1 processor core</li> <li>Open internet connection</li> <li>2GB of free disk space</li> <li>Supported operating system is Ubuntu 16.04 LTS</li> </ul>"},{"location":"siva3/deployment_guide/#building","title":"Building","text":""},{"location":"siva3/deployment_guide/#building-siva-webapps","title":"Building SiVa webapps","text":"<p>It is recommended to build the project with Maven Wrapper. Run following command in the projects main directory:</p> <pre><code>./mvnw clean install\n</code></pre> <p>Note</p> <p>The first time build can take up to 45 minutes because of downloading the required dependencies, running vulnerability checks and unit tests.</p> <p>To verify that SiVa project built successfully look for <code>BUILD SUCCESS</code> in build compilation output last lines. The last lines of build output should look very similar to below image:</p> <pre><code>[INFO] Reactor Summary:\n[INFO]\n[INFO] SiVa Digitally signed documents validation service X.X.X SUCCESS [  2.089 s]\n[INFO] validation-services-parent ......................... SUCCESS [  0.380 s]\n[INFO] validation-commons ................................. SUCCESS [ 13.782 s]\n[INFO] tsl-loader ......................................... SUCCESS [  9.372 s]\n[INFO] Generic Validation Service ......................... SUCCESS [ 41.723 s]\n[INFO] TimeStampToken Validation Service .................. SUCCESS [  8.400 s]\n[INFO] Time-mark container Validation Service ............. SUCCESS [ 36.508 s]\n[INFO] SiVa webapp and other core modules ................. SUCCESS [  0.374 s]\n[INFO] siva-monitoring .................................... SUCCESS [ 11.982 s]\n[INFO] siva-statistics .................................... SUCCESS [  9.816 s]\n[INFO] SiVa validation service proxy ...................... SUCCESS [ 14.861 s]\n[INFO] SiVa signature service ............................. SUCCESS [  7.801 s]\n[INFO] siva-webapp ........................................ SUCCESS [ 42.451 s]\n[INFO] SiVa Sample Web application ........................ SUCCESS [ 42.236 s]\n[INFO] SiVa Web Service integration tests ................. SUCCESS [ 18.830 s]\n[INFO] siva-distribution X.X.X ............................ SUCCESS [  5.763 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 04:46 min\n[INFO] Finished at: 2020-07-03T14:22:02+03:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>"},{"location":"siva3/deployment_guide/#deploying","title":"Deploying","text":""},{"location":"siva3/deployment_guide/#option-1-starting-webapps-from-command-line","title":"OPTION 1 - starting webapps from command line","text":"<p>SiVa project compiles 2 fat executable JAR files that you can run after successfully building the project by issuing below commands:</p> <p>First start the Siva webapp</p> <pre><code>./siva-parent/siva-webapp/target/siva-webapp-X.X.X.jar\n</code></pre> <p>The SiVa webapp by default runs on port 8080. Easiest way to test out the deployment is to run SiVa demo application and use it for validation.</p> <p>Start the Demo webapp</p> <pre><code>./siva-parent/siva-sample-application/target/siva-sample-application-X.X.X.jar\n</code></pre> <p>Now point Your browser to URL: http://localhost:9000</p>"},{"location":"siva3/deployment_guide/#option-2-running-webapps-as-systemd-services","title":"OPTION 2 - running webapps as systemd services","text":"<p>Maven build generates executable JAR files. This means web container and all its dependencies are package inside single JAR file. It makes a lot easier to deploy it into servers.</p> <p>Easiest option to setup SiVa is as <code>systemd</code> service in Ubuntu servers.</p> <p>For that we first need to create service file:</p> <pre><code>vim siva-webapp.service\n</code></pre> <p>Inside it, we need to paste below text. You need to change few things in service setup file.</p> <ul> <li>First you must not run service as <code>root</code>. So it's strongly recommended to change line <code>User=root</code></li> <li>Second You can change Java JVM options by modifying the <code>JAVA_OPTS</code> inside the <code>siva-webapp.service</code> file.</li> <li>Also, You can change the SiVa application configuration options by modifying <code>RUN_ARGS</code> section in file</li> </ul> <pre><code>[Unit]\nDescription=siva-webapp\nAfter=syslog.target\n\n[Service]\nUser=root\nExecStart=/var/apps/siva-webapp.jar\nEnvironment=JAVA_OPTS=-Xmx320m RUN_ARGS=--server.port=80\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Save and close the <code>siva-webapp.service</code> file. Next we need to move <code>siva-webapp-X.X.X.jar</code> into newly created <code>/var/apps</code> directory and rename to JAR file to <code>siva-webapp.jar</code>. match</p> <p>Note</p> <p>The copied JAR filename must match option <code>ExecStart</code> in  <code>siva-webapp.service</code> file</p> <pre><code>sudo mkdir /var/apps\nsudo cp siva-parent/siva-webapp/target/executable/siva-webapp-X.X.X.jar /var/apps/siva-webapp.jar\n</code></pre> <p>Next we need to copy the <code>siva-webapp.service</code> file into <code>/lib/systemd/system</code> directory. Then we are ready to start the <code>siva-webapp</code> service.</p> <pre><code>sudo cp siva-webapp.service /lib/systemd/system\nsudo systemctl start siva-webapp\n</code></pre> <p>Final step of setting up the <code>siva-webapp</code> service is to verify that service started correctly by issuing below command.</p> <pre><code>systemctl status siva-webapp\n</code></pre> <p>It should print out similar to below picture:</p> <pre><code>\u25cf siva-webapp.service - siva-webapp\n   Loaded: loaded (/lib/systemd/system/siva-webapp.service; disabled; vendor preset: enabled)\n   Active: active (running) since Thu 2016-07-21 08:48:14 EDT; 1 day 2h ago\n Main PID: 15965 (siva-webapp.jar)\n    Tasks: 34\n   Memory: 429.6M\n      CPU: 2min 5.721s\n   CGroup: /system.slice/siva-webapp.service\n           \u251c\u250015965 /bin/bash /var/apps/stage/siva-webapp.jar\n           \u2514\u250015982 /usr/bin/java -Dsun.misc.URLClassPath.disableJarChecking=true -Xmx320m -jar /var/apps/stage/siva-webapp.jar\n\nJul 20 03:00:01 siva siva-webapp.jar[15965]:         at eu.europa.esig.dss.tsl.service.TSLParser.getTslModel(TSLParser.java:143)\nJul 20 03:00:01 siva siva-webapp.jar[15965]:         at eu.europa.esig.dss.tsl.service.TSLParser.call(TSLParser.java:129)\nJul 20 03:00:01 siva siva-webapp.jar[15965]:         ... 5 common frames omitted\nJul 20 03:00:01 siva siva-webapp.jar[15965]: 20.07.2016 03:00:01.450 INFO  [pool-3-thread-1] [e.e.e.dss.tsl.service.TSLRepository.sync\nJul 20 03:00:01 siva siva-webapp.jar[15965]: 20.07.2016 03:00:01.450 INFO  [pool-3-thread-1] [e.e.e.dss.tsl.service.TSLRepository.sync\n</code></pre>"},{"location":"siva3/deployment_guide/#option-3-deploy-webapps-as-war-files-tomcat-setup-for-legacy-systems","title":"OPTION 3  - deploy webapps as war files (Tomcat setup for legacy systems)","text":"<p>NOTE 1: Each SiVa service must be deployed to separate instance of Tomcat to avoid Java JAR library version conflicts.</p> <p>NOTE 2: To limit your webapp request size (this is set automatically when deploying service as jar) one needs to configure the container manually. For example, when using Tomcat 8 - the http connector parameter <code>maxPostSize</code> should be configured with the desired limit.</p> <p>NOTE 3: The war file must be deployed to Tomcat ROOT.</p> <p>First we need to download Tomcat web servlet container as of the writing latest version available in version 8 branch is 8.5.24. We will download it with <code>wget</code></p> <pre><code>wget http://www-eu.apache.org/dist/tomcat/tomcat-8/v8.5.24/bin/apache-tomcat-8.5.24.tar.gz\n</code></pre> <p>Unpack it somewhere:</p> <pre><code>tar xf apache-tomcat-8.5.24.tar.gz\n</code></pre> <p>Now we should build the WAR file. We have created helper script with all the correct Maven parameters.</p> <pre><code>./war-build.sh\n</code></pre> <p>Final steps would be copying built WAR file into Tomcat <code>webapps</code> directory and starting the servlet container.</p> <pre><code>cp siva-parent/siva-webapp/target/siva-webapp-X.X.X.war apache-tomcat-8.5.24/webapps\n./apache-tomcat-7.0.77/bin/catalina.sh run\n</code></pre> <p>IMPORTANT siva-webapp on startup creates <code>etc</code> directory where it copies the TSL validation certificates <code>siva-keystore.jks</code>. Default location for this directory is application root or <code>$CATALINA_HOME</code>. To change this default behavior you should set environment variable <code>DSS_DATA_FOLDER</code>. </p> <p>IMPORTANT When updating the siva-keystore.jks it is needed to delete the \"temp\" keystore from default/specified location.  Deleting the \"temp\" keystore is also needed when upgrading your deployment to newer SIVA version!</p>"},{"location":"siva3/deployment_guide/#how-to-set-war-deployed-siva-applicationproperties","title":"How-to set WAR deployed SiVa <code>application.properties</code>","text":"<p>SiVa override properties can be set using <code>application.properties</code> file. The file can locate anywhere in the host system. To make properties file accessible for SiVa you need to create or edit <code>setenv.sh</code> placed inside <code>bin</code> directory.</p> <p>Contents of the <code>setenv.sh</code> file should look like:</p> <pre><code>export CATALINA_OPTS=\"-Dspring.config.location=file:/path/to/application.properties\"\n</code></pre>"},{"location":"siva3/deployment_guide/#smoke-testing-your-deployed-system","title":"Smoke testing your deployed system","text":"<p>Step 1. Install HTTPIE <code>httpie</code> is more user-friendly version of <code>curl</code> and we will use to verify that SiVa was installed and started correctly on our server.</p> <p>If you have Python and its package manager <code>pip</code> installed. Then You can issue below command:</p> <pre><code>pip install httpie\n</code></pre> <p>Step 2. Download a sample JSON request file.</p> <pre><code>http --download https://raw.githubusercontent.com/open-eid/SiVa/develop/build-helpers/sample-requests/bdocPass.json\n</code></pre> <p>Step 3. After successful download issue below command in same directory where you downloaded the file using the command below.</p> <pre><code>http POST http://localhost:8080/validate &lt; bdocPass.json\n</code></pre> <p>Step 4. Verify the output. Look for <code>signatureCount</code> and <code>validSignatureCount</code>, they must be equal.</p>"},{"location":"siva3/deployment_guide/#logging","title":"Logging","text":"<p>By default, logging works on the INFO level and logs are directed to the system console only. Logging functionality is handled by the SLF4J logging facade and on top of the Logback framework. As a result, logging can be configured via the standard Logback configuration file through Spring boot. Additional logging appenders can be added. Consult logback documentation for more details on log file structure.</p> <p>For example, adding application.properties to classpath with the logging.config property</p> <pre><code>logging.config=/path/to/logback.xml\n</code></pre>"},{"location":"siva3/deployment_guide/#statistics","title":"Statistics","text":"<p>For every validation a statistical report is composed that contains the following data:</p> Property Type Description stats Object Object containing statistic info stats.type String Container type ( text value that identifies the container type) of the validated document: ASiC-E, ASIC-S, PAdES, DIGIDOC_XML, N/A stats.sigType String Signature type in validated document: XAdES, CAdES, PAdES, N/A stats.usrId String (Text data that contains the SiVa user identifier for reports (from the HTTP x-authenticated-user header) or N/A) stats.dur Number The time it takes to process an incoming request - measured in milliseconds stats.sigCt Number The value of the \"signaturesCount\" element in the validation report stats.vSigCt Number The value of the \"validSignaturesCount\" element in the validation report stats.sigRslt Array Array of signature statistic objects stats.sigRslt[0] Object Object containing signature statistic info stats.sigRslt[0].i String Value of signature indication field from the validation report stats.sigRslt[0].si String Value of signature subindication field from the validation report. Element not present if not in validation report stats.sigRslt[0].cc String Country code extracted from the signer cert subject field. The ISO-3166-1 alpha-2 country code that is associated with signature (the signing certificate or XX if the country cannot be determined. stats.sigRslt[0].sf String Values of signatureFormat field from the validation report <p>Example of statistic</p> <pre><code>{\n   \"stats\": {\n      \"type\": \"PAdES\",\n      \"sigType\": \"PAdES\",\n      \"usrId\": \"sample_user1\",\n      \"dur\": 4021,\n      \"sigCt\": 2,\n      \"vSigCt\": 1,\n      \"sigRslt\": [\n         {\"i\":\"TOTAL-PASSED\", \"cc\":\"EE\", \"sf\":\"PAdES_BASELINE_LT\"},\n         {\"i\":\"INDETERMINATE\", \"si\":\"NO_CERTIFICATE_CHAIN_FOUND\", \"cc\":\"EE\", \"sf\":\"PAdES_BASELINE_LT\"}\n      ]\n   }\n}\n</code></pre> <p>This information is sent to log feeds (at INFO level) which can be redirected to files or to a syslog feed.</p>"},{"location":"siva3/deployment_guide/#monitoring","title":"Monitoring","text":"<p>SiVa webapps provide endpoints for external monitoring tools to periodically check the generic service health status.</p>"},{"location":"siva3/deployment_guide/#health-endpoint","title":"Health Endpoint","text":"<p>Note</p> <p>Note that this endpoint is not exposed by default.</p> <p>The url for accessing JSON formatted health information with HTTP GET is <code>/monitoring/health</code> . See the Interfaces section for response structure and details.</p> <ul> <li>Exposing the health monitoring endpoint</li> </ul> <p>To expose the endpoint, use the following configuration parameter:</p> <pre><code>management.endpoints.web.exposure.include=health\n</code></pre> <ul> <li>External service health indicators</li> </ul> <p>The endpoint is implemented as a customized Spring boot health endpoint, which allows to add custom health indicators.</p> <p>Demo webapp and Siva webapp include additional information about the health of their dependent services. These links to dependent web services have been preconfigured. For example, the Demo webapp is preset to check whether the Siva webapp is accessible from the following url (parameter <code>siva.service.serviceHost</code> value)/monitoring/health.</p>"},{"location":"siva3/deployment_guide/#heartbeat-endpoint","title":"Heartbeat endpoint","text":"<p>Note</p> <p>Note that this endpoint is not enabled nor exposed by default.</p> <p>Note</p> <p>Note that this endpoint requires the health endpoint to be enabled and exposed in order to function.</p> <p>The url for accessing JSON formatted heartbeat information with HTTP GET is <code>/monitoring/heartbeat</code>. See the Interfaces section for response structure and details.</p> <ul> <li>Enabling and exposing the heartbeat monitoring endpoint</li> </ul> <p>To enable and expose the endpoint, use the following configuration parameters:</p> <pre><code>management.endpoints.web.exposure.include=health,heartbeat\nmanagement.endpoint.heartbeat.enabled=true\n</code></pre> <ul> <li>Simplified service health indicator</li> </ul> <p>The endpoint is implemented by polling the health information directly from the underlying health endpoint implementation, but exposing just the aggregated overall service status, hiding everything else.</p>"},{"location":"siva3/deployment_guide/#version-information-endpoint","title":"Version information endpoint","text":"<p>Note</p> <p>Note that this endpoint is not enabled nor exposed by default.</p> <p>The url for accessing JSON formatted version information with HTTP GET is <code>/monitoring/version</code>. See the Interfaces section for response structure and details.</p> <ul> <li>Enabling and exposing the version information endpoint</li> </ul> <p>To enable and expose the endpoint, use the following configuration parameters:</p> <pre><code>management.endpoints.web.exposure.include=version\nmanagement.endpoint.version.enabled=true\n</code></pre>"},{"location":"siva3/deployment_guide/#validation-report-signature","title":"Validation Report Signature","text":"<p>SiVa provides the ability to sign the validation report. The idea of supplementing the validation report with a validation report signature is to prove the authority's authenticity and integrity over the validation.</p> <p>Note</p> <p>Signing of validation report is disabled by default</p> <p>To enable it, use the following configuration parameter:</p> <pre><code>siva.report.reportSignatureEnabled=true\n</code></pre> <p>When validation report signature is enabled, only detailed validation reports will be signed, simple reports will not be signed. The validation report's digital signature is composed out of response's <code>validationReport</code> object. The target format of the signature is ASiC-E (signature level is configurable). The ASiC-E container contents are encoded into Base64 and put on the same level int the response as the validation report itself.</p> <p>Note</p> <p>Enabling the validation report signing will affect the performance of the service.</p> <p>Example structure of the response containing report signature:</p> <pre><code>{\n  \"validationReport\": {\n  ...\n  },\n  \"validationReportSignature\": \"ZHNmYmhkZmdoZGcgZmRmMTM0NTM...\"\n}\n</code></pre> <p>Supported interfaces for signature creation:</p> <ul> <li>PKCS#11 - a platform-independent API for cryptographic tokens, such as hardware security modules (HSM) and smart cards</li> <li>PKCS#12 - for files bundled with private key and certificate</li> </ul> <p>Report signature configuration parameters:</p> Property Description siva.report.reportSignatureEnabled Enables signing of the validation report. Validation report will only be signed when requesting detailed report.  <ul><li>Default: false</li></ul> siva.signatureService.signatureLevel The level of the validation report signature.  Example values:  * XAdES_BASELINE_B  * XAdES_BASELINE_T  * XAdES_BASELINE_LT  * XAdES_BASELINE_LTA siva.signatureService.tspUrl URL of the timestamp provider.  Only needed when the configured signature level is at least XAdES_BASELINE_T siva.signatureService.ocspUrl URL of the OCSP provider.  Only needed when the configured signature level is at least XAdES_BASELINE_LT siva.signatureService.pkcs11.path path to PKCS#11 module (depends on your installed smart card or hardware token library, for example: /usr/local/lib/opensc-pkcs11.so) siva.signatureService.pkcs11.password pin/password of the smart card or hardware token siva.signatureService.pkcs11.slotIndex depends on the hardware token. E.g. Estonian Smart Card uses 2, USB eToken uses 0. <ul><li>Default: 0</li></ul> siva.signatureService.pkcs12.path path to keystore file containing certificate and private key siva.signatureService.pkcs12.password password of the keystore file containing certificate and private key <p>Note</p> <p>When configuring report signature, either PKCS#11 or PKCS#12 should be configured, no need to configure both.</p>"},{"location":"siva3/deployment_guide/#configuration-parameters","title":"Configuration parameters","text":"<p>All SiVa webapps have been designed to run with predetermined defaults after building and without additional configuration. However, all the properties can be overridden on the service or embedded web server level, if necessary.</p> <p>By default, the service loads it's global configuration from the application.yml file that is packaged inside the jar file. Default configuration parameters can be overridden by providing custom application.yml in the following locations, or using command line parameters or by using other externalized configuration methods methods.</p> <p>For example, to configure the embedded Tomcat web server inside a fat jar to run on different port (default is 8080), change the server.port following property:</p> <pre><code>server.port=8080\n</code></pre> <p>Or to increase or modify the default http request limit, override the siva.http.request.max-request-size-limit property:</p> <pre><code>siva.http.request.max-request-size-limit: 15MB\n</code></pre> <p>See the reference list of all common application properties provided by Spring boot</p>"},{"location":"siva3/deployment_guide/#siva-webapp-parameters","title":"Siva webapp parameters","text":"<ul> <li>Updating TSL</li> </ul> Property Description siva.tsl.loader.loadFromCache A boolean value that determines whether the TSL is loaded from disk cache instead of by downloading a new TSL in a predetermined interval.Note that the cache files are by default stored in a system temporary folder (can be set with system property <code>java.io.tmpdir</code>; make sure the application has both read and write permissions in that folder).<ul><li>When set to false, the cache is refreshed periodically by SiVa in a predetermined interval specified by <code>siva.tsl.loader.schedulerCron</code> using <code>siva.tsl.loader.url</code>.</li><li>When set to true, SiVa uses existing cache as it's TSL. No direct polling for updates is performed, so all the files (LOTL and TSL files) must be present in system temporary directory. The cache files must have the same filenames as their URLs, but special characters need to be replaced with underscores. For example, the file downloaded from https://sr.riik.ee/tsl/estonian-tsl.xml must be named <code>https___sr_riik_ee_tsl_estonian_tsl_xml</code></li><li>Default: false</li></ul> siva.tsl.loader.onlineCacheExpirationTime A string value in a format based on ISO-8601 duration format PnDTnHnMn.nS that determines the expiration time of TSL disk cache in case <code>siva.tsl.loader.loadFromCache</code> is set to <code>false</code>. The default is 1 hour.Note that the expiration time only determines, for each cached file, the minimum time that must have been passed since their last update before that file is considered expired and is susceptible to an update. The actual update is performed periodically by SiVa (specified by <code>siva.tsl.loader.schedulerCron</code>) or when the application is (re)started. <ul><li>Default: PT1H</li></ul> siva.tsl.loader.url A url value that points to the external TSL <ul><li>Default: https://ec.europa.eu/tools/lotl/eu-lotl.xml</li></ul> siva.tsl.loader.ojUrl A url value that points to the legal act in Official Journal of the European Union <ul><li>Default: https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=uriserv:OJ.C_.2019.276.01.0001.01.ENG</li></ul> siva.tsl.loader.lotlRootSchemeInfoUri A url value that points to the European Unions' disclaimer regarding LOTL <ul><li>Default: https://ec.europa.eu/tools/lotl/eu-lotl-legalnotice.html</li></ul> siva.tsl.loader.code Sets the LOTL code in DSS <ul><li>Default: EU</li></ul> siva.tsl.loader.trustedTerritories Sets the trusted territories by countries <ul><li>Default: \"AT\", \"BE\", \"BG\", \"CY\", \"CZ\", \"DE\", \"DK\", \"EE\", \"ES\", \"FI\", \"FR\", \"GR\", \"HU\", \"HR\", \"IE\", \"IS\", \"IT\", \"LT\", \"LU\", \"LV\", \"LI\", \"MT\", \"NO\", \"NL\", \"PL\", \"PT\", \"RO\", \"SE\", \"SI\", \"SK\", \"UK\"</li></ul> siva.tsl.loader.schedulerCron A string in a Crontab expression format that defines the interval at which the TSL renewal process is started. The default is 03:00 every day (local time) <ul><li>Default: 0 0 3 * * ?</li></ul> siva.tsl.loader.sslTruststorePath Path to truststore containing trusted CA certificates used in HTTPS connection to retrieve member states TSLs <ul><li>Default: classpath:tsl-ssl-truststore.p12</li></ul> siva.tsl.loader.sslTruststoreType Truststore type <ul><li>Default: PKCS12</li></ul> siva.tsl.loader.sslTruststorePassword Truststore password <ul><li>Default: digidoc4j-password</li></ul> siva.tsl.loader.LotlPivotSupportEnabled A boolean value that determines, whether LOTL pivot mode should be used or not <ul><li>Default: true</li></ul> siva.keystore.type Keystore type <ul><li>Default: JKS</li></ul> siva.keystore.filename Keystore that contains public keys of trusted LOTL signers for LOTL signature validation<ul><li>Default: siva-keystore.jks</li></ul> siva.keystore.password Keystore password <ul><li>Default: siva-keystore-password</li></ul> <p>Note</p> <p>Note that the keystore file location can be overriden using environment variable <code>DSS_DATA_FOLDER</code>. By default the keystore file location, is expected to be on local filesystem in <code>etc</code> directory which is at the same level with the fat jar file (one is created, if no such directory exists).</p> <p>Note</p> <p>When updating the siva-keystore.jks it is needed to delete the \"temp\" keystore from default/specified location. Deleting the \"temp\" keystore is also needed when upgrading your deployment to newer SIVA version!</p> <p>Note</p> <p>TSL is currently used only by Generic and BDOC validators</p> <ul> <li>TimeMark validation - customizing policies</li> </ul> Property Description siva.bdoc.digidoc4JConfigurationFile Path to Digidoc4j configuration override <ul><li>Default: N/A</li></ul> Property Description siva.bdoc.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.bdoc.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.bdoc.signaturePolicy.policies[0].name=POLv3\nsiva.bdoc.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.bdoc.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv3\nsiva.bdoc.signaturePolicy.policies[0].constraintPath=bdoc_constraint_ades.xml\n\nsiva.bdoc.signaturePolicy.policies[1].name=POLv4\nsiva.bdoc.signaturePolicy.policies[1].description=Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\nsiva.bdoc.signaturePolicy.policies[1].url=http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4\nsiva.bdoc.signaturePolicy.policies[1].constraintPath=bdoc_constraint_qes.xml\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p> <ul> <li>Generic validation - customize validation policies</li> </ul> Property Description siva.europe.signaturePolicy.defaultPolicy Selected default policy name <ul><li>Default: N/A</li></ul> siva.europe.signaturePolicy.policies[index].name Policy name <ul><li>Default: N/A</li></ul> siva.europe.signaturePolicy.policies[index].description Policy description <ul><li>Default: N/A</li></ul> siva.europe.signaturePolicy.policies[index].constraintPath Constraint XML file path for the policy. An absolute path or a reference to a resource on the classpath<ul><li>Default: N/A</li></ul> siva.europe.signaturePolicy.policies[index].url Policy URL <ul><li>Default: N/A</li></ul> <p>By default, the following configuration is used</p> <pre><code>siva.europe.signaturePolicy.policies[0].name=POLv3\nsiva.europe.signaturePolicy.policies[0].description=Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature.\nsiva.europe.signaturePolicy.policies[0].url=http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv3\nsiva.europe.signaturePolicy.policies[0].constraintPath=generic_constraint_ades.xml\n\nsiva.europe.signaturePolicy.policies[1].name=POLv4\nsiva.europe.signaturePolicy.policies[1].description=Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.\nsiva.europe.signaturePolicy.policies[1].url=http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4\nsiva.europe.signaturePolicy.policies[1].constraintPath=generic_constraint_qes.xml\n</code></pre> <p>Note</p> <p>Default policy configuration is lost when policy detail properties (name, description, url or constraintPath) are overridden or new custom policies added in custom configuration files (in this case, the existing default policies must be redefined in configuration files explicitly)</p> <ul> <li>Configure SiVa to request revocation status for T level signatures</li> </ul> <p>By default, T level signatures do not contain revocation data. It is possible to configure SiVa to use OnlineOCSPSource in order to request revocation status during the validation process for T level signatures.</p> <p>An example of configuring SiVa to request an OCSP response only for certificates issued by Latvian and Lithuanian service providers:</p> <pre><code>t-level-signature-filter.filter-type = ALLOWED_COUNTRIES\nt-level-signature-filter.countries[0] = LV\nt-level-signature-filter.countries[1] = LT\n</code></pre> <p>Note</p> <p>If enabled, the revocation request is made for every signature level for given countries, not only T level signatures.</p> Property Description t-level-signature-filter.filter-type A string value that determines, which filter is being used. There are two available options: ALLOWED_COUNTRIES or NOT_ALLOWED_COUNTRIES <ul><li>When set to ALLOWED_COUNTRIES SiVa uses OnlineOCSPSource to request revocation status for the list of provided countries. If the list of countries is left empty, no OCSP requests are made</li><li>When set to NOT_ALLOWED_COUNTRIES SiVa uses OnlineOCSPSource to request revocation status for all the countries that are not on the list. If the list of countries is left empty, it makes an OCSP request for every country</li><li>Default: N/A</li></ul> t-level-signature-filter.countries A list of countries to be provided to the filter. For example: EE, LV, BE <ul><li>Default: N/A</li></ul>"},{"location":"siva3/deployment_guide/#demo-webapp-parameters","title":"Demo webapp parameters","text":"<ul> <li>Linking to SiVa webapp</li> </ul> Property Description siva.service.serviceHost An HTTP URL link to the Siva webapp <ul><li>Default: http://localhost:8080</li></ul> siva.service.jsonServicePath Service path in Siva webapp to access the REST/JSON API<ul><li>Default: /validate</li></ul> siva.service.jsonDataFilesServicePath Data file service path in Siva webapp to access the REST/JSON API<ul><li>Default: /getDataFiles</li></ul> siva.service.trustStore Path to Siva webapp truststore on classpath <ul><li>Default: siva_server_truststore.p12</li></ul> siva.service.trustStorePassword Siva webapp truststore password <ul><li>Default: password</li></ul>"},{"location":"siva3/interfaces/","title":"4. INTERFACES","text":"<p>In this section the SiVa external interfaces are described. For information of internal components and their interfaces, please refer to Structure and activities.</p> <p>SiVa service provides REST JSON interface that enable the service users to:</p> <ul> <li>Request validation of signatures in a digitally signed document (i.e. signature container like BDOC,ASiC-E/PDF/...).</li> <li>Request validation of ASiC-S containers with time stamp tokens (i.e. Estonian ASiC-S with encapsulated container inside)</li> <li>Request validation of XAdES signature without datafiles.</li> <li>Request datafiles inside of DDOC container.</li> </ul> <p>SiVa service REST JSON interface supports X-Road v6. However, it is optional whether to integrate SiVa service using X-Road or using \"plain\" REST interface. This document only describes the SiVa service part of the interface, for the X-Road specifics visit Riigi Infos\u00fcsteemi Amet webpage.</p> <p>In the following subsections, the SiVa validation request and response interfaces are described in detail. </p>"},{"location":"siva3/interfaces/#validation-request-interface","title":"Validation request interface","text":"<p>** REST JSON Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/validate\n</code></pre>"},{"location":"siva3/interfaces/#validation-request-parameters","title":"Validation request parameters","text":"<p>Validation request parameters for JSON interface are described in the table below.</p> JSON parameter Mandatory JSON data type Description document + String Base64 encoded string of digitally signed document to be validated filename + String File name of the digitally signed document (i.e. sample.bdoc), max length 255 characters. signaturePolicy - String Can be used to change the default signature validation policy that is used by the service.  See also SiVa Validation Policy for more detailed information on given policy constraints.Possible values:  POLv3 - signatures with all legal levels are accepted (i.e. QES, AdESqc and AdES, according to Regulation (EU) No 910/2014.)  POLv4 - the default policy. Accepted signatures depend on their type (i.e. signature, seal or unknown) and legal level (i.e. QES, AdESqc and Ades) reportType - String Can be used to change the default returned report type. Possible values:  Simple - default report type. Returns overall validation result (validationConclusion block) Detailed -  returns detailed information about the signatures and their validation results (validationConclusion, validationProcess and validationReportSignature. Two later ones are optionally present).  Diagnostic -  returns diagnostic data about the information contained in the signature itself, it's revocation data and mathematical validity (validationConclusion, diagnosticData block)"},{"location":"siva3/interfaces/#sample-json-request-with-mandatory-parameters","title":"Sample JSON request with mandatory parameters","text":"<pre><code>{\n  \"filename\":\"sample.bdoc\",\n  \"document\":\"PD94bWwgdmVyc2lvbj0iMS4....\"\n}\n</code></pre>"},{"location":"siva3/interfaces/#sample-json-request-with-all-parameters","title":"Sample JSON request with all parameters","text":"<pre><code>{\n  \"filename\":\"sample.asice\",\n  \"document\":\"PD94bWwgdmVyc2lvbj0iMS4....\",\n  \"signaturePolicy\":\"POLv3\",\n  \"reportType\":\"Detailed\"\n}\n</code></pre>"},{"location":"siva3/interfaces/#validation-request-interface-for-hashcode","title":"Validation request interface for hashcode","text":"<p>Hashcode XAdES validation is supported for REST JSON interface.</p> <p>** REST JSON Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/validateHashcode\n</code></pre>"},{"location":"siva3/interfaces/#validation-request-parameters_1","title":"Validation request parameters","text":"<p>Two different use cases are supported for the hashcode validation.  1) Providing the data file name, hash algorithm and hash on validation. 2) Providing only signature file. NB! This method requires validation result change on integrator side when the local datafile hashes do not match with hashes returned in validation result!</p> <p>Validation request parameters for JSON interface are described in the table below.</p> JSON parameter Mandatory JSON data type Description signatureFiles + Array Array containing the signature objects. signatureFiles[0] + Object Object containing one signature file. signatureFiles[0].signature + String Base64 encoded string of signature file signatureFiles[0].datafiles - Array Array containing the information for datafiles that signature is covering signatureFiles[0].datafiles[0] + Object Object containing data file information signatureFiles[0].datafiles[0].filename + String File name of the hashed data file, max length 255 characters. signatureFiles[0].datafiles[0].hashAlgo + String Hash algorithm used for hashing the data file (must match with algorithm in signature file). Accepted values are dependant of validation policy signatureFiles[0].datafiles[0].hash + String Data file hash in Base64 encoded format. signaturePolicy - String Can be used to change the default signature validation policy that is used by the service.  See also SiVa Validation Policy for more detailed information on given policy constraints.Possible values:  POLv3 - signatures with all legal levels are accepted (i.e. QES, AdESqc and AdES, according to Regulation (EU) No 910/2014.)  POLv4 - the default policy. Accepted signatures depend on their type (i.e. signature, seal or unknown) and legal level (i.e. QES, AdESqc and Ades) reportType - String Possible values:  Simple - default report type. Returns overall validation result (validationConclusion block) Detailed -  returns detailed information about the signatures and their validation results (validationConclusion, validationProcess and validationReportSignature. Two later ones are not supported for hashcode).  Diagnostic -  returns diagnostic data about the information contained in the signature itself, it's revocation data and mathematical validity (validationConclusion, diagnosticData block. Last one is not support for hashcode)"},{"location":"siva3/interfaces/#sample-json-request-with-mandatory-parameters-datafile-hashcode-match-verification-done-on-integrators-side","title":"Sample JSON request with mandatory parameters (datafile hashcode match verification done on integrators side)","text":"<pre><code>{\n  \"signatureFiles\": [\n    {\n      \"signature\": \"PD9094wskjd...\"\n    },\n    {\n      \"signature\": \"AD9sa4wsfsd...\"\n    }\n  ]\n}\n</code></pre>"},{"location":"siva3/interfaces/#sample-json-request-with-all-parameters-datafile-hashcode-match-verification-done-on-siva-side","title":"Sample JSON request with all parameters (datafile hashcode match verification done on SIVA side)","text":"<pre><code>{\n    \"signatureFiles\": [\n        {\n            \"signature\": \"PD94bWwgdmVyc2lvbj...\",\n            \"datafiles\": [\n                {\n                    \"filename\": \"leping.pdf\",\n                    \"hashAlgo\": \"SHA256\",\n                    \"hash\": \"WRlczpSZXZvY2F0aW9uVmFsd...\"\n                },\n                                {\n                    \"filename\": \"leping2.pdf\",\n                    \"hashAlgo\": \"SHA256\",\n                    \"hash\": \"WRlpzaF0F0sda2vaW9uVmFsd...\"\n                }\n            ]\n        },\n        {\n            \"signature\": \"PDadw4mVyc2lvbj...\",\n            \"datafiles\": [\n                {\n                    \"filename\": \"leping.pdf\",\n                    \"hashAlgo\": \"SHA256\",\n                    \"hash\": \"WRlczpSZXZvY2F0aW9uVmFsd...\"\n                },\n                                {\n                    \"filename\": \"leping2.pdf\",\n                    \"hashAlgo\": \"SHA256\",\n                    \"hash\": \"WRlpzaF0F0sda2vaW9uVmFsd...\"\n                }\n            ]\n        }\n    ],\n    \"reportType\": \"Simple\",\n    \"signaturePolicy\": \"POLv4\"\n}\n</code></pre>"},{"location":"siva3/interfaces/#validation-response-interface","title":"Validation response interface","text":"<p>The signature validation report (i.e. the validation response) for JSON interface depends on what type of validation report was requested.</p>"},{"location":"siva3/interfaces/#validation-response-parameters-simple-report-successful-scenario","title":"Validation response parameters Simple Report (successful scenario)","text":"<p>General structure of validation response.</p> JSON parameter Mandatory JSON data type Description validationReport + Object Object containing SIVA validation report validationReport. validationConclusion + Object Object containing information of the validation conclusion <p>Structure of validationConclusion block</p> JSON parameter Mandatory JSON data type Description policy + Object Object containing information of the SiVa signature validation policy that was used for validation. policy.policyName + String Name of the validation policy policy. policyDescription + String Short description of the validation policy. policy.policyUrl + String URL where the signature validation policy document can be downloaded. The validation policy document shall include information about validation of all the document formats, including the different validation policies that are used in case of different file formats and base libraries. signaturesCount + Number Number of signatures found inside digitally signed file. validSignaturesCount + Number Signatures count that have validated to <code>TOTAL-PASSED</code>. See also <code>Signature.Indication</code> field. validationLevel - String Validation process against what the document is validated, only applicable on DSS based validations. Possible values:  ARCHIVAL_DATA validationTime + Date Time of validating the signature by the service. validationWarnings - Array Array of SiVa validation warnings that do not affect the overall validation result. See also <code>signatures.warnings</code> parameter. validationWarnings[0] + Object Object containing the warning. validationWarnings[0]. content + String Description of the warning. validatedDocument - Object Object containing information about validated document. validatedDocument. filename - String Digitally signed document's file name. Not present for hashcode validation. validatedDocument. fileHash - String Calculated hash for validated document in Base64. Present when report signing is enabled. validatedDocument. hashAlgo - String Hash algorithm used. Present when report signing is enabled. signatureForm - String Format (and optionally version) of the digitally signed document container.  In case of documents in DIGIDOC-XML (DDOC) format, the \"hashcode\" suffix is used to denote that the container was validated in hashcode mode, i.e. without original data files.  Possible values:  DIGIDOC_XML_1.0  DIGIDOC_XML_1.0_hashcode  DIGIDOC_XML_1.1  DIGIDOC_XML_1.1_hashcode  DIGIDOC_XML_1.2  DIGIDOC_XML_1.2_hashcode  DIGIDOC_XML_1.3  DIGIDOC_XML_1.3_hashcode  ASiC-E - used in case of all ASiC-E (and BDOC) documents  ASiC-S - used in case of all ASiC-S documents signatures - Array Collection of signatures found in digitally signed document signatures[0] + Object Signature information object signatures[0]. claimedSigningTime + Date Claimed signing time, i.e. signer's computer time during signature creation signatures[0].id + String Signature ID attribute signatures[0].indication + String Overall result of the signature's validation process, according to ETSI EN 319 102-1 \"Table 5: Status indications of the signature validation process\".  Note that the validation results of different signatures in one signed document (signature container) may vary.  See also <code>validSignaturesCount</code> and <code>SignaturesCount</code> fields. Possible values:  TOTAL-PASSED  TOTAL-FAILED  INDETERMINATE signatures[0]. subIndication - String Additional subindication in case of failed or indeterminate validation result, according to ETSI EN 319 102-1 \"Table 6: Validation Report Structure and Semantics\" signatures[0].errors - Array Information about validation error(s), array of error messages. signatures[0].errors[0] + Object Object containing the error signatures[0].errors[0].  content + String Error message, as returned by the base library that was used for signature validation. signatures[0].info - Object Object containing trusted signing time information and user added additional signing info. signatures[0].info. bestSignatureTime + Date Time value that is regarded as trusted signing time, denoting the earliest time when it can be trusted by the validation application (because proven by some Proof-of-Existence present in the signature) that a signature has existed.The source of the value depends on the signature profile (see also <code>SignatureFormat</code> parameter):- Signature with time-mark (LT_TM level) - the producedAt value of the earliest valid time-mark (OCSP confirmation of the signer's certificate) in the signature.- Signature with time-stamp (LT or LTA level) - the genTime value of the earliest valid signature time-stamp token in the signature.  - Signature with BES or EPES level - the value is empty, i.e. there is no trusted signing time value available. signatures[0].info. timeAssertionMessageImprint - String Base64 encoded value of message imprint retrieved from time assertion. In case of LT_TM (TimeMark) signatures, OCSP nonce value is returned. In case of T, LT or LTA (TimeStamp) signatures, TimeStamp message imprint is returned. signatures[0].info. ocspResponseCreationTime - Date Time value that is regarded as the original OCSP response creation time. signatures[0].info. timestampCreationTime - Date Time value of the timestamp creation signatures[0].info. signerRole - Array Array of roles attached to the signature. signatures[0].info. signerRole[0] + Object Object containing claimed roles. signatures[0].info. signerRole[0]. claimedRole + String Role stated by signer on signing. signatures[0].info. signatureProductionPlace - Object Object containing stated signing location info. signatures[0].info. signatureProductionPlace.countryName - String Stated signing country. signatures[0].info. signatureProductionPlace.stateOrProvince - String Stated state or province. signatures[0].info. signatureProductionPlace.city - String Stated city. signatures[0].info. signatureProductionPlace.postalCode - String Stated postal code. signatures[0].info. signingReason - String Free text field for PAdES type signatures for stating the signing reason signatures[0].info. archiveTimestamps - Array Array containing archive time-stamp tokens if present. signatures[0].info. archiveTimestamps[0]. signedTime + String Time when the archive time-stamp token was created. signatures[0].info. archiveTimestamps[0]. indication + Object Result of the archive time-stamp token validation. Possible values:  PASSED  FAILED  NO_SIGNATURE_FOUND signatures[0].info. archiveTimestamps[0]. subIndication - String Additional subindication in case of failed or indeterminate validation result. signatures[0].info. archiveTimestamps[0]. signedBy + String Signer of the archive time-stamp token. signatures[0].info. archiveTimestamps[0]. country + String Issuer country of the archive time-stamp token. signatures[0].info. archiveTimestamps[0]. content + String Archive time-stamp token encoded in base64. signatures[0]. signatureFormat + String Format and profile (according to Baseline Profile) of the signature. See XAdES Baseline Profile, CAdES Baseline Profile and PAdES Baseline Profile for detailed description of the Baseline Profile levels. Levels that are accepted in SiVa validation policy are described in SiVa signature validation policy Possible values:  XAdES_BASELINE_B  XAdES_BASELINE_B_BES  XAdES_BASELINE_B_EPES  XAdES_BASELINE_T  XAdES_BASELINE_LT - long-term level XAdES signature where time-stamp is used as a assertion of trusted signing time XAdES_BASELINE_LT_TM - long-term level XAdES signature where time-mark is used as a assertion of trusted signing time. Used in case of BDOC signatures with time-mark profile and DIGIDOC-XML (DDOC) signatures.  XAdES_BASELINE_LTA  CAdES_BASELINE_B  CAdES_BASELINE_T  CAdES_BASELINE_LT  CAdES_BASELINE_LTA PAdES_BASELINE_B  PAdES_BASELINE_T  PAdES_BASELINE_LT  PAdES_BASELINE_LTA signatures[0]. signatureMethod + String Signature method specification URI used in signature creation. signatures[0]. signatureLevel - String Legal level of the signature, according to Regulation (EU) No 910/2014.  - Possible values on positive validation result: QESIG  QESEAL  QES  ADESIG_QC  ADESEAL_QC  ADES_QC  ADESIG  ADESEAL  ADES  - Possible values on indeterminate validation result: prefix INDETERMINATE is added to the level described in positive result. For example  INDETERMINATE_QESIG  - Possible values on negative validation result:In addition to abovementioned NOT_ADES_QC_QSCD  NOT_ADES_QC  NOT_ADES  NA  - In case of DIGIDOC-XML 1.0..1.3 formats, value is missing as the signature level is not checked by the JDigiDoc base library that is used for validation. However, the signatures can be indirectly regarded as QES level signatures, see also SiVa Validation Policy signatures[0].signedBy + String In format of \"surname, givenName, serialNumber\" if  these fields are present in subject distinguished name field. In other cases, value of common name field. signatures[0]. subjectDistinguishedName - Object Object containing subject's distinguished name information. signatures[0]. subjectDistinguishedName .serialNumber - String SERIALNUMBER value portion in signer's certificate's subject distinguished name signatures[0]. subjectDistinguishedName .commonName - String CN (common name) value portion in signer's certificate's subject distinguished name signatures[0]. subjectDistinguishedName .givenName - String Given name value portion in signer's certificate's subject distinguished name signatures[0]. subjectDistinguishedName .surname - String Surname value portion in signer's certificate's subject distinguished name signatures[0]. signatureScopes - Array Contains information of the original data that is covered by the signature. signatures[0]. signatureScopes[0]. name + String Name of the signature scope. signatures[0]. signatureScopes[0]. scope + String Type of the signature scope. signatures[0]. signatureScopes[0]. content + String Description of the scope. signatures[0]. signatureScopes[0]. hashAlgo - String Hash algorithm used for datafile hash calculation. Present for hashcode validation. signatures[0]. signatureScopes[0]. hash - String Hash of data file encoded in Base64. Present for hashcode validation. signatures[0]. warnings - Array Block of validation warnings that do not affect the overall validation result. signatures[0]. warnings[0] + Object Object containing the warning signatures[0]. warnings[0]. content + String Warning description, as returned by the base library that was used for validation. signatures[0]. certificates - Array Array containing certificates that are present in the signature or can be fetched from TSL. signatures[0]. certificates[0] + Object Object containing certificate type, common name and certificate. Minimal object is signer certificate. If present contains certificates for TimeStamps and OCSP as well. signatures[0]. certificates[0].commonName + String CN (common name) value in certificate. signatures[0]. certificates[0].type + String Type of the certificate. Can be SIGNING, REVOCATION, SIGNATURE_TIMESTAMP, ARCHIVE_TIMESTAMP or CONTENT_TIMESTAMP. signatures[0]. certificates[0].content + String DER encoded X.509 certificate in Base64. signatures[0]. certificates[0].issuer + String Object containing issuer certificate information. Can create chain til the trust anchor. timeStampTokens - Array Array containing the time stamp tokens timeStampTokens[0] + Object Object containing the time stamp token (TST) timeStampTokens[0]. indication + String Result of the time stamp token validation. Possible values:  TOTAL-PASSED  TOTAL-FAILED timeStampTokens[0]. subIndication - String Additional subindication in case of failed validation result, according to ETSI EN 319 102-1 \"Table 6: Validation Report Structure and Semantics\". timeStampTokens[0]. signedBy + String Signer of the time stamp token. timeStampTokens[0]. signedTime + String Time when the time stamp token was given. timeStampTokens[0]. certificates + Array Array containing certificates that are present in the timestamp. timeStampTokens[0]. certificates[0] + Object Object containing certificate type, common name and certificate. timeStampTokens[0]. certificates[0].commonName + String CN (common name) value in certificate. timeStampTokens[0]. certificates[0].type + String Type of the certificate. Possible value is CONTENT_TIMESTAMP. timeStampTokens[0]. certificates[0].content + String DER encoded X.509 certificate in Base64. timeStampTokens[0]. error - Array Errors returned in time stamp token validation. timeStampTokens[0]. error[0] + Object Object containing the error. timeStampTokens[0]. error[0]. content + String Error description. timeStampTokens[0]. warning - Array Block of validation warnings that do not affect the overall validation result. Aside from warnings produced by DSS, an additional warning may be issued if a timestamp token does not cover the datafile (<code>The time-stamp token does not cover container datafile!</code>). timeStampTokens[0]. warning[0] + Object Object containing the warning. timeStampTokens[0]. warning[0]. content + String Warning description. timeStampTokens[0]. timestampScopes - Array Contains information of the original data that is covered by the timestamp. timeStampTokens[0]. timestampScopes[0]. name + String Name of the timestamp scope. timeStampTokens[0]. timestampScopes[0]. scope + String Type of the timestamp scope. timeStampTokens[0]. timestampScopes[0]. content + String Description of the timestamp scope. timeStampTokens[0]. timestampLevel - String Legal level of the timestamp.  - Possible values: QTSA  TSA  N/A"},{"location":"siva3/interfaces/#sample-json-response-simple-report-successful-scenario","title":"Sample JSON response Simple Report (successful scenario)","text":"<pre><code>{\"validationReport\": {\"validationConclusion\": {\n    \"validationTime\": \"2020-06-15T11:45:52Z\",\n    \"signaturesCount\": 1,\n    \"validationLevel\": \"ARCHIVAL_DATA\",\n    \"validatedDocument\": {\"filename\": \"singleValidSignatureTS.asice\"},\n    \"validSignaturesCount\": 1,\n    \"signatures\": [{\n        \"signatureFormat\": \"XAdES_BASELINE_LT\",\n        \"subjectDistinguishedName\": {\n            \"commonName\": \"J\u00d5EORG,JAAK-KRISTJAN,38001085718\",\n            \"serialNumber\": \"PNOEE-38001085718\"\n        },\n        \"certificates\": [\n            {\n                \"commonName\": \"DEMO of SK TSA 2014\",\n                \"type\": \"SIGNATURE_TIMESTAMP\",\n                \"content\": \"MII...\"\n            },\n            {\n                \"commonName\": \"J\u00d5EORG,JAAK-KRISTJAN,38001085718\",\n                \"type\": \"SIGNING\",\n                \"content\": \"MII...\",\n                \"issuer\": {\n                    \"commonName\": \"TEST of ESTEID2018\",\n                    \"content\": \"MII...\"\n                }\n            },\n            {\n                \"commonName\": \"TEST of SK OCSP RESPONDER 2011\",\n                \"type\": \"REVOCATION\",\n                \"content\": \"MII...\"\n            }\n        ],\n        \"signedBy\": \"J\u00d5EORG,JAAK-KRISTJAN,38001085718\",\n        \"claimedSigningTime\": \"2020-05-21T13:56:52Z\",\n        \"signatureLevel\": \"QESIG\",\n        \"signatureScopes\": [{\n            \"scope\": \"FULL\",\n            \"name\": \"test.txt\",\n            \"content\": \"Full document\"\n        }],\n        \"signatureMethod\": \"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256\",\n        \"id\": \"id-a9ce7f66cff1d17ddaab37c46a88f5f4\",\n        \"indication\": \"TOTAL-PASSED\",\n        \"info\": {\n            \"timestampCreationTime\": \"2020-05-21T13:56:48Z\",\n            \"timeAssertionMessageImprint\": \"MDEwDQYJYIZIAWUDBAIBBQAEID3j1ceryQp4ZNP8iVfd50l/0JXvpry+XS+ajiAUA+Su\",\n            \"bestSignatureTime\": \"2020-05-21T13:56:48Z\",\n            \"ocspResponseCreationTime\": \"2020-05-21T13:56:49Z\"\n        }\n    }],\n    \"policy\": {\n        \"policyDescription\": \"Policy according most common requirements of Estonian Public Administration, to validate Qualified Electronic Signatures and Electronic Seals with Qualified Certificates (according to Regulation (EU) No 910/2014, aka eIDAS). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result, with exception for seals, where AdES/QC and above will produce positive result. Signatures and Seals which are not compliant with ETSI standards (referred by eIDAS) may produce unknown or invalid validation result. Validation process is based on eIDAS Article 32 and referred ETSI standards.\",\n        \"policyUrl\": \"http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4\",\n        \"policyName\": \"POLv4\"\n    },\n    \"signatureForm\": \"ASiC-E\"\n}}}\n</code></pre>"},{"location":"siva3/interfaces/#sample-json-response-simple-report-asic-s-with-2-timestamps","title":"Sample JSON response Simple Report (ASiC-S with 2 timestamps)","text":"<pre><code>{\"validationReport\": {\"validationConclusion\": {\n    \"validationTime\": \"2024-10-31T11:37:06Z\",\n    \"signaturesCount\": 0,\n    \"validatedDocument\": {\"filename\": \"2xTST-valid-bdoc-data-file-1st-tst-invalid-2nd-tst-no-coverage.asics\"},\n    \"validSignaturesCount\": 0,\n    \"timeStampTokens\": [\n        {\n            \"signedTime\": \"2024-03-27T12:42:57Z\",\n            \"certificates\": [\n                {\n                    \"commonName\": \"DEMO SK TIMESTAMPING AUTHORITY 2023E\",\n                    \"type\": \"CONTENT_TIMESTAMP\",\n                    \"content\": \"MII...\"\n                },\n                {\n                    \"commonName\": \"TEST of SK TSA CA 2023E\",\n                    \"type\": \"CONTENT_TIMESTAMP\",\n                    \"content\": \"MII...\"\n                },\n                {\n                    \"commonName\": \"TEST of SK ID Solutions ROOT G1E\",\n                    \"type\": \"CONTENT_TIMESTAMP\",\n                    \"content\": \"MII...\"\n                }\n            ],\n            \"signedBy\": \"DEMO SK TIMESTAMPING AUTHORITY 2023E\",\n            \"indication\": \"TOTAL-FAILED\",\n            \"error\": [{\"content\": \"The time-stamp message imprint is not intact!\"}],\n            \"subIndication\": \"HASH_FAILURE\",\n            \"timestampLevel\": \"QTSA\"\n        },\n        {\n            \"signedTime\": \"2024-09-11T06:03:34Z\",\n            \"certificates\": [\n                {\n                    \"commonName\": \"DEMO SK TIMESTAMPING AUTHORITY 2023E\",\n                    \"type\": \"CONTENT_TIMESTAMP\",\n                    \"content\": \"MII...\"\n                },\n                {\n                    \"commonName\": \"TEST of SK TSA CA 2023E\",\n                    \"type\": \"CONTENT_TIMESTAMP\",\n                    \"content\": \"MII...\"\n                },\n                {\n                    \"commonName\": \"TEST of SK ID Solutions ROOT G1E\",\n                    \"type\": \"CONTENT_TIMESTAMP\",\n                    \"content\": \"MII...\"\n                }\n            ],\n            \"signedBy\": \"DEMO SK TIMESTAMPING AUTHORITY 2023E\",\n            \"warning\": [{\"content\": \"The time-stamp token does not cover container datafile!\"}],\n            \"indication\": \"TOTAL-PASSED\",\n            \"timestampScopes\": [\n                {\n                    \"scope\": \"FULL\",\n                    \"name\": \"META-INF/ASiCArchiveManifest.xml\",\n                    \"content\": \"Manifest document\"\n                },\n                {\n                    \"scope\": \"FULL\",\n                    \"name\": \"META-INF/timestamp.tst\",\n                    \"content\": \"Full document\"\n                }\n            ],\n            \"timestampLevel\": \"QTSA\"\n        }\n    ],\n    \"policy\": {\n        \"policyDescription\": \"Policy according most common requirements of Estonian Public Administration, to validate Qualified Electronic Signatures and Electronic Seals with Qualified Certificates (according to Regulation (EU) No 910/2014, aka eIDAS). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result, with exception for seals, where AdES/QC and above will produce positive result. Signatures and Seals which are not compliant with ETSI standards (referred by eIDAS) may produce unknown or invalid validation result. Validation process is based on eIDAS Article 32 and referred ETSI standards.\",\n        \"policyUrl\": \"http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4\",\n        \"policyName\": \"POLv4\"\n    },\n    \"signatureForm\": \"ASiC-S\"\n}}}\n</code></pre>"},{"location":"siva3/interfaces/#warningerror-messages-filtered-out-in-simple-report","title":"Warning/error messages filtered out in Simple Report","text":"<p>From Simple Report following messages, that are considered false-positive in Estonian context, are filtered out: * Warning: The organization name is missing in the trusted certificate! * Warning: The trusted certificate does not match the trust service! * Error: The certificate is not related to a granted status at time-stamp lowest POE time! (only in case of signatures)   * In case of time stamp token in ASiC-S, the error is moved under warnings and additional warning is added:     * \"Found a timestamp token not related to granted status. If not yet covered with a fresh timestamp token, this container might become invalid in the future.\" </p> <p>Above messages are filtered out only in Simple Report.</p>"},{"location":"siva3/interfaces/#validation-response-parameters-detailed-report-successful-scenario","title":"Validation response parameters Detailed Report (successful scenario)","text":"<p>General structure of validation response.</p> JSON parameter Mandatory JSON data type Description validationReport + Object Object containing SIVA validation report. validationReport. validationConclusion + Object Object containing information of the validation conclusion. The same object that is present in Simple Report. validationReport. validationProcess - Object Object containing information of the validation process. This block is present only on DSS library based validations and is built on DSS detailed report. For more information visit DSS documentation. validationReportSignature - String Base64 string of ASIC-E container that includes the detailed report and is signed by the validation service provider"},{"location":"siva3/interfaces/#validation-response-parameters-for-diagnostic-data-report-successful-scenario","title":"Validation response parameters for Diagnostic Data Report (successful scenario)","text":"<p>General structure of validation response.</p> JSON parameter Mandatory JSON data type Description validationReport + Object Object containing SIVA validation report. validationReport. validationConclusion + Object Object containing information of the validation conclusion. The same object that is present in Simple Report and Detailed Report. validationReport. diagnosticData - Object Object containing diagnostic data about the information contained in the signature itself, it's revocation data and mathematical validity. This block is present only on DSS library based validations (excluding hashcode validation) and is built on DSS diagnostic data. For more information visit DSS documentation."},{"location":"siva3/interfaces/#sample-json-response-error-situation","title":"Sample JSON response (error situation)","text":"<p>In case of error (when validation report is not returned) status code 400 is returned together with following message body:</p> <pre><code>{\"requestErrors\": [{\n    \"message\": \"Document malformed or not matching documentType\",\n    \"key\": \"document\"\n}]}\n</code></pre>"},{"location":"siva3/interfaces/#data-files-request-interface","title":"Data files request interface","text":"<p>** REST JSON Endpoint **</p> <pre><code>POST https://&lt;server url&gt;/getDataFiles\n</code></pre>"},{"location":"siva3/interfaces/#data-files-request-parameters","title":"Data files request parameters","text":"<p>Data files request parameters for JSON interface are described in the table below.</p> JSON parameter Mandatory JSON data type Description document + String Base64 encoded string of digitally signed DDOC document filename + String File name of the digitally signed document (i.e. sample.ddoc), max length 255 characters. Currently only DDOC file format is supported for this operation"},{"location":"siva3/interfaces/#sample-json-request","title":"Sample JSON request","text":"<pre><code>{\n  \"filename\":\"sample.ddoc\",\n  \"document\":\"PD94bWwgdmVyc2lvbj0iMS4....\"\n}\n</code></pre>"},{"location":"siva3/interfaces/#data-files-response-interface","title":"Data files response interface","text":""},{"location":"siva3/interfaces/#data-files-response-parameters-successful-scenario","title":"Data files response parameters (successful scenario)","text":"<p>The data file extraction report (i.e. the data files response) for JSON interface is described in the table below. SiVa returns all data files as they are extracted by JDigiDoc library in an as is form. No extra operations or validations are done.</p> JSON parameter Mandatory JSON data type Description dataFiles - Array Collection of data files found in digitally signed document dataFiles[0] + Object Extracted data file object dataFiles[0].fileName - String File name of the extracted data file dataFiles[0].size - Long Extracted data file size in bytes dataFiles[0].base64 - String Base64 encoded string of extracted data file dataFiles[0].mimeType - String MIME type of the extracted data file"},{"location":"siva3/interfaces/#sample-json-response-successful-scenario","title":"Sample JSON response (successful scenario)","text":"<pre><code>{\n\"dataFiles\": [{\n \"fileName\": \"Glitter-rock-4_gallery.jpg\",\n \"size\": 41114,\n \"base64\": \"/9j/4AAQSkZJ...\",\n \"mimeType\": \"application/octet-stream\" }]\n}\n</code></pre>"},{"location":"siva3/interfaces/#sample-json-response-error-situation_1","title":"Sample JSON response (error situation)","text":"<p>In case of error (when datafiles are not returned) status code 400 is returned together with following message body:</p> <pre><code>{\"requestErrors\": [{\n    \"message\": \"Invalid document type. Can only return data files for DDOC type containers.\",\n    \"key\": \"documentType\"\n}]}\n</code></pre>"},{"location":"siva3/interfaces/#service-health-monitoring","title":"Service health monitoring","text":"<p>SiVa webapps provide an interface for external monitoring tools (to periodically check the generic service health status).</p>"},{"location":"siva3/interfaces/#the-request","title":"The request","text":"<p>The monitoring endpoint is accessible via HTTP GET at /monitoring/health or /monitoring/health.json url.</p> <p>Sample request:</p> <pre><code>GET https://&lt;server url&gt;/monitoring/health\n</code></pre>"},{"location":"siva3/interfaces/#the-response","title":"The response","text":"<p>As a response, a JSON object is returned with the following information:</p> Field Description status General status of the webapp. Possible values: <ul><li>DOWN - when some of the dependent indicators status are down (ie when <code>link{number}.status</code> is DOWN, the overall service status is DOWN)</li><li>UP - the default value. </li></ul> components.health.status Status of current webapp - constant value UP components.health.details.webappName The artifact name of the webapp. Taken from the MANIFEST.MF file (inside the jar/war file). components.health.details.version The release version fo the webapp. Taken from the MANIFEST.MF (inside the jar/war file). components.health.details.buildTime Build date and time (format yyyy-MM-dd'T'HH:mm:ss'Z') of the webapp. Taken from the MANIFEST.MF (inside the jar/war file). components.health.details.startTime Webapp startup date and time (format yyyy-MM-dd'T'HH:mm:ss'Z') components.health.details.currentTime Current server date and time (format yyyy-MM-dd'T'HH:mm:ss'Z') components.link{number}.status (OPTIONAL) Represents the status of a link to the external system that the webapp depends on. <ul><li>DOWN when the webapp does not respond (within a specified timeout limit - default 10 seconds) or the response is in invalid format (default Spring boot actuator /health endpoint format is expected).</li><li>UP if the service responds with HTTP status code 200 and returns a valid JSON object with status \"UP\"</li></ul> components.link{number}.details.name (OPTIONAL) Descriptive name for the link to the external system <p>Sample response:</p> <pre><code>{\n    \"status\": \"UP\",\n    \"components\": {\n        \"health\": {\n            \"details\": {\n               \"webappName\":\"siva-sample-application\",\n                \"version\":\"3.3.0\",\n                \"buildTime\":\"2016-10-21T15:56:21Z\",\n                \"startTime\":\"2016-10-21T15:57:48Z\",\n                \"currentTime\":\"2016-10-21T15:58:39Z\"\n            },\n            \"status\": \"UP\"\n        },\n        \"link1\": {\n            \"details\": {\n                \"name\": \"sivaService\"\n            },\n            \"status\": \"UP\"\n        }\n    }\n}\n</code></pre>"},{"location":"siva3/interfaces/#simplified-health-monitoring","title":"Simplified health monitoring","text":"<p>SiVa webapps provide a simple interface for external monitoring tools (to periodically check the generic service health status).</p>"},{"location":"siva3/interfaces/#the-request_1","title":"The request","text":"<p>The simplified monitoring endpoint is accessible via HTTP GET at /monitoring/heartbeat url.</p> <p>Sample request:</p> <pre><code>GET https://&lt;server url&gt;/monitoring/heartbeat\n</code></pre>"},{"location":"siva3/interfaces/#the-response_1","title":"The response","text":"<p>As a response, a JSON object is returned with the following information:</p> Field Description status General status of the webapp. Possible values: <ul><li>DOWN - when the webapp or any of its dependencies down.</li><li>UP - the default value. </li></ul> <p>Sample response:</p> <pre><code>{\n    \"status\": \"UP\"\n}\n</code></pre>"},{"location":"siva3/interfaces/#version-information","title":"Version information","text":"<p>SiVa webapps provide a simple interface for querying the application version information.</p>"},{"location":"siva3/interfaces/#the-request_2","title":"The request","text":"<p>The version information endpoint is accessible via HTTP GET at /monitoring/version url.</p> <p>Sample request:</p> <pre><code>GET https://&lt;server url&gt;/monitoring/version\n</code></pre>"},{"location":"siva3/interfaces/#the-response_2","title":"The response","text":"<p>As a response, a JSON object is returned with the following information:</p> Field Description version Version string of the webapp <p>Sample response:</p> <pre><code>{\n    \"version\": \"3.5.0\"\n}\n</code></pre>"},{"location":"siva3/interfaces/#changes-in-api-compared-to-v3-v381","title":"Changes in API compared to V3 v3.8.1","text":""},{"location":"siva3/interfaces/#soap-interface-removed","title":"SOAP interface removed.","text":"<p>Discontinued support for following endpoints (incl. respective WSDL definitions):</p> <pre><code>https://&lt;server url&gt;/soap/validationWebService/validateDocument\nhttps://&lt;server url&gt;/soap/hashcodeValidationWebService\nhttps://&lt;server url&gt;/soap/dataFilesWebService/getDocumentDataFiles\n\nhttps://&lt;server url&gt;/soap/validationWebService/validateDocument?wsdl\nhttps://&lt;server url&gt;/soap/hashcodeValidationWebService?wsdl\nhttps://&lt;server url&gt;/soap/dataFilesWebService/getDocumentDataFiles?wsdl\n</code></pre>"},{"location":"siva3/interfaces/#changes-in-validating-asic-s-containers","title":"Changes in validating ASiC-S containers","text":"<ul> <li>Logic for ASiC-S container timestamp token validation is removed and delegated to DSS.</li> <li>POE time is taken into account during validation of the time-stamped ASiC-S nested container.</li> <li>Added support for defining custom constraint files to be used for validation.</li> <li>ASiC-S nested container validation is now triggered when at least one valid timestamp is present.</li> <li>Added new fields into ASiC-S container validation response (see next section).</li> </ul>"},{"location":"siva3/interfaces/#changes-in-validation-response-non-breaking-additions-to-protocol","title":"Changes in validation response (non-breaking additions to protocol)","text":"<p>Changes are described using notation from REST endpoint.</p> Report Parameter Change Link Comment validationConclusion timeStampTokens[0]. certificates Parameter block added Link Array containing certificates that are present in the timestamp. validationConclusion timeStampTokens[0]. certificates[0] Parameter added Link Object containing certificate type, common name and certificate. validationConclusion timeStampTokens[0]. certificates[0].commonName Parameter added Link CN (common name) value in certificate. validationConclusion timeStampTokens[0]. certificates[0].type Parameter added Link Type of the certificate. Can be CONTENT_TIMESTAMP or ARCHIVE_TIMESTAMP. validationConclusion timeStampTokens[0]. certificates[0].content Parameter added Link DER encoded X.509 certificate in Base64. validationConclusion timeStampTokens[0]. subIndication Parameter added Link Additional subindication in case of failed or indeterminate validation result. validationConclusion timeStampTokens[0]. warning Parameter block added Link Block of validation warnings. validationConclusion timeStampTokens[0]. warning[0] Parameter added Link Object containing the warning. validationConclusion timeStampTokens[0]. warning[0]. content Parameter added Link Warning description. validationConclusion timeStampTokens[0]. timestampScopes Parameter block added Link Object containing information of the original data that is covered by the timestamp. validationConclusion timeStampTokens[0]. timestampScopes[0]. name Parameter added Link Name of the timestamp scope. validationConclusion timeStampTokens[0]. timestampScopes[0]. scope Parameter added Link Type of the timestamp scope. validationConclusion timeStampTokens[0]. timestampScopes[0]. content Parameter added Link Description of the timestamp scope. validationConclusion timeStampTokens[0]. timestampLevel Parameter added Link Legal level of the timestamp."},{"location":"siva3/interfaces/#changes-in-api-compared-to-v3-v340","title":"Changes in API compared to V3 v3.4.0","text":"<p>Changes are described using notation from REST endpoint.</p>"},{"location":"siva3/interfaces/#new-endpoints","title":"New endpoints","text":"Endpoint HTTP Method Link Comment /monitoring/heartbeat GET Link New monitoring endpoint /monitoring/version GET Link New monitoring endpoint"},{"location":"siva3/interfaces/#changes-in-api-compared-to-v3-v330","title":"Changes in API compared to V3 v3.3.0","text":"<p>Changes are described using notation from REST endpoint.</p>"},{"location":"siva3/interfaces/#changes-in-response","title":"Changes in response","text":"Report Parameter Change Link Comment validationConclusion signatures[0].info.timestampCreationTime Parameter added Link Date containing timestamp creation time added validationConclusion signatures[0].info.ocspResponseCreationTime Parameter added Link Date containing OCSP response creation time added validationConclusion signatures[0].info.signingReason Parameter added Link String containing signing reason for PAdES added"},{"location":"siva3/interfaces/#changes-in-api-compared-to-v3-v320-non-breaking-additions-to-protocol","title":"Changes in API compared to V3 v3.2.0 (non-breaking additions to protocol)","text":"<p>Changes are described using notation from REST endpoint.</p>"},{"location":"siva3/interfaces/#changes-in-response_1","title":"Changes in response","text":"Report Parameter Change Link Comment validationConclusion signatures[0].signatureMethod Parameter added Link Used signature method is now returned validationConclusion signatures[0].info.timeAssertionMessageImprint Parameter added Link Base64 encoded value of message imprint retrieved from time assertion. In case of LT_TM (TimeMark) signatures, OCSP nonce value is returned. In case of T, LT or LTA (TimeStamp) signatures, TimeStamp message imprint is returned. validationConclusion signatures[0].info.signatureProductionPlace Parameter added Link Object containing optional signing location info added validationConclusion signatures[0].info.signerRole Parameter added Link Array containing optional signer roles added validationConclusion signatures[0].certificates Parameter added Link Array containing certificates that are present in the signature or in TSL."},{"location":"siva3/interfaces/#changes-in-api-compared-to-v2","title":"Changes in API compared to V2","text":"<p>Changes are described using notation from REST endpoint.</p>"},{"location":"siva3/interfaces/#changes-in-request","title":"Changes in request","text":"Endpoint Parameter Change Link Comment /validateDocument reportType parameter added Link Diagnostic report type added /validateHashcode whole request request changed Link Request changed to support validation of multiple signatures with one request"},{"location":"siva3/interfaces/#changes-in-response_2","title":"Changes in response","text":"Response type Parameter Change Link Comment Simple validatedDocument now optional Link Object now optional Simple validatedDocument.filename now optional Link String now optional Simple validatedDocument.fileHash changed Link Previously validatedDocument.fileHashInHex. Now contains Base64 value Simple signatures[0].subjectDistinguishedName.serialNumber added Link Added signers serial number field Simple signatures[0].subjectDistinguishedName.commonName added Link Added signers common name field Simple signatures[0].subjectDistinguishedName.givenName added Link Added signers given name from SubjectDistinguishedName field Simple signatures[0].subjectDistinguishedName.surname added Link Added signers surname from SubjectDistinguishedName field Simple signatures[0].signatureScopes[0].hashAlgo added Link Added datafile hash algo field for hashcode validation Simple signatures[0].signatureScopes[0].hash added Link Added datafile hash field for hashcode validation Diagnostic whole response added Link New report type added"},{"location":"siva3/qa_strategy/","title":"6.1 QA Strategy","text":""},{"location":"siva3/qa_strategy/#introduction","title":"Introduction","text":"<p>The goal of this document is to give general overview of the used infrastructure, processes, schedule and actions to ensure good quality delivery. The document describes activities in the whole software development process. Analysis, development and testing are separated for the sake of structure and transparency although they are integral parts of the development cycle. This is living document and will be constantly updated as the project evolves.</p>"},{"location":"siva3/qa_strategy/#environments-and-infrastructure","title":"Environments and infrastructure","text":"<p>There are different test environments for quality assurance, depending on the nature and aim.</p> <ol> <li>GitHub Actions environment for public CI - Platform: Linux</li> <li>Test environment for local test and load test - Platform: Linux</li> </ol> <p>Instructions how to set up test environment and run tests together with more info can be found in SiVa GitHub page.</p> <p>System requirements:</p> <ul> <li>At least 4GB of RAM on machine where the build is executed</li> <li>Minimum required Java version is Java 11</li> <li>SiVa project provided Maven Wrapper (./mvnw)</li> </ul> <p>Tools used:</p> <ul> <li>GitHub Actions \u2013 is a continuous integration service used to build and test software projects hosted at GitHub</li> <li>IntelliJ IDEA \u2013 is a Java integrated development environment(IDE) for developing and executing automated tests locally</li> <li>Apache Tomcat - is an open source servlet container developed by the Apache Software Foundation.</li> <li>Rest-Assured - is a Java DSL(Domain-specific language) for simplifying testing of REST based Services built on top of HTTP Builder.</li> <li>Docker - is an open platform for developing, shipping, and running applications.</li> </ul>"},{"location":"siva3/qa_strategy/#analysis","title":"Analysis","text":"<p>Analysis will be tagged with identificators to enable cross-reference between requirements and corresponding tests. This includes both functional and non-functional requirements.</p>"},{"location":"siva3/qa_strategy/#development","title":"Development","text":""},{"location":"siva3/qa_strategy/#development-process","title":"Development process","text":"<p>Customized process based on Kanban is used in the development. The process consists of following elements:</p> <ul> <li>Product backlog is maintained in JIRA</li> <li>Tasks are maintained through JIRA Kanban board</li> <li>Daily team stand-ups are held</li> <li>Tasks marked done are developed, tested and ready to be shipped</li> <li>Weekly meetings are held to give status on progress and discuss open questions </li> </ul>"},{"location":"siva3/qa_strategy/#issue-lifecycle","title":"Issue lifecycle","text":"<p>Each ticket in JIRA Kanban board goes through the following states that correspond the development procedure described in previous chapter. </p> <p>Description of states:</p> <ul> <li>Awaiting analysis - ticket to be dealt with, product backlog.</li> <li>Awaiting implementation - ticket analysed and ready to be implemented.</li> <li>In progress - ticket is being handled (feature coding, document writing, ...).</li> <li>In Review - ticket is ready for review</li> <li>Resolved - ticket is ready for test</li> <li>Closed - ticket has been tested and found ready for release</li> </ul>"},{"location":"siva3/qa_strategy/#qa-activities-and-quality-criterias-in-the-development","title":"QA activities and quality criterias in the development","text":"<p>Process improvement</p> <p>The development process is constantly monitored and adjusted to the changing situations. Retrospective meetings for process feedback are held.</p> <p>Unit tests</p> <p>It is responsibility of developer to write, maintain and execute the unit tests on developed features. The code must compile and pass unit tests before it is allowed to be submitted to the code repository. The code of the unit tests is integral part of the source code and is maintained on the same principles. Unit tests are also automatically executed on each build, if the unit tests do not pass further test execution is stopped.</p> <p>Static testing/code reviews</p> <p>All changes (including changes in unit test code) are reviewed by another development team member using GitHub. The code must pass review before it is submitted to testing. SonarLint is used to validate code automatically.</p>"},{"location":"siva3/qa_strategy/#testing","title":"Testing","text":""},{"location":"siva3/qa_strategy/#approach","title":"Approach","text":"<p>The goal is to automate as much of the testing process as possible, however some aspects of the testing will be carried out manually. As the development is carried out by the backlog priority the testing follows the same principle. After each feature release test cases, test automation code and test results will be available through GitHub. </p>"},{"location":"siva3/qa_strategy/#testing-process","title":"Testing process","text":"<p>Automatic integration and system tests are ran against deployed SiVa instance (deployed either locally or through CI).</p>"},{"location":"siva3/qa_strategy/#test-case-management","title":"Test case management","text":"<p>Test cases are handled as integral part of test automation code. The same applies on manual tests, in manual test cases some portion of automation may be used to execute the tests but the results are verified manually. All the test cases and test code will be maintained in the GitHub. Test cases are developed and maintained together with test automation code by the QA specialist for Integration and System Testing. Following elements will be present in test cases:</p> <ul> <li>TestCaseID: unique ID that makes possible to identify specific test case</li> <li>TestType: Automated, Automated SoapUI or Manual</li> <li>Requirement: Reference to the requirement that is tested</li> <li>Title: Description of the test</li> <li>Expected Result: expected outcome of the test (pass criteria for the test)</li> <li>File: input test file that is used</li> </ul> <p>Test case sample</p> <p>Automatic and manual test cases will have the same description principles (shown below).</p> <pre><code>/**\n* TestCaseID: Bdoc-ValidationFail-27\n*\n* TestType: Automated\n*\n* Requirement: http://open-eid.github.io/SiVa/siva/appendix/validation_policy/#common-validation-constraints-polv1-polv2\n*\n* Title: Bdoc OCSP response doesn't correspond to the signers certificate\n*\n* Expected Result: The document should fail the validation\n*\n* File: NS28_WrongSignerCertInOCSPResp.bdoc\n*/\n@Test\npublic void bdocWrongSignersCertInOcspResponse() {\nsetTestFilesDirectory(\"bdoc/live/timemark/\");\npost(validationRequestFor(\"NS28_WrongSignerCertInOCSPResp.bdoc\"))\n.then()\n.body(\"signatures[0].indication\", Matchers.is(\"TOTAL-FAILED\"))\n.body(\"signatures[0].subIndication\", Matchers.is(\"TRY_LATER\"))\n.body(\"signatures[0].errors.content\", Matchers.hasItem(\"No revocation data for the certificate\"))\n.body(\"validSignaturesCount\", Matchers.is(0));\n}\n</code></pre>"},{"location":"siva3/qa_strategy/#defect-management","title":"Defect management","text":"<p>All found defects will be reported and handled in Jira. The defect report will follow similar lifecycle in JIRA Kanban board as tasks. The report will have at least the following elements:</p> <ul> <li>Title: Short, precise description of the problem</li> <li>Details: Type, Priority, Epic Link</li> <li>Description:<ul> <li>Steps to reproduce bug - sequence for reproduction, link to test case if applicable.</li> <li>Expected behavior - expected outcome of the test sequence.</li> <li>Actual behavior - actual result of the test sequence. The description should be thorough enough to enable the debugging of the problem and to give objective base for severity assessment.</li> <li>File attachments - Test files, logs, images, ...</li> </ul> </li> </ul>"},{"location":"siva3/qa_strategy/#test-levels","title":"Test levels","text":"<p>Integration testing</p> <p>The scope of the tests is illustrated on the image below. The goal is to test the SiVA application API (both X-Road and REST/JSON) and to test the independent module capability for validation of specific type of file. Both valid and invalid inputs are tested. More info about testing specifics can be found in Test Plan Integration testing section. </p> <p>System testing</p> <p>The scope of the tests is illustrated on the image below. The goal of the test is to test the entire length of signature validation process and to test supportive functions. In addition Demo application is tested. More info about testing specifics can be found in Test Plan System testing section. </p> <p>Regression testing</p> <p>Regression testing will consist of two parts: Running all automated tests (unit, integration and system tests) Manual testing of the areas that are not covered by automatic tests based on the regression test checklist</p> <p>Performance testing</p> <p>The scope of the load testing is to determine the throughput capabilities of a single SiVa node and how it handles requests under increasing load. Gatling is used for load testing and the tests can be found in SiVa-perftests GitHub page.</p>"},{"location":"siva3/roadmap/","title":"7. ROADMAP","text":"<p>This roadmap is for information purposes and can change without prior notice.</p>"},{"location":"siva3/roadmap/#planned-releases","title":"Planned releases","text":""},{"location":"siva3/roadmap/#390-pre-release-with-dd4j-600-rc1-december-2024","title":"3.9.0 pre-release (with DD4J 6.0.0-RC.1) - December 2024","text":"<ul> <li>LTA support</li> <li>X-Road REST Message Protocol support</li> <li>X-Road SOAP Message Protocol discontinued</li> <li>Digidoc4j version update to 6.0.0-RC.1</li> <li>Dependency updates</li> </ul>"},{"location":"siva3/roadmap/#past-releases","title":"Past releases","text":"<p>Past releases with descriptions can be found under Releases. </p>"},{"location":"siva3/structure_and_activities/","title":"3.1 Component model","text":"<p>The following chapter depicts SiVa software on a component diagram. Note that not all of the external base libraries are included in the component model to avoid duplicity with other documentation. Only relevant base libraries and dependencies are listed and described in the documentation. Information about additional and transitive dependencies of the respective validation service components can be found via the references provided.</p> <p></p>"},{"location":"siva3/structure_and_activities/#system-components","title":"System components","text":""},{"location":"siva3/structure_and_activities/#siva-webapp","title":"Siva webapp","text":"<p>All validation services use different Java library to validate given document in request. The used validation library is described in each of the validation service section.</p> Component Description Web gateway service Web gateway service is a single access point to the whole SiVa webapp application. Web service is implemented as a standard Spring Boot Web application module, that accepts valid JSON requests (see the Interfaces section) sent by the client systems. Web service module is responsible for basic request and response handling. This includes basic validation of incoming requests (existence of required fields, permitted values, etc) and unmarshaling the request to a Java object before passing it to the next component \u2013 the Proxy service. Response from the proxy service is marshalled and sent back to the client according to respective API. Report signing service Provides signing services for report. Supported interfaces for signature creation: PKCS11, PKCS12. Validation proxy service Acts as a router for the request and response. It is responsible for selecting the appropriate validation service for incoming document.- Proxy service accepts an in memory representation of a document and finds a matching validation service based on document type. The incoming request is converted to validation request and forwarded to the specific validation service.- The report returned by the specific validation service is passed to the statistics service before returning it to Web service. Hashcode validation proxy service Acts as a router for the request and response. It is responsible for selecting the appropriate hashcode validation service for incoming document.- The incoming request is converted to validation request and forwarded to the specific validation service.- The report returned by the specific validation service is passed to the statistics service before returning it to Web service. Data files proxy service Acts as a router for the request and response. It is responsible for selecting the appropriate data files extraction service for incoming document.- Proxy service accepts an in memory representation of a document and finds a matching validation service based on document type. Statistics service A component for collecting statistics data to log. It is Spring Boot module and main purpose for it is to collect data about: incoming request, validation reports and errors that have been reported during validation process.- When HTTP authentication header have been set the reporting service will also add this info to statistics report.- After the report object has been created the data will be logged. Generic validation service Provides validation services for detached signatures and ASIC containers along with PAdES, CAdES and XAdES signatures. Uses Maven released DigiDoc4J EU DSS fork library Timemark container validation service Provides validation services for BDOC and DDOC containers. BDOC for ASiC compliant containers both TM and TS is supported. Uses Maven released DigiDoc4J library TST validation service Provides validation service for Time Stamp Token based ASIC-S containers with Estonian specific validation policy DDOC data files service Provides files extraction services for DigiDoc containers. DDOC for previous generation digitally signed files. Uses latest Maven release of JDigiDoc Dss Dss library implementations are used for ASICE, XAdES, CAdES, PAdES and TST validation and TSL loading. SiVa uses Digidoc4J DSS fork Java library. TSL loader TSL loader loads the contents of TSL file from given URL in online mode or from directory when using offline mode in predefined interval. Logger Logging functionality is handled by the SLF4J logging facade and on top of the Logback framework.\u00a0As a result, logging can be configured via the standard Logback configuration file.\u00a0By default, logging works on the <code>INFO</code> level and logs are directed to the system console. Additional logging appenders can be added (consult logback documentation for more details) Configuration Configuration is a global component used throughout the webapp. Responsible for reading and handling the application configuration management Validation commons Common interfaces and utilities for all validation services (ie utilities for default and additional policies and constraints) Monitoring service Service that provides generic information about the webapp - it's name, version, uptime and link status. (The service is disabled by default)"},{"location":"siva3/structure_and_activities/#siva-webapp-interfaces","title":"Siva webapp interfaces","text":"<p>Provided:</p> <ul> <li>Validation service REST interface - interface for handling validation queries.<ul> <li>JSON formatted POST requests</li> </ul> </li> <li>Hashcode validation service REST interface - interface for handling hashcode validation queries.<ul> <li>JSON formatted POST requests</li> </ul> </li> <li>Data file service REST interface - interface for handling data file extraction queries.<ul> <li>JSON formatted POST requests</li> </ul> </li> <li>Monitoring service REST interface - interface for retrieving the webapp's health information<ul> <li>HTTP GET that returns JSON formatted resp\u00f3nses</li> </ul> </li> </ul> <p>Required:</p> <ul> <li>EU TSL provider interface - interface for loading the TSL</li> </ul>"},{"location":"siva3/structure_and_activities/#demo-webapp","title":"Demo webapp","text":"Component Description Demo webapp A Spring boot based web application that provides a web interface to the SiVa system for initial access and testing purposes. Offers a simple and user friendly presentation layer for the whole SiVa webapp. Contains a simple form, that can be used to send signed documents to be validated in SiVa."},{"location":"siva3/structure_and_activities/#demo-webapp-interfaces","title":"Demo webapp interfaces","text":"<p>Provided:</p> <ul> <li>Web interface - interface for handling signed requests.<ul> <li>JSON formatted POST queries</li> </ul> </li> </ul> <p>Required:</p> <ul> <li>Siva webapp REST interface</li> </ul>"},{"location":"siva3/structure_and_activities/#external-configuration","title":"External configuration","text":"Component Description Policies and constraints (Optional) By default, two policies are supported and integrated into SiVa - see SiVa Validation Policy. However, it is possible to customize the validation policies and their constraints. Configuration is validation service specific. See the overriding configuration section for details. Externalized configuration Application specific configuration (property files, command line variables, etc) that allow overriding the default values set within the webapp."},{"location":"siva3/structure_and_activities/#external-subsystems","title":"External subsystems","text":"Component Description DigiDoc4 client DigiDoc4 client is a program that can be used to sign digitally with ID-card and Mobile-ID, check the validity of digital signatures and open and save documents inside the signature container. See the github project for further details. XROAD security server A client subsystem that, once connected, allows SiVa to be integrated into the X-Road data exchange layer EU TSL provider A subsystem that provides SiVa with a current TSL. An HTTPS endpoint, that provides an XML formatted file that lists all trusted service providers along with their certificates. Monitoring (Optional) A subsystem that tracks the health and uptime of SiVa webapps"},{"location":"siva3/test_plan/","title":"6.2 Test Plan","text":""},{"location":"siva3/test_plan/#test-execution","title":"Test execution","text":"<p>Execution of tests in SiVa is divided in three categories: Automated, Automated SoapUI, Manual. The method is also indicated in test case description with TestType field.</p>"},{"location":"siva3/test_plan/#execution-of-automated-type-of-tests","title":"Execution of Automated type of tests","text":"<p>These tests are run automatically by Maven every time SiVa project is built. These tests must pass for the build to be successful. It's also possible to execute the tests separately with Maven wrapper using the command:</p> <pre><code>./mvnw verify\n</code></pre> <p>These tests are part of SiVa project and can also be executed using IntellJ IDEA. To do that, SiVa project must be loaded into IDEA. Tests are located in following packages:</p> <ul> <li>ee.openeid.siva.integrationtest</li> <li>ee.openeid.siva.resttest</li> <li>ee.openeid.siva.soaptest</li> </ul> <p>To run the tests in IDEA right click on package name and select \"Run tests in\". It's also possible to run individual tests by right-clicking on specific test code and selecting \"Run\". </p>"},{"location":"siva3/test_plan/#execution-of-automated-soapui-type-of-tests","title":"Execution of Automated SoapUI type of tests","text":"<p>The description how to execute the tests together with SoapUI project file to be used can be found in SiVa GitHub</p>"},{"location":"siva3/test_plan/#execution-of-manual-type-of-tests","title":"Execution of Manual type of tests","text":"<p>Most of the manual tests require that SiVa service is set up together with SiVa Demo Application.  The instructions how to set up SiVa are given in System deployment guide</p> <p>Execution of manual tests depends on testable area. These tests can be divided into following categories:</p> <ul> <li>Statistics tests - test data can be prepared with executing ee.openeid.siva.manualtest package. It can be also generated by uploading files into SiVa Demo application. Results have to be verified in logs.</li> <li>Report tests - test data can be prepared with executing ee.openeid.siva.manualtest package. Results have to be verified manually.</li> <li>Configuration tests - SiVa configuration files have to be modified by hand and service must be set up. Correct behavior of the service must be checked.</li> <li>Other tests - tests are executed by loading files into SiVa Demo application and validating the results shown in the SiVa Demo application.</li> </ul> <p>Files to use in manual tests can be found in SiVa GitHub</p>"},{"location":"siva3/test_plan/#integration-test-introduction","title":"Integration Test introduction","text":"<p>This section of the document gives overview of Integration Testing carried out on SiVa web service and SiVa Demo application.</p> <p>SiVa web service Integration Testing is using IO RestAssured library to implement automatic checks for REST/SOAP based tests.</p> <p>The testing of the SiVa web service is divided into sections based on the software architecture and functionalities provided to the users. The sections are:</p> <ul> <li>REST API</li> <li>SOAP API</li> <li>DDOC container signature validation</li> <li>BDOC container signature validation</li> <li>ASICE container signature validation</li> <li>ASIC-S container signature validation</li> <li>PDF signature validation</li> <li>XAdES hashcode validation</li> </ul> <p>The goal is to focus testing on functionalities implemented in SiVa web service application. Functionalities provided by Validation libraries are not explicitly tested.</p> <p>In addition, SiVa Demo Application is tested. These tests are carried out manually.</p>"},{"location":"siva3/test_plan/#testing-of-rest-api","title":"Testing of REST API","text":"<p>The goal of the REST API testing is to check that the API is accepting the requests based on the specification and the output result is in correct format and has all the required elements.</p>"},{"location":"siva3/test_plan/#validation-request-tests","title":"Validation request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Wrong (not accepted) values in input parameters</li> <li>Empty values in input parameters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Inconsistencies on stated parameters and actual data (wrong document type)</li> <li>Case insensitivity on parameter names</li> <li>Empty request</li> <li>Request body size limit</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>ValidationRequestIT.java</li> <li>DocumentFormatIT.java</li> <li>HashcodeValidationRequestIT.java</li> </ul>"},{"location":"siva3/test_plan/#get-data-files-request-tests","title":"Get Data Files request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Empty request</li> <li>Empty values in input parameters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Changed order of parameters</li> <li>Case insensitivity on parameter names</li> <li>Inconsistencies on stated parameters and actual data</li> <li>Request body size limit</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>GetDataFileRequestIT.java</li> </ul>"},{"location":"siva3/test_plan/#validation-report-and-report-signature-tests","title":"Validation report and report signature tests","text":"<p>SiVa web service returns uniform Validation Report on all the supported document types. This also includes correct document types without actual signature (for example PDF document without signature).</p> <p>Following areas are tested on output (Validation Report):</p> <ul> <li>JSON structure on DDOC, BDOC, PDF, ASIC-E, ASIC-S, XAdES hashcode </li> <li>Presence of the mandatory elements on DDOC, BDOC, PDF, ASIC-E, ASIC-S, XAdES hashcode</li> <li>Presence of optional elements on DDOC, BDOC, PDF, ASIC-E, ASIC-S, XAdES hashcode</li> <li>Verification of expected values</li> <li>JSON structure on containers without signatures</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>ValidationReportValueVerificationIT.java</li> <li>ReportSignatureManualIT.java</li> <li>DetailedReportValidationManualIT.java</li> <li>DiagnosticReportValidationManualIT.java</li> </ul>"},{"location":"siva3/test_plan/#testing-of-soap-api","title":"Testing of SOAP API","text":"<p>The goal of the SOAP API testing is to check that the API is accepting the requests based on the specification and the output result (Validation Report) is in correct format and has all the required elements. In general the tests follow the same principles as with REST API. Compatibility with X-Road security server is out of scope for these tests and will be covered in X-Road System Test plan.</p>"},{"location":"siva3/test_plan/#validation-request-tests_1","title":"Validation request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Wrong (not accepted) values in input parameters</li> <li>Empty values in input parameters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Inconsistencies on stated parameters and actual data (wrong document type)</li> <li>Case insensitivity on parameter names</li> <li>Empty request</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapValidationRequestIT.java</li> <li>SoapHashcodeValidationRequestIT.java</li> </ul>"},{"location":"siva3/test_plan/#get-data-files-request-tests_1","title":"Get Data Files request tests","text":"<p>Following areas are tested on input:</p> <ul> <li>Empty request</li> <li>Empty values in input parameters</li> <li>Too many parameters</li> <li>Too few parameters</li> <li>Changed order of parameters</li> <li>Case insensitivity on parameter names</li> <li>Inconsistencies on stated parameters and actual data</li> </ul> <p>In all of the negative cases correctness of returned error message is checked.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapGetDataFileRequestIT.java</li> </ul>"},{"location":"siva3/test_plan/#validation-report-tests","title":"Validation report tests","text":"<p>SiVa web service returns uniform Validation Report on all the supported document types. This also includes correct document types without actual signature (for example PDF document without signature). However not all values may be present for all the document types.</p> <p>Following areas are tested on output (Validation Report):</p> <ul> <li>Presence of the mandatory elements on DDOC, BDOC, PDF, ASIC-S ASIC-E, XAdES hashcode</li> <li>Presence of optional elements on DDOC, BDOC, PDF, ASIC-S, ASIC-E, XAdES hashcode and</li> <li>Verification of expected values</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapValidationReportValueIT.java</li> </ul>"},{"location":"siva3/test_plan/#get-data-files-report-tests","title":"Get Data Files report tests","text":"<p>Following areas are tested on output:</p> <ul> <li>Presence of the mandatory elements</li> <li>Verification of expected values</li> <li>Extraction of all data files</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>SoapGetDataFileReportIT.java</li> </ul>"},{"location":"siva3/test_plan/#testing-of-ddoc-container-signature-validation","title":"Testing of DDOC container signature validation","text":"<p>The goal of the DDOC container signature validation testing is to check that the validation results given by JDigiDoc library are properly presented in validation report.</p> <p>The testing of DDOC signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated.</li> <li>Containers with invalid signature(s) or no signature are validated</li> <li>Containers with sizes up to 9MB are validated</li> <li>Containers with DDOC v1.0 - 1.3 are validated</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>DdocValidationFailIT.java</li> <li>DdocValidationPassIT.java</li> <li>LargeFileIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva3/test_plan/#testing-of-bdoc-container-signature-validation","title":"Testing of BDOC container signature validation","text":"<p>The goal of the BDOC container signature validation testing is to check that the validation results given by DigiDoc4J library are properly presented in validation report.</p> <p>The testing of BDOC container signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated</li> <li>Containers with invalid signature(s) or no signature are validated</li> <li>Containers with sizes up to 9MB are validated</li> <li>Containers with baseline B, T, LT, LT_TM and LTA profile (files with BDOC extension)</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>BdocValidationFailIT.java</li> <li>BdocValidationPassIT.java</li> <li>LargeFileIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva3/test_plan/#testing-of-asic-e-container-signature-validation","title":"Testing of ASIC-E container signature validation","text":"<p>The goal of the ASIC-E container signature validation testing is to check that the validation results given by DSS library are properly presented in validation report.</p> <p>The testing of ASIC-E container signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated</li> <li>Containers with invalid signature(s) or no signature are validated</li> <li>Containers with baseline B, T, LT and LTA profile</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>AsiceValidationFailIT.java</li> <li>AsiceValidationPassIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva3/test_plan/#testing-of-asic-s-container-signature-validation","title":"Testing of ASIC-S container signature validation","text":"<p>The goal of the ASIC-S container signature validation testing is to check that the validation results given by DSS library are properly presented in validation report.</p> <p>The testing of ASIC-S container signatures consists of following main cases:</p> <ul> <li>Containers with valid signature(s) are validated</li> <li>Containers with invalid signature(s) or no signature are validated</li> <li>Containers with sizes up to 9MB are validated</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>AsicsValidationFailIT.java</li> <li>AsicsValidationPassIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva3/test_plan/#testing-of-xades-hashcode-signature-validation","title":"Testing of XAdES hashcode signature validation","text":"<p>The goal of the XAdES hashcode signature validation testing is to check that the validation results given by DSS library are properly presented in validation report.</p> <p>The testing of XAdES hashcode signatures consists of following main cases:</p> <ul> <li>XAdES signatures with valid signature(s) are validated</li> <li>XAdES signatures with invalid signature(s) or no signature are validated</li> <li>XAdES signatures extracted from BDOC and ASIC-E</li> <li>XAdES signatures with baseline B, T, LT and LTA profile</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>XadesHashcodeValidationFailIT.java</li> <li>XadesHashcodeValidationPassIT.java</li> </ul> <p>What is not tested:</p> <ul> <li>Verification of different causes in container for invalid result is out of scope.</li> </ul>"},{"location":"siva3/test_plan/#testing-of-pdf-signature-validation","title":"Testing of PDF signature validation","text":"<p>Portion of the validation rules for PDF documents are implemented in SiVa web application itself. Therefor different test area selection is used for PDF compared to other containers.</p> <p>The testing of PDF signatures consists of following main cases:</p> <ul> <li>Containers with invalid signature(s) (different reasons for failure) are validated</li> <li>Containers with no signature are validated</li> <li>Containers with sizes up to 9MB are validated</li> <li>Containers with different baseline profiles are validated</li> <li>Containers with serial and parallel signatures are validated</li> <li>Containers with different signature cryptographic algorithms are validated</li> <li>Containers with OCSP values inside and outside bounds are validated</li> <li>Containers with baseline B, T, LT and LTA profile</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>PdfBaselineProfileIT.java</li> <li>PdfSignatureCryptographicAlgorithmIT.java</li> <li>PdfValidationFailIT.java</li> <li>PdfValidationPassIT.java</li> <li>LargeFileIT.java</li> </ul>"},{"location":"siva3/test_plan/#testing-of-data-files-extraction","title":"Testing of Data Files Extraction","text":"<p>The goal of the Data Files Extraction testing  is to check if right data files returned for DDOC container and error messages for other types of containers.</p> <p>The testing of Data Files Extraction consists of following main cases:</p> <ul> <li>Extracting the data files from valid DDOC container</li> <li>Extracting the data files from Hashcoded DDOC  returns null for Base64 encoded String</li> <li>Extracting the data files from DDOC container  with 12 different   types  of files</li> <li>Extracting the data files from not DDOC container</li> <li>Extracting the data files from DDOC container with wrong Document Type</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>DdocGetDataFilesIT.java</li> </ul>"},{"location":"siva3/test_plan/#testing-of-user-statistics","title":"Testing of user statistics","text":"<p>Testing of user statistics is carried out in combination of automatic data preparation and generation by integration tests and manual verification of the results. SiVa supports the following way of gathering user statistics:</p> <ul> <li>Validation results are printed to system log and can be gathered by any suitable means</li> </ul> <p>Following areas are covered:</p> <ul> <li>Statistics values are checked in log for all container types (this also includes parameters not present in validation report)</li> <li>Valid and invalid signatures are validated</li> <li>Error situations on signature validation (instead of validation report, error message is returned)</li> </ul> <p>Specific test cases and input files can be found in:</p> <ul> <li>StatisticsToLogsManualIT.java</li> </ul>"},{"location":"siva3/test_plan/#siva-demo-application-tests","title":"SiVa Demo Application tests","text":"<p>Testing of SiVa Demo Application is done manually. The main cases are:</p> <ul> <li>Cross browser usage (IE, Edge, Chrome, Firefox and Safari)</li> <li>File upload (different sizes, supported and unsupported file types)</li> <li>Displayment of Validation Report both for REST and SOAP</li> <li>Layout of the page</li> <li>Error representation</li> </ul> <p>Sample test cases with input files can be found in:</p> <ul> <li>Demo Application Integration Test </li> </ul>"},{"location":"siva3/test_plan/#system-test-introduction","title":"System Test introduction","text":"<p>While Integration Tests were mostly carried out automatically then System Testing is mostly depending on manual testing.</p> <p>System testing is carried out using two access points:</p> <ul> <li>Testing through SiVa Demo Application</li> <li>Testing through X-Road security server using SoapUI</li> </ul> <p>Note</p> <p>Testing through X-Road security server requires presence and configuration of X-Road security server to use SiVa service.  Tests are run using SoapUI that simulates request to X-Road security server.</p>"},{"location":"siva3/test_plan/#testing-through-x-road-security-server","title":"Testing through X-Road security server","text":"<p>Following areas are covered for document validation:</p> <ul> <li>Validation of valid signature</li> <li>Validation of invalid signature</li> <li>Validation that returns Soap error</li> </ul> <p>All of the above test cases are run with BDOC, DDOC, PDF and ASIC-S containers. </p> <p>Following areas are covered for file extraction:</p> <ul> <li>Extraction of data files from valid ddoc</li> <li>Extraction of data files from invalid ddoc</li> <li>Error response from data file extraction  </li> </ul> <p>Tests along with test case descriptions are available for rerun in github.</p> <p>Specific test cases and input files can be found in:</p> <ul> <li>X-Road Soap System Test</li> </ul>"},{"location":"siva3/test_plan/#configurationadministration-testing","title":"Configuration/administration testing","text":"<p>Following areas are covered:</p> <ul> <li>SiVa Web Application configuration</li> <li>Demo application configuration</li> </ul> <p>Specific test cases can be found in:</p> <ul> <li>Configuration System Test </li> </ul>"},{"location":"siva3/test_plan/#performance-testing","title":"Performance testing","text":"<p>More information can be found in SiVa-perftests GitHub page.</p>"},{"location":"siva3/use_cases/","title":"3.2 Use cases","text":""},{"location":"siva3/use_cases/#digitally-signed-document-validation-process","title":"Digitally signed document validation process","text":"<p>Digitally signed document validation process shows how SiVa chooses validation service and possible output of validation process.</p> <p></p> <p>User of SiVa system provides digitally signed document file in form of Base64 encoded string. The validation of file and validation policy is handled by validation services underlying libraries.</p> <ul> <li>In case of DDOC or BDOC containers with XAdES signatures it will be Timemark container validation Service</li> <li>In case of ASIC-S containers with TimeStampToken it will be Timestamptoken Validation Service</li> <li>In case of other containers or with XAdES, CAdES and PAdES signatures it will be Generic Validation Service</li> </ul> <p>We will log following failure cases: When file upload fails (request started but was not completed successfully) When request validation fails When signature validation fails</p> <p></p> <p>User of SiVa system provides detached signatures in form of Base64 encoded string. The validation of file and validation policy is handled by validation services underlying libraries.</p> <p>We will log following failure cases: When file upload fails (request started but was not completed successfully) When request validation fails When signatures validation fails</p>"},{"location":"siva3/use_cases/#certificate-loading-process","title":"Certificate loading process","text":"<p>All validation services require certificates to validate digitally signed documents. Below process shows how certificates are loaded into validation service. Loading process is done separably for each validation service.</p> <p></p> <p>Certificate loading process is scheduled cron job inside each validation service to update currently in memory loaded certificates.</p> <p>This process should run after TSL loader has completed updating SiVa local copy of certificates.</p>"},{"location":"siva3/use_cases/#tsl-loading-use-case","title":"TSL loading use case","text":"<p>TSL implemented in separate module. The process is executed in two ways.</p> <ul> <li>When SiVa application is started</li> <li>As scheduled job</li> </ul> <p></p>"},{"location":"siva3/use_cases/#ddoc-data-file-extraction-process","title":"DDOC data file extraction process","text":"<p>DDOC data file extraction process shows how SiVa extracts data file(s) from container and possible output of data file extraction.</p> <p></p> <p>User of SiVa system provides digitally signed DDOC file in form of Base64 encoded string. The extraction of data files is handled by underlying JDigiDoc library.</p> <p>We will log following failure cases: When file upload fails (request started but was not completed successfully) When request validation fails.</p>"},{"location":"siva3/appendix/known_issues/","title":"Appendix 3 - Known Issues","text":""},{"location":"siva3/appendix/known_issues/#known-issues","title":"Known issues","text":"<p>All known issues should be reported and managed under GitHub project issues section</p>"},{"location":"siva3/appendix/test_cases/","title":"Test Case Descriptions","text":""},{"location":"siva3/appendix/test_cases/#introduction","title":"Introduction","text":"<p>This document gives overview of the test cases. This page is partially generated using a script, more info about the script can be found in SiVa-Test GitHub.</p> <p>The structure and elements of test case is described in QA Strategy document. All the files used in the tests can be found in SiVa-Test GitHub.</p>"},{"location":"siva3/appendix/test_cases/#asicevalidationfailitjava","title":"AsiceValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Asice-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common-validation-constraints-polv3-polv4</li> <li>Title: Bdoc with single invalid signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: InvalidLiveSignature.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice with multiple invalid signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: InvalidMultipleSignatures.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice with multiple signatures both valid and invalid</li> <li>Expected Result: The document should fail the validation</li> <li>File: InvalidAndValidSignatures.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice with no signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: AsiceContainerNoSignature.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Wrong signature timestamp</li> <li>Expected Result: The document should fail the validation</li> <li>File: TS-02_23634_TS_wrong_SignatureValue.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice No non-repudiation key usage value in the certificate, verification of AdES signature level</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-I-43.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice signers certificate does not have non-repudiation value in the certificates key usage field and it does not contain the QC and SSCD compliance information.</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-I-26.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: OCSP certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-01_bdoc21-unknown-resp.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice TSA certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: TS-05_23634_TS_unknown_TSA.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-R-25.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice difference between OCSP and time-stamp issuing times is more than 24 hours</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-20.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice unsigned data files in the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-34.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice SignatureValue does not correspond to the SignedInfo block</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-19_bdoc21-no-sig-asn1-pref.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice Baseline-BES file</li> <li>Expected Result: The document should fail the validation</li> <li>File: signWithIdCard_d4j_1.0.4_BES.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice Baseline-EPES file</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-04_kehtivuskinnituset.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice signers certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-15_revoked.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice OCSP response status is unknown</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-16_unknown.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice signed data file has been removed from the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-21_fileeemaldatud.4.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice no files in container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-02_tyhi.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice signed data file(s) don't match the hash values in reference elements</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-14_filesisumuudetud.4.bdoc</li> </ul> <p>TestCaseID: Asice-ValidationFail-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice Baseline-T signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: TS-06_23634_TS_missing_OCSP.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice certificate's validity time is not in the period of OCSP producedAt time</li> <li>Expected Result: The document should fail the validation</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file is needed where certificate expiration end is before the OCSP produced at time</p> <p>TestCaseID: Asice-ValidationFail-24</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: BDoc with invalid signature, no signing certificate found</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-invalid-sig-no-sign-cert.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-25</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: BDoc with invalid signature, signed with expired certificate</li> <li>Expected Result: The document should fail the validation</li> <li>File: IB-5987_signed_with_expired_certificate.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-26</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc signed properties element missing</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-03_bdoc21-TS-no-signedpropref.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-27</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice LT signature signed with expired AIA OCSP certificate</li> <li>Expected Result: The document should fail the validation</li> <li>File: esteid2018signerAiaOcspLT.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-28</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice LTA signature signed with expired AIA OCSP certificate</li> <li>Expected Result: The document should fail the validation</li> <li>File: esteid2018signerAiaOcspLTA.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-29</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice simple xroad document</li> <li>Expected Result: Document should fail as xroad document validation is not supported</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-30</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice batchsignature xroad document</li> <li>Expected Result: Document should fail as xroad document validation is not supported</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-31</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice attachment xroad document</li> <li>Expected Result: Document should fail as xroad document validation is not supported</li> <li>File: xroad-attachment.asice</li> </ul> <p>TestCaseID: Asice-ValidationFail-32</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice Baseline-LTA file</li> <li>Expected Result: The document should fail the validation as TS is not qualified</li> <li>File: EE_SER-AEX-B-LTA-V-24.asice</li> </ul>"},{"location":"siva3/appendix/test_cases/#asicevalidationpassitjava","title":"AsiceValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Asice-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice with single valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice with multiple valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: BDOC-TS.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice One LT signature with certificates from different countries</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-30.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice Baseline-LT file</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-49.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice file signed with Mobile-ID, ECC-SHA256 signature with prime256v1 key</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-2.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice file with    ESTEID-SK 2015 certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: IB-4270_TS_ESTEID-SK 2015  SK OCSP RESPONDER 2011.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice file with KLASS3-SK 2010 (EECCRCA) certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-28.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: *.sce file with TimeStamp</li> <li>Expected Result: The document should pass the validation</li> <li>File: ASICE_TS_LTA_content_as_sce.sce</li> </ul> <p>TestCaseID: Asice-ValidationPass-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice-TS with special characters in data file</li> <li>Expected Result: The document should pass the validation with correct signature scope</li> <li>File: Nonconventionalcharacters.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: New Estonian ECC signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Mac_AS0099904_EsimeneAmetlikSKTestElliptilistega_TS.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice pss signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: PSS-signature.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice with empty datafiles</li> <li>Expected Result: The document should pass the validation but with warnings about empty datafiles</li> <li>File: signed-container-with-empty-datafiles.asice</li> </ul> <p>TestCaseID: Asice-ValidationPass-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: ASICE with new Smart-ID certificate profile without personal number in CommonName</li> <li>Expected Result: The document should pass</li> <li>File: validSidSignatureWithCertWithoutPnoInCn.asice</li> </ul>"},{"location":"siva3/appendix/test_cases/#asicsvalidationfailitjava","title":"AsicsValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Asics-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Only one datafile is allowed in ASIC-s</li> <li>Expected Result: The validation should fail</li> <li>File: TwoDataFilesAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: No data file in ASIC-s</li> <li>Expected Result: The validation should fail</li> <li>File: DataFileMissingAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: more folders that META-INF in ASIC-s</li> <li>Expected Result: The validation should fail</li> <li>File: FoldersInAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: META-INF folder not in root of container</li> <li>Expected Result: The validation should fail</li> <li>File: MetaInfNotInRoot.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Not allowed files in META-INF folder</li> <li>Expected Result: The validation should fail</li> <li>File: signatureMixedWithTST.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: TST not intact</li> <li>Expected Result: The validation should fail</li> <li>File: AsicsTSTsignatureModified.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: TST has been corrupted</li> <li>Expected Result: The validation should fail</li> <li>File: AsicsTSTsignatureBroken.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Data file changed</li> <li>Expected Result: The validation should fail</li> <li>File: DatafileAlteredButStillValid.asics</li> </ul> <p>TestCaseID: Asics-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Exluding files in META-INF folder together with TST</li> <li>Expected Result: The validation should fail</li> <li>File: evidencerecordMixedWithTST.asics</li> </ul>"},{"location":"siva3/appendix/test_cases/#asicsvalidationpassitjava","title":"AsicsValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Asics-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with DDOC inside</li> <li>Expected Result: TST and inner DDOC are valid</li> <li>File: ddocWithRoleAndSigProductionPlace.asics</li> </ul> <p>TestCaseID: Asics-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with DDOC inside SCS extension</li> <li>Expected Result: TST and inner DDOC are valid</li> <li>File: ValidDDOCinsideAsics.scs</li> </ul> <p>TestCaseID: Asics-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with BDOC inside</li> <li>Expected Result: TST and inner BDOC are valid</li> <li>File: ValidBDOCinsideAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with text document inside</li> <li>Expected Result: TST is valid</li> <li>File: TXTinsideAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with ASICs inside</li> <li>Expected Result: TST is valid, no inner looping of ASICs</li> <li>File: ValidASICSinsideAsics.asics</li> </ul> <p>TestCaseID: Asics-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with DDOC inside ZIP extension</li> <li>Expected Result: TST and inner DDOC are valid</li> <li>File: ValidDDOCinsideAsics.zip</li> </ul> <p>TestCaseID: Asics-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of ASICs with wrong mimetype with DDOC inside</li> <li>Expected Result: TST and inner DDOC are valid</li> <li>File: ValidDDOCinsideAsicsWrongMime.asics</li> </ul>"},{"location":"siva3/appendix/test_cases/#bdocvalidationfailitjava","title":"BdocValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with single invalid signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: IB-3960_bdoc2.1_TSA_SignatureValue_altered.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with multiple invalid signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: BdocMultipleSignaturesInvalid.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with multiple signatures both valid and invalid</li> <li>Expected Result: The document should fail the validation</li> <li>File: BdocMultipleSignaturesMixedWithValidAndInvalid.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with no signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: BdocContainerNoSignature.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Wrong signature timestamp</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: TS-02_23634_TS_wrong_SignatureValue.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice No non-repudiation key usage value in the certificate, verification of AdES signature level</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: EE_SER-AEX-B-LT-I-43.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice signers certificate does not have non-repudiation value in the certificates key usage field and it does not contain the QC and SSCD compliance information.</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-I-26.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc OCSP certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-01_bdoc21-unknown-resp.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice TSA certificate is not trusted</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: TS-05_23634_TS_unknown_TSA.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: EE_SER-AEX-B-LT-R-25.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice difference between OCSP and time-stamp issuing times is more than 24 hours</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-20.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc different data file mime-type values in signatures.xml and manifest.xml files</li> <li>Expected Result: The document should return warning regarding the mismatch</li> <li>File: 23613_TM_wrong-manifest-mimetype.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc SignatureValue does not correspond to the SignedInfo block</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-19_bdoc21-no-sig-asn1-pref.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc Baseline-BES file</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: signWithIdCard_d4j_1.0.4_BES.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc Baseline-EPES file</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-04_kehtivuskinnituset.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc signers certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc OCSP response status is revoked</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-15_revoked.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc OCSP response status is unknown</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-16_unknown.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc signed data file has been removed from the container</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: KS-21_fileeemaldatud.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc no files in container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-02_tyhi.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-24</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc wrong nonce</li> <li>Expected Result: The document should fail the validation</li> <li>File: TM-10_noncevale.4.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-25</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc signed data file(s) don't match the hash values in reference elements</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-14_filesisumuudetud.4.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-26</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice Baseline-T signature</li> <li>Expected Result: The document should fail the validation in DD4J</li> <li>File: TS-06_23634_TS_missing_OCSP.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-27</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc OCSP response is not the one expected</li> <li>Expected Result: The document should fail the validation</li> <li>File: 23608-bdoc21-TM-ocsp-bad-nonce.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-28</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc certificate's validity time is not in the period of OCSP producedAt time</li> <li>Expected Result: The document should fail the validation</li> <li>File: 23154_test1-old-sig-sigat-OK-prodat-NOK-1.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-29</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc   BDOC-1.0 version container</li> <li>Expected Result: The document should fail the validation</li> <li>File: BDOC-1.0.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-30</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice unsigned data files in the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: EE_SER-AEX-B-LT-V-34.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-31</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc signed properties element missing</li> <li>Expected Result: The document should fail the validation</li> <li>File: REF-03_bdoc21-TM-no-signedpropref.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-32</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc OCSP certificate in both signature and OCSP token</li> <li>Expected Result: The document should fail the validation</li> <li>File: NoOcspCertificateAnywhere.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationFail-32</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice Baseline-LTA file</li> <li>Expected Result: The document should fail the validation. DD4J do not return certificates for LTA timestamp.</li> <li>File: EE_SER-AEX-B-LTA-V-24.asice</li> </ul>"},{"location":"siva3/appendix/test_cases/#bdocvalidationpassitjava","title":"BdocValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Bdoc with single valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Bdoc TM with multiple valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Bdoc with warning on signature</li> <li>Expected Result: The document should pass the validation but warning should be returned</li> <li>File: bdoc_weak_warning_sha1.bdoc</li> </ul> <p>**Attention! This test is disabled: New file needed. This one has different mimetype value in manifest.xml and signature.xml</p> <p>TestCaseID: Bdoc-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice One LT signature with certificates from different countries</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-30.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Bdoc signed with Mobile-ID, ECC-SHA256 signature with prime256v1 key</li> <li>Expected Result: The document should pass the validation</li> <li>File: 24050_short_ecdsa_correct_file_mimetype.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice Baseline-LT file</li> <li>Expected Result: The document should pass the validation in DD4J</li> <li>File: EE_SER-AEX-B-LT-V-49.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice QES file</li> <li>Expected Result: The document should pass the validation</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice file signed with Mobile-ID, ECC-SHA256 signature with prime256v1 key</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-2.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice file with    ESTEID-SK 2015 certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: IB-4270_TS_ESTEID-SK 2015  SK OCSP RESPONDER 2011.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Asice file with KLASS3-SK 2010 (EECCRCA) certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: EE_SER-AEX-B-LT-V-28.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Bdoc with Baseline-LT_TM and QES signature level and ESTEID-SK 2011 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: BDOC2.1.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Bdoc TS with multiple valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: Test_id_aa.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Bdoc-TM with special characters in data file</li> <li>Expected Result: The document should pass the validation</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: *.sce file with TimeMark</li> <li>Expected Result: The document should pass the validation</li> <li>File: BDOC2.1_content_as_sce.sce</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc-TS with special characters in data file</li> <li>Expected Result: The document should pass the validation with correct signature scope</li> <li>File: Nonconventionalcharacters.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: ECC signature vith BDOC TM</li> <li>Expected Result: The document should pass the validation</li> <li>File: testECCDemo.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: ECC signature vith BDOC TS</li> <li>Expected Result: The document should pass the validation</li> <li>File: Mac_AS0099904_EsimeneAmetlikSKTestElliptilistega_TS.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Asice with wrong slash character ('\\') in data file mime-type value</li> <li>Expected Result: The document should pass</li> <li>File: EE_SER-AEX-B-LT-V-33.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with invalid mimetype in manifest</li> <li>Expected Result: The document should pass</li> <li>File: 23147_weak-warning-sha1-invalid-mimetype-in-manifest.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with TEST of SK OCSP RESPONDER 2020</li> <li>Expected Result: The document should pass</li> <li>File: test_of_OCSP_responder_2020.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationPass-24</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with empty datafiles</li> <li>Expected Result: The document should pass the validation but with warnings about empty datafiles</li> <li>File: signed-container-with-empty-datafiles.bdoc</li> </ul>"},{"location":"siva3/appendix/test_cases/#ddocgetdatafilesitjava","title":"DdocGetDataFilesIT.java","text":"<p>Open file</p> <p>TestCaseID:  Ddoc-Get-Data-Files-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: Valid DDOC with data file used</li> <li>Expected Result: The data file should be returned</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: Invalid DDOC with data file used</li> <li>Expected Result: The data file should be returned</li> <li>File: OCSP nonce vale.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title:DDOC with xml v1.1 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title:DDOC with xml v1.1 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: DDOC with xml v1.2 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: DIGIDOC-XML1.2.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: DDOC with xml v1.3 is  used</li> <li>Expected Result: The data file is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: Hashcoded DDOC  is  used</li> <li>Expected Result: Null is returned</li> <li>File: DIGIDOC-XML1.3_hashcode.ddoc</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-376\")</p> <p>TestCaseID:  Ddoc-Get-Data-Files-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: DDOC  with 12 different  files of different types  is  used</li> <li>Expected Result: Data file returned for each file correctly</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: BDOC with data file used</li> <li>Expected Result: The error message  should be returned</li> <li>File: BDOC-TS.bdoc</li> </ul> <p>TestCaseID:  Ddoc-Get-Data-Files-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/use_cases/#ddoc-data-file-extraction-process</li> <li>Title: PDF file used</li> <li>Expected Result: The error message  should be returned</li> <li>File: hellopades-lt-b.pdf</li> </ul>"},{"location":"siva3/appendix/test_cases/#ddocvalidationfailitjava","title":"DdocValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Ddoc-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc with single invalid signature</li> <li>Expected Result: The document should fail the validation</li> <li>File: AndmefailiAtribuudidMuudetud.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc with multiple invalid signatures</li> <li>Expected Result: The document should fail the validation</li> <li>File: multipleInvalidSignatures.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc with multiple signatures both valid and invalid</li> <li>Expected Result: The document should fail the validation</li> <li>File: multipleValidAndInvalidSignatures.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc signature value has been changed (SignatureValue does not correspond to the SignedInfo block)</li> <li>Expected Result: The document should fail the validation</li> <li>File: test-inv-sig-inf.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc Data file(s) don't match the hash values in Reference elements</li> <li>Expected Result: The document should fail the validation</li> <li>File: AndmefailiAtribuudidMuudetud.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc Baseline-BES file, no OCSP response</li> <li>Expected Result: The document should fail the validation</li> <li>File: ilma_kehtivuskinnituseta.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc no non-repudiation key usage value in the certificate</li> <li>Expected Result: The document should fail the validation</li> <li>File: test-non-repu1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc Signer's certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: Belgia_kandeavaldus_LIV.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc OCSP certificate is not trusted</li> <li>Expected Result: The document should fail the validation</li> <li>File: Tundmatu_OCSP_responder.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc has unsigned data files in the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: lisatud_andmefail.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc signed data file has been removed from the container</li> <li>Expected Result: The document should fail the validation</li> <li>File: faileemald1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc wrong nonce</li> <li>Expected Result: The document should fail the validation</li> <li>File: OCSP nonce vale.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/</li> <li>Title: Ddoc with XML Entity expansion attack</li> <li>Expected Result: The document should fail the validation with error</li> <li>File: xml_expansion.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/</li> <li>Title: Ddoc with XML server side request forgery attack</li> <li>Expected Result: The document should fail the validation with error</li> <li>File: xml_entity.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc no files in container</li> <li>Expected Result: The document should fail the validation</li> <li>File: KS-02_tyhi.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc with invalid datafile id</li> <li>Expected Result: The document should fail the validation</li> <li>File: 22915-bad-df-id.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of DDOC with revoked certificate status</li> <li>Expected Result: The document should fail the validation</li> <li>File: cert-revoked.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationFail-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of DDOC with unknown OCSP status</li> <li>Expected Result: The document should fail the validation</li> <li>File: cert-unknown.ddoc</li> </ul>"},{"location":"siva3/appendix/test_cases/#ddocvalidationpassitjava","title":"DdocValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Ddoc-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.0 with valid signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.1 with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.2 with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: DIGIDOC-XML1.2.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.3 with valid signature with ESTEID-SK 2011 certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.3 with valid signature, signed data file name has special characters and ESTEID-SK certificate chain</li> <li>Expected Result: The document should pass the validation</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.3 KLASS3-SK certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: KLASS3-SK _ KLASS3-SK OCSP RESPONDER uus.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.3 KLASS3-SK 2010 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: KLASS3-SK 2010 _ KLASS3-SK 2010 OCSP RESPONDER.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.1 ESTEID-SK 2007 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: vaikesed1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.1 ESTEID-SK 2015 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: IB-4270_ESTEID-SK 2015  SK OCSP RESPONDER 2011.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.1 ESTEID-SK certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK _ EID-SK OCSP RESPONDER.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.1 ESTEID-SK 2007 and OCSP 2010 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK 2007 _ EID-SK 2007 OCSP RESPONDER 2010.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.3 ESTEID-SK 2007 and OCSP 2007 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK 2007 _ EID-SK 2007 OCSP RESPONDER.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Ddoc v1.3 ESTEID-SK 2011 and OCSP 2011 certificate chain with valid signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: EID-SK 2011 _ SK OCSP RESPONDER 2011.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc with warning should pass</li> <li>Expected Result: Document passes the validation</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationPass-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Ddoc with no signatures</li> <li>Expected Result: Document passes the validation</li> <li>File: DdocContainerNoSignature.ddoc</li> </ul> <p>TestCaseID: DdocHashcode-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of DDOC Hashcode v1.0</li> <li>Expected Result: Document passes the validation</li> <li>File: SK-XML1.0_hashcode.ddoc</li> </ul> <p>TestCaseID: DdocHashcode-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of DDOC Hashcode v1.1</li> <li>Expected Result: Document passes the validation</li> <li>File: DIGIDOC-XML1.1_hashcode.ddoc</li> </ul> <p>TestCaseID: DdocHashcode-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of DDOC Hashcode v1.2</li> <li>Expected Result: Document passes the validation</li> <li>File: DIGIDOC-XML1.2_hashcode.ddoc</li> </ul> <p>TestCaseID: DdocHashcode-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of DDOC Hashcode v1.3</li> <li>Expected Result: Document passes the validation</li> <li>File: DIGIDOC-XML1.3_hashcode.ddoc</li> </ul>"},{"location":"siva3/appendix/test_cases/#documentformatitjava","title":"DocumentFormatIT.java","text":"<p>Open file</p> <p>TestCaseID: DocumentFormat-1</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of pdf document acceptance</li> <li>Expected Result: Pdf is accepted and correct signature validation is given</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: DocumentFormat-2</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of bdoc document acceptance</li> <li>Expected Result: Bdoc is accepted and correct signature validation is given</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: DocumentFormat-3</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of asice document acceptance</li> <li>Expected Result: asice is accepted and correct signature validation is given</li> <li>File: Vbdoc21-TS.asice</li> </ul> <p>TestCaseID: DocumentFormat-4</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of asics document acceptance</li> <li>Expected Result: asics is accepted and correct signature validation is given</li> <li>File: ValidDDOCinsideAsics.asics</li> </ul> <p>TestCaseID: DocumentFormat-5</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of xades acceptance</li> <li>Expected Result: xades is accepted and correct signature validation is given</li> <li>File: signatures0.xml</li> </ul> <p>TestCaseID: DocumentFormat-6</p> <ul> <li>TestType: Automated</li> <li>Requirement:  http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Validation of cades acceptance</li> <li>Expected Result: cades is accepted and correct signature validation is given</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: Test file needed</p>"},{"location":"siva3/appendix/test_cases/#documentvalidationitjava","title":"DocumentValidationIT.java","text":"<p>Open file</p> <p>TestCaseID: Document-Validation-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title:Bdoc with two signatures and one unsigned document.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2s_1f_unsigned.bdoc</li> </ul> <p>TestCaseID: Document-Validation-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with two signatures and one document signed by only one signature.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2s_1partly_signed.bdoc</li> </ul> <p>TestCaseID: Document-Validation-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with two signatures and two documents signed by only one signature.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2s_2partly_signed.bdoc</li> </ul> <p>TestCaseID: Document-Validation-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with two signatures, one unsigned and two partly signed documents.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:4f_2s_all_combinations.bdoc</li> </ul> <p>TestCaseID: Document-Validation-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with three unsigned documents.</li> <li>Expected Result: The document should pass the validation and warnings should be displayed.</li> <li>File:6f_2s_3unsigned.bdoc</li> </ul> <p>TestCaseID: Document-Validation-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with deleted document, named in manifest.</li> <li>Expected Result: The document should fail the validation and warning should be displayed.</li> <li>File:2f_2signed_1f_deleted.bdoc</li> </ul> <p>TestCaseID: Document-Validation-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with deleted document, also removed from manifest.</li> <li>Expected Result: The document should fail the validation without warning.</li> <li>File:2f_2signed_1f_totally_removed.bdoc</li> </ul> <p>TestCaseID: Document-Validation-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with one unsigned document, named in manifest.</li> <li>Expected Result: The document should fail the validation and warnings should be displayed.</li> <li>File:3f_2signed_1unsigned_all_in_manifest.bdoc</li> </ul> <p>TestCaseID: Document-Validation-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with one unsigned document, NOT named in manifest.</li> <li>Expected Result: The document should fail the validation and warning should be displayed.</li> <li>File:3f_2signed_1unsigned_2in_manifest.bdoc</li> </ul> <p>TestCaseID: Document-Validation-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: Bdoc with signed documents.</li> <li>Expected Result: The document should pass the validation without warning.</li> <li>File:2f_all_signed.bdoc</li> </ul> <p>Attention! Following testclass is disabled: (\"SIVA-469\")</p>"},{"location":"siva3/appendix/test_cases/#euplugvalidationpassitjava","title":"EuPlugValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: EuPlug-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Lithuania adoc-v2.0 signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-LT_MIT-1.asice</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation multiple of Lithuania adoc-v2.0 signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-LT_MIT-2.asice</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Lithuania adoc-v2.0 signature with warning</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-LT_MIT-5.asice\"</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Latvian edoc-v2.0 signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-LV_EUSO-1.asice</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title:</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-LV_EUSO-2.asice</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Polish Asic-s with CAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-PL_KIR-1.asics</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Polish Asic-s with XAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-PL_KIR-2.asics</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Slovakia Asic-e with XAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-SK_DIT-3.asice</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title:</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-C-AT_SIT-1.p7m</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of German CAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-C-DE_SCI-1.p7m</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title:</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-C-ES_MIN-1.p7m</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title:</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-C-ES_MIN-2.p7m</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Italian Cades signatures</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-C-IT_BIT-5.p7m</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Poland CAdES B signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-C-PL_ADS-4.p7m</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Poland CAdES T signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-C-PL_ADS-7.p7m</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Belgium PAdES B signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-BE_CONN-1.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Belgian PAdES LTA signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-BE_CONN-7.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of German PAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-DE_SCI-2.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Italian PAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-IT_MID-1.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Lithuanian PAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-LT_MIT-1.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Lithuanian PAdES signature 2</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-LT_MIT-2.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Latvian PAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-LV_EUSO-1.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-24</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title:</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-LV_EUSO-2.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-25</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Polish PAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-PL_ADS-6.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-26</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Polish PAdES QES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-P-PL_ADS-8.pdf</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-27</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title:</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-LT_MIT-1.asice</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-28</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title:</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-A-LT_MIT-1.asice</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-29</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title: Validation of Belgian XAdES signature</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-X-BE_CONN-1.xml</li> </ul> <p>TestCaseID: EuPlug-ValidationPass-30</p> <ul> <li>TestType: Automated</li> <li>Requirement: </li> <li>Title:</li> <li>Expected Result: The document should pass the validation</li> <li>File: Signature-X-BE_CONN-21.xml</li> </ul>"},{"location":"siva3/appendix/test_cases/#largefileitjava","title":"LargeFileIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-LargeFiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB PDF files (PAdES Baseline LT).</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_PDF.pdf</li> </ul> <p>TestCaseID: Bdoc-LargeFiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB ASIC-E file</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_BDOC-TS.bdoc</li> </ul> <p>TestCaseID: Bdoc-LargeFiles-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB BDOC-TM</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_BDOC-TM.bdoc</li> </ul> <p>TestCaseID: Ddoc-LargeFiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: 9MB DDOC</li> <li>Expected Result: Validation report is returned</li> <li>File: 9MB_DDOC.ddoc</li> </ul> <p>TestCaseID: Bdoc-ZipBomb-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Bdoc Zip container with Bomb file</li> <li>Expected Result: The document should fail the validation</li> <li>File: zip-bomb-package-zip-1gb.bdoc</li> </ul> <p>TestCaseID: Asice-ZipBomb-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Asice Zip container with Bomb file</li> <li>Expected Result: The document should fail the validation</li> <li>File: zip-bomb-package-zip-1gb.bdoc</li> </ul> <p>TestCaseID: Asice-ZipBomb-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Asice Zip container with Matryoshka Bomb file</li> <li>Expected Result: Expected Result: Validation report is returned</li> <li>File: zip-bomb-packages.asice</li> </ul> <p>TestCaseID: Bdoc-ZipBomb-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Bdoc Zip container with Matryoshka Bomb file</li> <li>Expected Result: Expected Result: Validation report is returned</li> <li>File: zip-bomb-packages.asice</li> </ul> <p>TestCaseID: Asics-ZipBomb-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Asics Zip container with Bomb file</li> <li>Expected Result: The document should fail the validation</li> <li>File: zip-bomb-package-zip-1gb-asics.asics</li> </ul>"},{"location":"siva3/appendix/test_cases/#mimetypevalidationitjava","title":"MimetypeValidationIT.java","text":"<p>Open file</p> <p>TestCaseID: Asice-mimetype-validation-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: ASICe container with valid mimetype.</li> <li>Expected Result: Validation report is returned without mimetype validation warnings.</li> <li>File: AsiceContainerValidMimetype.asice</li> </ul> <p>TestCaseID: Asice-mimetype-validation-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICe container with mimetype as last in cointainer.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: AsiceContainerMimetypeAsLast.asice</li> </ul> <p>TestCaseID: Asice-mimetype-validation-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICe container with deflated mimetype.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"Container \"mimetype\" file must not be compressed\".</li> <li>File: AsiceContainerMimetypeIsDeflated.asice</li> </ul> <p>TestCaseID: Asice-mimetype-validation-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICe container without mimetype.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: AsiceContainerNoMimetype.asice</li> </ul> <p>TestCaseID: Asice-mimetype-validation-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICe container mimetype filename with capital letter (Mimetype).</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: AsiceContainerMimetypeWithCapitalLetter.asice</li> </ul> <p>TestCaseID: Asice-mimetype-validation-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICe container, where mimetype filename is with extra space in the end (\"mimetype \").</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: AsiceContainerMimetypeFilenameWithExtraSpace.asice</li> </ul> <p>TestCaseID: Asice-mimetype-validation-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICe container with extra byte in the beginning of the container.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: AsiceContainerMimetypeWithCapitalLetter.asice</li> </ul> <p>TestCaseID: Asice-mimetype-validation-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: ASICe container with invalid mimetype as \"text/plain\".</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"Container should have one of the expected mimetypes: \"application/vnd.etsi.asic-e+zip\", \"application/vnd.etsi.asic-s+zip\"\".</li> <li>File: AsiceInvalidMimetypeAsText.asice</li> </ul> <p>TestCaseID: Bdoc-mimetype-validation-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: BDOC container with valid mimetype.</li> <li>Expected Result: Validation report is returned without mimetype validation warnings.</li> <li>File: BdocContainerValidMimetype.bdoc</li> </ul> <p>TestCaseID: Bdoc-mimetype-validation-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid BDOC container with mimetype as last.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: BdocContainerMimetypeAsLast.bdoc</li> </ul> <p>TestCaseID: Bdoc-mimetype-validation-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid BDOC container with deflated mimetype.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"Container \"mimetype\" file must not be compressed\".</li> <li>File: BdocContainerMimetypeIsDeflated.bdoc</li> </ul> <p>TestCaseID: Bdoc-mimetype-validation-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid BDOC container without mimetype.</li> <li>Expected Result: HTTP 400 is returned with error message \"Document malformed or not matching documentType\".</li> <li>File: BdocContainerNoMimetype.bdoc</li> </ul> <p>TestCaseID: Bdoc-mimetype-validation-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid BDOC container, where mimetype filename is with extra space in the end (\"mimetype \").</li> <li>Expected Result: HTTP 400 is returned with error message \"Document malformed or not matching documentType\".</li> <li>File: BdocContainerMimetypeFilenameWithExtraSpace.bdoc</li> </ul> <p>TestCaseID: Bdoc-mimetype-validation-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: BDOC container with invalid mimetype as \"application/zip\".</li> <li>Expected Result: HTTP 400 is returned with error message \"Document malformed or not matching documentType\".</li> <li>File: BdocInvalidMimetypeAsZip.bdoc</li> </ul> <p>TestCaseID: Asics-mimetype-validation-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: ASICs container with valid mimetype and Tmp file inside.</li> <li>Expected Result: Validation report is returned without mimetype validation warnings.</li> <li>File: AsicsContainerValidMimetype.asics</li> </ul> <p>TestCaseID: Asics-mimetype-validation-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: ASICs container with valid mimetype and DDOC inside.</li> <li>Expected Result: Validation report is returned without mimetype validation warnings.</li> <li>File: Ddoc_as_AsicsContainerValidMimetype.asics</li> </ul> <p>TestCaseID: Asics-mimetype-validation-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICs container with mimetype as last and Tmp file inside.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: AsicsContainerMimetypeAsLast.asics</li> </ul> <p>TestCaseID: Asics-mimetype-validation-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICs container with mimetype as last and DDOC inside.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: Ddoc_as_AsicsContainerMimetypeAsLast.asics</li> </ul> <p>TestCaseID: Asics-mimetype-validation-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICs container with deflated mimetype and Tmp file inside.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"Container \"mimetype\" file must not be compressed\".</li> <li>File: AsicsContainerMimetypeIsDeflated.asics</li> </ul> <p>TestCaseID: Asics-mimetype-validation-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICs container with deflated mimetype and DDOC inside.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"Container \"mimetype\" file must not be compressed\".</li> <li>File: Ddoc_as_AsicsContainerMimetypeIsDeflated.asics</li> </ul> <p>TestCaseID: Asics-mimetype-validation-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICs container without mimetype and Tmp file inside.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: AsicsContainerNoMimetype.asics</li> </ul> <p>TestCaseID: Asics-mimetype-validation-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICs container without mimetype and DDOC inside.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: Ddoc_as_AsicsContainerNoMimetype.asics</li> </ul> <p>TestCaseID: Asics-mimetype-validation-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid ASICs container, where mimetype filename is with extra space in the end (\"mimetype \").</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: AsicsContainerMimetypeFilenameWithExtraSpace.asics</li> </ul> <p>TestCaseID: Asics-mimetype-validation-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: ASICs container with invalid mimetype as \"application/xml\".</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"Container should have one of the expected mimetypes: \"application/vnd.etsi.asic-e+zip\", \"application/vnd.etsi.asic-s+zip\"\".</li> <li>File: AsicsInvalidMimetypeAsXml.asics</li> </ul> <p>TestCaseID: Edoc-mimetype-validation-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Valid EDOC container with valid.</li> <li>Expected Result: Validation report is returned without mimetype validation warnings.</li> <li>File: EdocContainerValidMimetype.edoc</li> </ul> <p>TestCaseID: Edoc-mimetype-validation-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid EDOC container with mimetype as last in cointainer.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: EdocContainerValidMimetypeAsLast.edoc</li> </ul> <p>TestCaseID: Edoc-mimetype-validation-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Invalid EDOC container without mimetype.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"mimetype should be the first file in the container\".</li> <li>File: EdocContainerNoMimetype.edoc</li> </ul> <p>TestCaseID: Adoc-mimetype-validation-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/overview/#main-features-of-siva-validation-service</li> <li>Title: Valid ADOC container with mimetype.</li> <li>Expected Result: Validation report is returned with mimetype validation warning \"Container \"mimetype\" file must not contain \"Extra fields\" in its ZIP header\".</li> <li>File: AdocContainerMimetypeWithExtraFields.adoc</li> </ul>"},{"location":"siva3/appendix/test_cases/#monitoringitjava","title":"MonitoringIT.java","text":"<p>Open file</p> <p>TestCaseID: WebApp-Monitoring-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#service-health-monitoring</li> <li>Title: Health monitor response structure</li> <li>Expected Result: response matches the expected structure of JSON</li> <li>File: not relevant</li> </ul> <p>TestCaseID: WebApp-Monitoring-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#simplified-health-monitoring</li> <li>Title: Heartbeat monitor response structure</li> <li>Expected Result: response matches the expected structure of JSON</li> <li>File: not relevant</li> </ul> <p>TestCaseID: WebApp-Monitoring-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#version-information</li> <li>Title: Version monitor response structure</li> <li>Expected Result: response matches the expected structure of JSON</li> <li>File: not relevant</li> </ul>"},{"location":"siva3/appendix/test_cases/#pdfbaselineprofileitjava","title":"PdfBaselineProfileIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-BaselineProfile-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF has PAdES-B profile signature polv3</li> <li>Expected Result: Document validation should fail as the profile is not supported with any policy</li> <li>File: hellopades-pades-b-sha256-auth.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF has PAdES-T profile signature polv3</li> <li>Expected Result: Document validation should fail with any policy</li> <li>File: pades-baseline-t-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF has PAdES-LT profile signature polv3</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF has PAdES-LT profile signature polv4</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF has PAdES-LTA profile signature polv3</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF has PAdES-LTA profile signature polv4</li> <li>Expected Result: Document validation should pass with any policy</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF has PAdES-LT and B profile signature</li> <li>Expected Result: Document validation should fail</li> <li>File: hellopades-lt-b.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: PDF document message digest attribute value does not match calculate value</li> <li>Expected Result: Document validation should fail</li> <li>File: hellopades-lt1-lt2-wrongDigestValue.pdf</li> </ul> <p>TestCaseID: PDF-BaselineProfile-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: PDF file with a serial signature</li> <li>Expected Result: Document signed with multiple signers with serial signatures should pass</li> <li>File: hellopades-lt1-lt2-Serial.pdf</li> </ul>"},{"location":"siva3/appendix/test_cases/#pdfsignaturecryptographicalgorithmitjava","title":"PdfSignatureCryptographicAlgorithmIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-SigCryptoAlg-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: SHA512 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with SHA512 algorithm should pass</li> <li>File: hellopades-lt-sha512.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: SHA1 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with SHA1 algorithm should pass</li> <li>File: hellopades-lt-sha1.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: ECDSA224 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with ECDSA224 algorithm should fail</li> <li>File: hellopades-lt-sha256-ec224.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: ECDSA256 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with ECDSA256 algorithm should pass</li> <li>File: hellopades-lt-sha256-ec256.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: RSA1024 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA1024 algorithm should pass</li> <li>File: hellopades-lt-sha256-rsa1024.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: RSA1023 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA1023 algorithm should fail</li> <li>File: hellopades-lt-sha256-rsa1023.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: RSA2047 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA2047 algorithm should pass</li> <li>File: hellopades-lt-sha256-rsa2047.pdf</li> </ul> <p>TestCaseID: PDF-SigCryptoAlg-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: RSA2048 algorithms (PAdES Baseline LT)</li> <li>Expected Result: Document signed with RSA2048 algorithm should pass</li> <li>File: PdfValidSingleSignature</li> </ul>"},{"location":"siva3/appendix/test_cases/#pdfvalidationfailitjava","title":"PdfValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-ValidationFail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF-file has been signed with expired certificate (PAdES Baseline T)</li> <li>Expected Result: Document signed with certificate that is expired should fail.</li> <li>File: hellopades-lt-rsa1024-sha1-expired.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF-file has been signed with revoked certificate (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that is revoked should fail.</li> <li>File: pades_lt_revoked.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The PDF-file has been signed with certificate which has no non repudiation key usage attribute (PAdES Baseline LT)</li> <li>Expected Result: The PDF-file validation should fail with error.</li> <li>File: hellopades-pades-lt-sha256-auth.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: hellopadess been signed with an expired certificate, where signing time is within the original validity</li> <li>Expected Result: Document signed with expired certificate should fail</li> <li>File: hellopades-lt-sha256-rsa2048-expired.pdf</li> </ul> <p>**Attention! This test is disabled: Needs new test file</p> <p>TestCaseID: PDF-ValidationFail-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: hellopadess been signed with an expired certificate, where signing time is within the original validity</li> <li>Expected Result: Document signed with expired certificate should fail</li> <li>File: hellopades-lt-sha256-rsa1024-expired2.pdf</li> </ul> <p>**Attention! This test is disabled: Test file needed</p> <p>TestCaseID: PDF-ValidationFail-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: OCSP is taken more than 24h after TS</li> <li>Expected Result: Document signed with expired certificate should fail</li> <li>File: hellopades-lt-sha256-rsa1024-expired2.pdf</li> </ul> <p>TestCaseID: PDF-ValidationFail-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: The PDF-file has OCSP almost 24h before TS</li> <li>Expected Result: Validation should fail with an error of OCSP being taken before timestamp</li> <li>File: hellopades-lt-sha256-rsa2048-ocsp-before-ts.pdf</li> </ul>"},{"location":"siva3/appendix/test_cases/#pdfvalidationpassitjava","title":"PdfValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: PDF-ValidationPass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: The PDF-file has been signed with certificate that is expired after signing (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that expired after signing should pass.</li> <li>File: hellopades-lt-sha256-rsa1024-not-expired.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: The PDF-file has been signed with certificate that will expire in 7 days after signing (PAdES Baseline LT)</li> <li>Expected Result: Document signed with certificate that expired after signing should pass.</li> <li>File: hellopades-lt-sha256-rsa2048-7d.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Pdf with single valid signature</li> <li>Expected Result: Document should pass.</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: The PDF-file has OCSP more than 15 minutes after TS but earlier than 24h</li> <li>Expected Result: Warning should be returned but validation should pass</li> <li>File: hellopades-lt-sha256-ocsp-15min1s.pdf</li> </ul> <p>TestCaseID: PDF-ValidationPass-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#common_POLv3_POLv4</li> <li>Title: The CRL nextUpdate time is after timestamp time</li> <li>Expected Result: Validation should pass</li> <li>File: pades-lt-CRL-taken-days-later.pdf</li> </ul> <p>Attention! Following testclass is disabled: (\"SIVA-196\")</p>"},{"location":"siva3/appendix/test_cases/#reportsignatureitjava","title":"ReportSignatureIT.java","text":"<p>Open file</p> <p>TestCaseID: Detailed-Report-Signature-1</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Simple report signature should not be in response</li> <li>Expected Result: Simple report response should not contain signature</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signature-2</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Detailed report signature should be in response</li> <li>Expected Result: Detailed report response should contain signature</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signature-3</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature</li> <li>Expected Result: Signed report is successfully validated</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signature-4</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: In simple report reportSignatureEnabled parameter value true</li> <li>Expected Result: File hash in hex in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signature-5</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: In simple report reportSignatureEnabled parameter value false</li> <li>Expected Result: File hash in hex not in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: //This test should be ran manually after configuring the report signature feature</p>"},{"location":"siva3/appendix/test_cases/#signaturepolicyitjava","title":"SignaturePolicyIT.java","text":"<p>Open file</p> <p>TestCaseID: POLv4-Signature-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The PDF-file is Ades level</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File: soft-cert-signature.pdf</li> </ul> <p>**Attention! This test is disabled: New test file is needed</p> <p>TestCaseID: POLv4-Signature-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is Ades level</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv4-Signature-Policy-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is Ades signature</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv4-Signature-Policy-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is Ades signature</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv4-Signature-Policy-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is Ades seal</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv4-Signature-Policy-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is ades seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv4-Signature-Policy-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level signature, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, warning is returned about signature level</li> <li>File: testAdesQC.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level signature, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, warning is returned about signature level</li> <li>File: testAdesQC.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level seal, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File: IB-4828_tempel_not_qscd_TS.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level seal, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File: IB-4828_tempel_not_qscd_TM.bdoc</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level, but do not have SSCD/QSCD compliance and type identifier</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: file needed</p> <p>TestCaseID: POLv4-Signature-Policy-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level, but do not have SSCD/QSCD compliance and type identifier</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: file needed</p> <p>TestCaseID: POLv4-Signature-Policy-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: IB-4828_tempel_qscd_TM.bdoc</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is QES level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: IB-4828_tempel_qscd_TS.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is QES level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: EE_SER-AEX-B-LT-V-28.asice</li> </ul> <p>TestCaseID: POLv4-Signature-Policy-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: Signature level re-evaluation</li> <li>Expected Result: Signatures is valid according to policy, warning is returned about signature level re-evaluation.</li> <li>File: Needs new test file.</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-662\") // TODO: Test to be completed. Missing test file.</p> <p>TestCaseID: POLv3-Signature-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The PDF-file is Ades level</li> <li>Expected Result: Signatures are not valid according to policy</li> <li>File: soft-cert-signature.pdf</li> </ul> <p>**Attention! This test is disabled: New testfile is needed</p> <p>TestCaseID: POLv3-Signature-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The bdoc is Ades level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: allkiri_ades.asice</li> </ul> <p>**Attention! This test is disabled: New testfile is needed</p> <p>TestCaseID: POLv3-Signature-Policy-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The bdoc is ADES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: allkiri_ades.asice</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv3-Signature-Policy-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The asice is Ades level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv3-Signature-Policy-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The bdoc is Ades seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv3-Signature-Policy-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: The asice is Ades level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: test file needed</p> <p>TestCaseID: POLv3-Signature-Policy-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level signature, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, warning is returned about signature level</li> <li>File: testAdesQC.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level signature, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, warning is returned about signature level</li> <li>File: testAdesQC.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level seal, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File: IB-4828_tempel_not_qscd_TS.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level seal, but do not have SSCD/QSCD compliance</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File: IB-4828_tempel_not_qscd_TM.bdoc</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level, but do not have SSCD/QSCD compliance and type identifier</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: file needed</p> <p>TestCaseID: POLv3-Signature-Policy-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The certificate is QC level, but do not have SSCD/QSCD compliance and type identifier</li> <li>Expected Result: Signatures are valid according to policy, no warning about the signature level</li> <li>File:</li> </ul> <p>**Attention! This test is disabled: file needed</p> <p>TestCaseID: POLv3-Signature-Policy-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: Valid_ID_sig.bdoc</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level signature</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: IB-4828_tempel_qscd_TM.bdoc</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is QES level seal</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: IB-4828_tempel_qscd_TS.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The bdoc is QES level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The asice is QES level</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: EE_SER-AEX-B-LT-V-28.asice</li> </ul> <p>TestCaseID: POLv3-Signature-Policy-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3</li> <li>Title: Signature level not re-evaluated in POLv3</li> <li>Expected Result: Signatures is valid according to policy, no warning is returned about signature level re-evaluation.</li> <li>File: Needs new test file.</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-662\") // TODO: Test to be completed. Missing test file.</p> <p>TestCaseID: Revocation-Signature-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The PDF-file is missing an OCSP or CRL</li> <li>Expected Result: Signatures are invalid according to policy</li> <li>File: PadesProfileT.pdf</li> </ul> <p>TestCaseID: Revocation-Signature-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4</li> <li>Title: The PDF-file with included CRL</li> <li>Expected Result: Signatures are valid according to policy</li> <li>File: PadesProfileLtWithCrl.pdf</li> </ul>"},{"location":"siva3/appendix/test_cases/#xadeshashcodevalidationfailitjava","title":"XadesHashcodeValidationFailIT.java","text":"<p>Open file</p> <p>TestCaseID: Xades-Hashcode-Validation-Fail-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Data file hash algorithm do not match signature hash algorithm</li> <li>Expected Result: Validation fails</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Fail-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Hashes do not match</li> <li>Expected Result: Validation fails</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Fail-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Wrong data file name is used</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Fail-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Invalid signature in XAdES</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Fail-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Invalid signature in XAdES</li> <li>Expected Result: Error is given</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul>"},{"location":"siva3/appendix/test_cases/#xadeshashcodevalidationpassitjava","title":"XadesHashcodeValidationPassIT.java","text":"<p>Open file</p> <p>TestCaseID: Xades-Hashcode-Validation-Pass-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: XAdES extracted from ASICE</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Pass-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: XAdES extracted from BDOC</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_XAdES_LT_TM.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Pass-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: XAdES extracted from BDOC</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_XADES_LT_TS_multiple_datafiles.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Pass-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile has + in name</li> <li>Expected Result: The document should pass the validation</li> <li>File: test+document.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Pass-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile has space in name</li> <li>Expected Result: The document should pass the validation</li> <li>File: spacesInDatafile.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Algorithms-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile digest in SHA1</li> <li>Expected Result: The document should pass the validation</li> <li>File: sha224_TS.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Algorithms-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile digest in SHA224</li> <li>Expected Result: The document should pass the validation</li> <li>File: sha224_TS.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Algorithms-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile digest in SHA256</li> <li>Expected Result: The document should pass the validation</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Algorithms-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile digest in SHA384</li> <li>Expected Result: The document should pass the validation</li> <li>File: sha384_TS.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Algorithms-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile digest in SHA512</li> <li>Expected Result: The document should pass the validation</li> <li>File: sha512_TS.xml</li> </ul>"},{"location":"siva3/appendix/test_cases/#detailedreportvalidationmanualitjava","title":"DetailedReportValidationManualIT.java","text":"<p>Open file</p> <p>TestCaseID: Detailed-Report-Validation-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: ValidationConclusion element</li> <li>Expected Result: Detailed report includes validationConclusion element</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: Detailed-Report-Validation-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: TL analysis element</li> <li>Expected Result: Detailed report includes tlanalysis element and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>**Attention! This test is disabled: New test LOTL is needed with correct data</p> <p>TestCaseID: Detailed-Report-Validation-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Signatures element</li> <li>Expected Result: Detailed report includes signatures element and its sub-elements and its values</li> <li>File: hellopades-lt-sha256-ec256.pdf</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-499\")</p> <p>TestCaseID: Detailed-Report-Validation-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: basicBuildingBlocks element</li> <li>Expected Result: Detailed report includes basicBuildingBlocks element and its sub-elements and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Validation-5</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: BasicBuildingBlocks element</li> <li>Expected Result: Detailed report includes basicBuildingBlocks element and its sub-elements and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Validation-6</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: BasicBuildingBlocks element</li> <li>Expected Result: Detailed report includes basicBuildingBlocks element and its sub-elements and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Validation-7</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Wrong signature value</li> <li>Expected Result: Detailed report includes wrong signature value</li> <li>File: TS-02_23634_TS_wrong_SignatureValue.asice</li> </ul> <p>TestCaseID: Detailed-Report-Validation-8</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Wrong data file in manifest</li> <li>Expected Result:</li> <li>File: WrongDataFileInManifestAsics.asics</li> </ul> <p>TestCaseID: Detailed-Report-Validation-9</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report file hash if ReportSignatureEnabled value true</li> <li>Expected Result: fileHash calculated</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-196\")</p> <p>TestCaseID: Detailed-Report-Validation-10</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report file hash if ReportSignatureEnabled value false</li> <li>Expected Result: fileHash no calculated</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled: Needs possibility to configure report signing in tests</p> <p>TestCaseID: Detailed-Report-Validation-11</p> <ul> <li>TestType: Automatic</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Warning \"The trusted certificate does not match the trust service!\" in Detailed Report</li> <li>Expected Result: Warning \"The trusted certificate does not match the trust service!\" is not filtered out and is present in Detailed Report</li> <li>File: validTsSignatureWithRolesAndProductionPlace.asice</li> </ul> <p>TestCaseID: Detailed-Report-Validation-12</p> <ul> <li>TestType: Automatic</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Error \"The certificate is not related to a granted status at time-stamp lowest POE time!\" in Detailed Report</li> <li>Expected Result: Error \"The certificate is not related to a granted status at time-stamp lowest POE time!\" is displayed in Detailed Report and signature is TOTAL-PASSED</li> <li>File: IB-4183_3.4kaart_RSA2047_TS.asice</li> </ul>"},{"location":"siva3/appendix/test_cases/#diagnosticreportvalidationmanualitjava","title":"DiagnosticReportValidationManualIT.java","text":"<p>Open file</p> <p>TestCaseID: Diagnostic-Report-Validation-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: ValidationConclusion element</li> <li>Expected Result: Diagnostic report includes validationConclusion element</li> <li>File: ValidLiveSignature.asice</li> </ul> <p>TestCaseID: Diagnostic-Report-Validation-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Signatures element</li> <li>Expected Result: Diagnostic report includes tlanalysis element and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-499\")</p> <p>TestCaseID: Diagnostic-Report-Validation-5</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Used Certificates</li> <li>Expected Result: Diagnostic report includes used certificates element and its values</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-499\")</p> <p>TestCaseID: Diagnostic-Report-Validation-6</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Wrong signature value</li> <li>Expected Result: Diagnostic report includes wrong signature value</li> <li>File: TS-02_23634_TS_wrong_SignatureValue.asice</li> </ul> <p>Attention! Following testclass is disabled: (\"SIVA-196\")</p>"},{"location":"siva3/appendix/test_cases/#reportsignaturemanualltjava","title":"ReportSignatureManuallT.java","text":"<p>Open file</p> <p>TestCaseID: Detailed-Report-Signatures-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_LTA signed with RSA key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p> <p>TestCaseID: Detailed-Report-Signatures-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_LT signed with RSA key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p> <p>TestCaseID: Detailed-Report-Signatures-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_T signed with RSA key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p> <p>TestCaseID: Detailed-Report-Signatures-5</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_B signed with RSA key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p> <p>TestCaseID: Detailed-Report-Signatures-6</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_LTA and signed with ECC key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p> <p>TestCaseID: Detailed-Report-Signatures-7</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_LT and signed with ECC key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p> <p>TestCaseID: Detailed-Report-Signatures-8</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_T and signed with ECC key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p> <p>TestCaseID: Detailed-Report-Signatures-9</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when SignatureLevel XAdES_BASELINE_B and signed with ECC key.</li> <li>Expected Result: validationReportSignature exists in report</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p> <p>TestCaseID: Detailed-Report-Signatures-10</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when configuration parameter OcspUrl empty</li> <li>Expected Result: No signature</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signatures-11</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when configuration parameter TspUrl empty</li> <li>Expected Result: No signature</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signatures-12</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when configuration parameter Pkcs11 wrong value</li> <li>Expected Result: Error message</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p> <p>TestCaseID: Detailed-Report-Signatures-13</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when configuration parameter SignatureLevel empty</li> <li>Expected Result: No Signature</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>TestCaseID: Detailed-Report-Signatures-14</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Validate detailed report signature when using pks11 to sign</li> <li>Expected Result: Signature exists</li> <li>File: hellopades-lt-sha256-rsa2048.pdf</li> </ul> <p>**Attention! This test is disabled:</p>"},{"location":"siva3/appendix/test_cases/#statisticstologsmanualitjava","title":"StatisticsToLogsManualIT.java","text":"<p>Note</p> <p>All tests in this class expect manual verification of responses in log! The tests are made to prepare test data and ease the test execution.</p> <p>TestCaseID: Bdoc-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Bdoc valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Bdoc-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Bdoc invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>TestCaseID: Bdoc-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Bdoc not supported file is inserted</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: xroad-simple.asice</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-352 - remark 8\")</p> <p>TestCaseID: Bdoc-Statistics-Log-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Bdoc with certificates from different countries.</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Baltic MoU digital signing_EST_LT_LV.bdoc</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Ddoc valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Ddoc invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: ilma_kehtivuskinnituseta.ddoc</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Ddoc not supported file is inserted</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: Ddoc-Statistics-Log-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Ddoc with certificates from different countries.</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Belgia_kandeavaldus_LIV.ddoc</li> </ul> <p>TestCaseID: Pdf-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Pdf valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-Statistics-Log-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Pdf invalid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: hellopades-lt1-lt2-wrongDigestValue.pdf</li> </ul> <p>TestCaseID: Pdf-Statistics-Log-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: Pdf with certificates from non Estonian countries.</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: Regulatione-signedbyco-legislators.pdf</li> </ul> <p>TestCaseID: Asics-Statistics-Log-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: ASiCs valid container is validated</li> <li>Expected Result: Correct data is shown in the log with correct structure</li> <li>File: ValidBDOCinsideAsics.asics</li> </ul> <p>TestCaseID: Asics-Statistics-Log-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#statistics</li> <li>Title: asics invalid container is validated</li> <li>Expected Result: No message in statistics as the container is not validated</li> <li>File: TwoDataFilesAsics.asics</li> </ul>"},{"location":"siva3/appendix/test_cases/#asicevalidationreportvalueverificationitjava","title":"AsiceValidationReportValueVerificationIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface#validation-request-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT_TM, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: TwoValidTmSignaturesWithRolesAndProductionPlace.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: validTsSignatureWithRolesAndProductionPlace.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT-TM, AdESqc</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: testAdesQCInvalid.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Bdoc valid multiple signatures)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: Baltic MoU digital signing_EST_LT_LV.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Bdoc indeterminate status)</li> <li>Expected Result: All required elements are present according to BdocDocSimpleReportSchema.json</li> <li>File: SS-4_teadmataCA.4.asice</li> </ul> <p>**Attention! This test is disabled: needs investigation why the signature is determined as XAdES_BASELINE_T not as XAdES_BASELINE_LT_TM</p> <p>TestCaseID: Bdoc-ValidationReportVerification-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title:  Bdoc report with no signatures</li> <li>Expected Result: Report is returned with required elements</li> <li>File:BdocContainerNoSignature.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Bdoc with LT_TM, LT &amp; LTA signature - timeAssertionMessageImprints in mixed container are reported correctly</li> <li>Expected Result: timeAssertionMessageImprint values are present and meet the expected values.</li> <li>File: 3_signatures_TM_LT_LTA.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Asice with LT_TM, LT &amp; LTA signature - timeAssertionMessageImprints in mixed container are reported correctly</li> <li>Expected Result: timeAssertionMessageImprint values are present and meet the expected values.</li> <li>File: 3_signatures_TM_LT_LTA.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Bdoc with B &amp; LT_TM mixed signatures - ocspResponseCreationTimes in mixed container are reported correctly</li> <li>Expected Result: ocspResponseCreationTime values are present and meet the expected values.</li> <li>File: 3_signatures_TM_LT_LTA.asice</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-365\")</p> <p>TestCaseID: Bdoc-ValidationReportVerification-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Bdoc with LT_TM, LT &amp; LTA signature, LT &amp; LTA with same certificate - ocspResponseCreationTimes in mixed container are reported correctly</li> <li>Expected Result: ocspResponseCreationTime values are present and meet the expected values.</li> <li>File: 3_signatures_TM_LT_LTA.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Asice with LT &amp; T mixed signatures - ocspResponseCreationTimes in mixed container are reported correctly</li> <li>Expected Result: ocspResponseCreationTime values are present and meet the expected values.</li> <li>File: 2_signatures_T_LT.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Bdoc with LT-TM &amp; B mixed signatures - ocspResponseCreationTimes in mixed container are reported correctly</li> <li>Expected Result: ocspResponseCreationTime values are present and meet the expected values.</li> <li>File: 2_signatures_B_TM.bdoc</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-15</p> <ul> <li>TestType: Automated</li> <li>Title: Filtering out warning \"The trusted certificate does not match the trust service!\" in Simple Report</li> <li>Expected Result: Warning \"The trusted certificate does not match the trust service!\" is not displayed in Simple Report</li> <li>File: validTsSignatureWithRolesAndProductionPlace.asice</li> </ul> <p>TestCaseID: Bdoc-ValidationReportVerification-16</p> <ul> <li>TestType: Automated</li> <li>Title: Filtering out warning \"The certificate is not related to a granted status at time-stamp lowest POE time!\" in Simple Report</li> <li>Expected Result: Error \"The certificate is not related to a granted status at time-stamp lowest POE time!\" is not displayed in Simple Report</li> <li>File: IB-4183_3.4kaart_RSA2047_TS.asice</li> </ul>"},{"location":"siva3/appendix/test_cases/#ddocvalidationreportvalueverificationitjava","title":"DdocValidationReportValueVerificationIT.java","text":"<p>Open file</p> <p>TestCaseID: Ddoc-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (ddoc valid single signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (ddoc invalid signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: multipleInvalidSignatures.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Check for optional warning element</li> <li>Expected Result: Warning element is present</li> <li>File: 18912.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title:  Ddoc report with no signatures</li> <li>Expected Result: Report is returned with required elements</li> <li>File: DdocContainerNoSignature.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.0, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.1, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.2, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.2.ddoc</li> </ul> <p>TestCaseID: Ddoc-ValidationReportVerification-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.3, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.3.ddoc</li> </ul>"},{"location":"siva3/appendix/test_cases/#getdatafilerequestitjava","title":"GetDataFileRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Get-Data-Files-Request-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Input empty values</li> <li>Expected Result: Errors are returned stating the missing values</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Get-Data-Files-Request-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Totally empty request body is sent</li> <li>Expected Result: Errors are given</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Get-Data-Files-Request-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Order of elements is changed in request</li> <li>Expected Result: Order of  elements is ignored, no error messages in response</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Additional elements are added</li> <li>Expected Result: Added elements ignored, no error messages and  additional elements in response</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Mandatory element 'documentType' is duplicated, duplicated element with bdoc value</li> <li>Expected Result: Error message is returned</li> <li>File: test_fail.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Mandatory element 'document' is deleted</li> <li>Expected Result: Errors returned stating the missing element</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Low case for document type is used</li> <li>Expected Result: Data file is returned, no error messages</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to BDOC, actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to PDF, actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to unsupported format (JPG), actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to XROAD format, actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to DDOC format, actual is BDOC</li> <li>Expected Result: Error is returned</li> <li>File: BDOC-TS.bdoc</li> </ul> <p>TestCaseID: Get-Data-Files-Request-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Document Type is changed in request to DDOC format, actual is PDF</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Get-Data-Files-Request-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: For Unsupported format Document Type is changed in request to DDOC format, actual is PNG</li> <li>Expected Result: Error is returned</li> <li>File: Picture.png</li> </ul> <p>TestCaseID: Request-Size-Limit-Pass-GetDataFiles</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#configuration-parameters</li> <li>Title: Datafiles request with request body of limit length</li> <li>Expected Result: The data file is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul>"},{"location":"siva3/appendix/test_cases/#hashcodevalidationrequestitjava","title":"HashcodeValidationRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Hascode-Validation-Request-Report-Type-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input correct values for simple report</li> <li>Expected Result: Simple report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Report-Type-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input correct values for detailed report</li> <li>Expected Result: Simple report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Report-Type-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Report type missing</li> <li>Expected Result: Default is used</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Report-Type-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Report type case sensitivity</li> <li>Expected Result: Report type is case insensitive</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Report-Type-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Report type is invalid</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Report-Type-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input correct values for detailed report</li> <li>Expected Result: Simple report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature policy POLv3</li> <li>Expected Result: Correct policy is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature policy POLv4</li> <li>Expected Result: Correct policy is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Policy-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature policy missing</li> <li>Expected Result: Default is used</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Policy-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature policy is invalid</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Policy-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Incorrect signature policy format</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Policy-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature policy is empty</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Policy-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature policy too long</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Policy-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Double signature policy</li> <li>Expected Result: Last value is used</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Signature-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input missing signature files</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Signature-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input missing signature file</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Signature-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input incorrect signature</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Signature-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input file without signature</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Signature-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Not correct file type</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data files not in request</li> <li>Expected Result: Simple report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Empty data files list</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data file filename missing</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data file filename empty</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data file filename too long</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data file invalid hash algorithm</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data file hash algorithm case sensitivity</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data file hash missing</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data file hash empty</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data file hash wrong format</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Hash too long</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Policy-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Double fields in datafile object</li> <li>Expected Result: Last value is used</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Datafiles-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Excess data files are ignored</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Signatures-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Several signatures validated</li> <li>Expected Result: Validation report is returned</li> <li>File: multiple files</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Signatures-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Several signatures validated with datafile info</li> <li>Expected Result: Validation report is returned</li> <li>File: multiple files</li> </ul> <p>TestCaseID: Hascode-Validation-Request-Signatures-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Several signatures validated one signature not valid</li> <li>Expected Result: Validation report is returned</li> <li>File: multiple files</li> </ul> <p>TestCaseID: Request-Size-Limit-Pass-ValidateHashcode</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#configuration-parameters</li> <li>Title: Hashcode validation request with request body of limit length</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Signature-Level-Re-Evaluation</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature level re-evaluation</li> <li>Expected Result: Signatures is valid according to policy, warning is returned about signature level re-evaluation.</li> <li>File: Needs new test file. For manual testing a file from SIVA-605 can be used.</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-662\") // TODO: Missing test file. For manual testing a file from SIVA-605 can be used.</p> <p>TestCaseID: Signature-Level-Re-Evaluation-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature level not re-evaluated in POLv3</li> <li>Expected Result: Signatures is valid according to policy, no warning is returned about signature level re-evaluation.</li> <li>File: Needs new test file. For manual testing a file from SIVA-605 can be used.</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-662\") // TODO: Missing test file. For manual testing a file from SIVA-605 can be used.</p>"},{"location":"siva3/appendix/test_cases/#pdfvalidationreportvalueverificationitjava","title":"PdfValidationReportValueVerificationIT.java","text":"<p>Open file</p> <p>TestCaseID: Pdf-ValidationReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf valid single signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: reason_and_location_Test.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf valid Multiple signatures)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf invalid signature)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: hellopades-lt-b.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: JSON structure has all elements (Pdf indeterminate status)</li> <li>Expected Result: All required elements are present according to SimpleReportSchema.json</li> <li>File: hellopades-lt-rsa1024-sha1-expired.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title:  Pdf report with no signatures</li> <li>Expected Result: Report is returned with required elements</li> <li>File: PdfNoSignature.pdf</li> </ul> <p>TestCaseID: Pdf-ValidationReportVerification-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title:  PDF with PAdES-LT and B signatures with same signer certificate - ocspResponseCreationTimes in mixed container are reported correctly</li> <li>Expected Result: ocspResponseCreationTime for LT is present and for B profile is not.</li> <li>File: hellopades-lt-b.pdf</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-365\")</p> <p>TestCaseID: Pdf-ValidationReportVerification-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title:  PDF with PAdES-T and B profile signatures with different signer certificates - ocspResponseCreationTimes in mixed container are reported correctly</li> <li>Expected Result: ocspResponseCreationTime for T profile is present and for B profile is not</li> <li>File: hellopades-lt-b.pdf</li> </ul>"},{"location":"siva3/appendix/test_cases/#validationrequestitjava","title":"ValidationRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: ValidationRequest-Parameters-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Happy path valid mandatory inputs</li> <li>Expected Result: Validation report is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Totally empty request body is sent</li> <li>Expected Result: Error is given</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input empty values</li> <li>Expected Result: Errors are returned stating the missing values</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with more parameters than expected is sent</li> <li>Expected Result: Error is given or extra parameters are ignored?</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request has invalid keys (capital letters)</li> <li>Expected Result: Error is returned stating wrong values</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Document parameter is missing</li> <li>Expected Result: Errors are returned stating missing Document values</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Filename parameter is missing</li> <li>Expected Result: Errors are returned stating the missing values</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Happy path valid file encoding format</li> <li>Expected Result: Validation report is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Happy path valid file encoding format</li> <li>Expected Result: Validation report is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with not base64 string as document</li> <li>Expected Result: Error is returned stating encoding problem</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Filename field should be case insensitive</li> <li>Expected Result: Validation report is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Filename field should ignore spaces</li> <li>Expected Result: Validation report is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Filename is in allowed length</li> <li>Expected Result: Report is returned with the same filename</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Filename is over allowed length</li> <li>Expected Result: Error is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: DocumentType parameter is missing</li> <li>Expected Result: Document type is selected automatically and validation report is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy parameter is missing, default is used</li> <li>Expected Result: Validation report is returned with POLv4</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is set as POLv3</li> <li>Expected Result: Validation report is returned with POLv3</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-22</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is set as POLv4</li> <li>Expected Result: Validation report is returned with POLv4</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-23</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy has not allowed value</li> <li>Expected Result: error is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-24</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: ReportType parameter is missing</li> <li>Expected Result: Simple report is returned as default</li> <li>File: singleValidSignatureTS.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-25</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: ReportType parameter Simple</li> <li>Expected Result: Simple report is returned</li> <li>File: singleValidSignatureTS.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-26</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: ReportType parameter Detailed</li> <li>Expected Result: Detailed report is returned</li> <li>File: singleValidSignatureTS.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-27</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: ReportType parameter is invalid</li> <li>Expected Result: Error is returned</li> <li>File: singleValidSignatureTS.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-28</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Filename is under allowed length</li> <li>Expected Result: Error is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-29</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is under allowed length</li> <li>Expected Result: Error is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-30</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is too long</li> <li>Expected Result: Error is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-31</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: ReportType parameter Diagnostic</li> <li>Expected Result: Diagnostic report is returned</li> <li>File: singleValidSignatureTS.asice</li> </ul> <p>TestCaseID: ValidationRequest-Parameters-32</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: DocumentType parameter is not allowed</li> <li>Expected Result: Error is returned</li> <li>File: xroad-simple.asice</li> </ul> <p>TestCaseID: ValidationRequest-Validator-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Mismatch in stated and actual document (bdoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: ValidationRequest-Validator-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as bdoc</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: ValidationRequest-Validator-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Acceptance of ASICE as BDOC document type</li> <li>Expected Result: Asice files are handled the same as bdoc</li> <li>File: singleValidSignatureTS.asice</li> </ul> <p>TestCaseID: ValidationRequest-Validator-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as pdf</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Validator-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Mismatch in stated and actual document (ddoc and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: singleValidSignatureTM.bdoc</li> </ul> <p>TestCaseID: ValidationRequest-Validator-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as ddoc</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Request-Size-Limit-Pass-Validate</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#configuration-parameters</li> <li>Title: Validation request with request body of limit length</li> <li>Expected Result: Validation report is returned</li> <li>File: singleValidSignatureTS.asice</li> </ul> <p>TestCaseID: Request-Size-Limit-Fail-Validate</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/deployment_guide/#configuration-parameters</li> <li>Title: Validation request with request body length over limit</li> <li>Expected Result: The document should fail the validation</li> <li>File: singleValidSignatureTS.asice</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-641\")</p>"},{"location":"siva3/appendix/test_cases/#reportsignatureitjava_1","title":"ReportSignatureIT.java","text":"<p>Open file</p> <p>TestCaseID: Soap-Detailed-Report-Signature-1</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Simple report signature should not be in response</li> <li>Expected Result: Simple report response should not contain signature</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>TestCaseID: Soap-Detailed-Report-Signature-2</p> <ul> <li>TestType: Auto</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Detailed report signature should be in response</li> <li>Expected Result: Detailed report response should contain signature</li> <li>File: hellopades-pades-lt-sha256-sign.pdf</li> </ul> <p>**Attention! This test is disabled: (\"SIVA-196\")</p>"},{"location":"siva3/appendix/test_cases/#soapgetdatafilereportitjava","title":"SoapGetDataFileReportIT.java","text":"<p>Open file</p> <p>TestCaseID: SoapGetDataFile-Report-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report, checks for  File name, Base64, Mimetype and Size</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: SoapGetDataFile-Report-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report xml v1.1, checks for  File name, Base64, Mimetype and Size</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: DIGIDOC-XML1.1.ddoc</li> </ul> <p>TestCaseID: SoapGetDataFile-Report-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report xml v1.2, checks for  File name, Base64, Mimetype and Size</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: DIGIDOC-XML1.2.ddoc</li> </ul> <p>TestCaseID: SoapGetDataFile-Report-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-response-interface</li> <li>Title: Verification of values in Validation Report for container with a number of files, checks for  File name, Base64, Mimetype and Size for each file</li> <li>Expected Result: All required elements are present and meet the expected values</li> <li>File: igasugust1.3.ddoc</li> </ul>"},{"location":"siva3/appendix/test_cases/#soapgetdatafilerequestitjava","title":"SoapGetDataFileRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Input empty values</li> <li>Expected Result: Error is returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Input empty body</li> <li>Expected Result: Error is returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Element DocumentType is removed from the body</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Element Document is removed from the body</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Element DocumentType is duplicated in the body with different value</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Additional element Filename is added to  the body</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Value for element Document was changed</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to BDOC when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to PDF when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to XROAD when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to unsupported format JPG when actual is DDOC</li> <li>Expected Result: Error is returned</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to DDOC when actual is PDF</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-Validation-Request-For-Data-Files-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title:  DocumentType was changed to DDOC when actual is BDOC</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul>"},{"location":"siva3/appendix/test_cases/#soaphashcodevalidationrequestitjava","title":"SoapHashcodeValidationRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Soap-Hashcode-Validation-Report-Type-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Valid request</li> <li>Expected Result: Simple report is returned with valid signatures</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Report-Type-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Valid request with detailed report</li> <li>Expected Result: Simple report is returned with valid signatures</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Report-Type-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Report type missing</li> <li>Expected Result: Default is used</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Report-Type-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Report type case sensitivity</li> <li>Expected Result: Report type is case insensitive</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Report-Type-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Report type is invalid</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Report-Type-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Valid request with report Diagnostic</li> <li>Expected Result: Simple report is returned with valid signatures</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Policy-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature policy POLv3</li> <li>Expected Result: Correct policy is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Policy-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature policy POLv4</li> <li>Expected Result: Correct policy is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Policy-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Default policy</li> <li>Expected Result: POLv4 is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Policy-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Invalid policy asked</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Policy-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Invalid policy format</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-Validation-Policy-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Too long policy</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Signature-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature file missing</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Signature-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature file empty</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Signature-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature file not Base64</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Signature-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature file without signature</li> <li>Expected Result: Report without signature is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Signature-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Signature file not XML</li> <li>Expected Result: Report without signature is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request without datafiles</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with empty data files</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request without datafile filename</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with empty filename</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request without datafile filename</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with too long datafile name</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with invalid hash algorithm</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Hash algo small case</li> <li>Expected Result: Report is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Hash algo mismatch</li> <li>Expected Result: Report with invalid signature</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Datafile hash missing</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Data file hash empty</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-Datafile-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Datafile hash not Base64</li> <li>Expected Result: Error is returned</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Multiple data files</li> <li>Expected Result: Report is returned with signature statuses</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Wrong hash</li> <li>Expected Result: Report is returned with invalid signature</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Wrong data file name</li> <li>Expected Result: Report is returned with signature statuses</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Soap-Hashcode-ValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Empty request body</li> <li>Expected Result: Report is returned with signature statuses</li> <li>File: Valid_XAdES_LT_TS.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Special-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile has + in name</li> <li>Expected Result: The document should pass the validation</li> <li>File: test+document.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Special-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile has space in name</li> <li>Expected Result: The document should pass the validation</li> <li>File: spacesInDatafile.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Special-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile has + in name with full API request</li> <li>Expected Result: The document should pass the validation</li> <li>File: test+document.xml</li> </ul> <p>TestCaseID: Xades-Hashcode-Validation-Special-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4</li> <li>Title: Datafile has space in name with full API request</li> <li>Expected Result: The document should pass the validation</li> <li>File: spacesInDatafile.xml</li> </ul>"},{"location":"siva3/appendix/test_cases/#soapvalidationreportvalueitjava","title":"SoapValidationReportValueIT.java","text":"<p>Open file</p> <p>TestCaseID: Bdoc-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT_TM, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: TwoValidTmSignaturesWithRolesAndProductionPlace.bdoc</li> </ul> <p>TestCaseID: Bdoc-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: validTsSignatureWithRolesAndProductionPlace.asice</li> </ul> <p>TestCaseID: Bdoc-SoapValidationReportValue-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT, AdES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: 23154_test1-old-sig-sigat-NOK-prodat-OK-1.bdoc</li> </ul> <p>**Attention! This test is disabled: New testfile needed</p> <p>TestCaseID: Bdoc-SoapValidationReportValue-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LT_TM, AdESqc, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: testAdesQC.bdoc</li> </ul> <p>**Attention! This test is disabled: Testfile needed</p> <p>TestCaseID: Bdoc-SoapValidationReportValue-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report XAdES_BASELINE_LTA, QES, FullSignatureScope</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: EE_SER-AEX-B-LTA-V-24.bdoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.0, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.1, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.1.ddoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.2, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.2.ddoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, xml v1.3, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: Igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Ddoc-SoapValidationReportValue-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Check for optional warning element</li> <li>Expected Result: Warning element is present</li> <li>File: SK-XML1.0.ddoc</li> </ul> <p>TestCaseID: Pdf-SoapValidationReportValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, PAdES_baseline_LT, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: pades_lt_two_valid_sig.pdf</li> </ul> <p>TestCaseID: Pdf-SoapValidationReportValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, PAdES_baseline_B, checks for missing info</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: hellopades-pades-b-sha256-auth.pdf</li> </ul> <p>TestCaseID: Pdf-SoapValidationReportValue-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of values in Validation Report, PAdES_baseline_LTA</li> <li>Expected Result: All required elements are present and meet the expected values and other values are empty as expected.</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: Asice-SoapRoleAndProductionPlaceValue-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of filled SignerRole and SignatureProductionPlace values.</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: role_productionPlace.asice</li> </ul> <p>TestCaseID: Asice-SoapRoleAndProductionPlaceValue-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of filled SignerRole and SignatureProductionPlace special character values.</li> <li>Expected Result: All required elements are present and meet the expected values.</li> <li>File: role_productionPlace.asice</li> </ul> <p>TestCaseID: Asice-SoapRoleAndProductionPlaceValue-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of filled SignerRole and SignatureProductionPlace values in XML and JSON syntax.</li> <li>Expected Result: All required elements are present and meet the expected values. Structure is not malformed.</li> <li>File: role_productionPlace.asice</li> </ul> <p>TestCaseID: Asice-SoapRoleAndProductionPlaceValue-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of empty SignerRole and SignatureProductionPlace elements.</li> <li>Expected Result: Structure does not contain SignerRole and SignatureProductionPlace elements.</li> <li>File: role_productionPlace.asice</li> </ul> <p>TestCaseID: Asice-SoapRoleAndProductionPlaceValue-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of filled SignerRole and empty SignatureProductionPlace elements.</li> <li>Expected Result: SignerRole element is present and meets the expected value. Structure does not contain SignatureProductionPlace elements.</li> <li>File: role_productionPlace.asice</li> </ul> <p>TestCaseID: Asice-SoapRoleAndProductionPlaceValue-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of empty SignerRole and partially filled SignatureProductionPlace element.</li> <li>Expected Result: SignatureProductionPlace.City element is present and meets the expected value. Structure does not contain SignerRole element.</li> <li>File: role_productionPlace.asice</li> </ul> <p>TestCaseID: Asice-SoapRoleAndProductionPlaceValue-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of short data type maximum range value for SignerRole and SignatureProductionPlace.</li> <li>Expected Result: All required elements are present and corresponding values meet the short data type maximum range of 32767 characters.</li> <li>File: role_productionPlace.asice</li> </ul> <p>TestCaseID: Asice-SoapRoleAndProductionPlaceValue-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title:  Verification of int data type value longer than short data type maximum value for SignatureProductionPlace.</li> <li>Expected Result: Element is present and meets expected value of 32768 characters.</li> <li>File: role_productionPlace.asice</li> </ul> <p>TestCaseID: Asice-SoapRoleAndProductionPlaceValue-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-response-interface</li> <li>Title: Verification of 3 concurrent claimed roles.</li> <li>Expected Result: All claimed roles are present and meet the expected values.</li> <li>File: role_productionPlace.asice</li> </ul>"},{"location":"siva3/appendix/test_cases/#soapvalidationreportverificationitjava","title":"SoapValidationReportVerificationIT.java","text":"<p>Open file</p> <p>TestCaseID: Soap-ValidationSimpleReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Title: Filtering out warning \"The trusted certificate does not match the trust service!\" in Simple Report</li> <li>Expected Result: Warning \"The trusted certificate does not match the trust service!\" is not displayed in Simple Report</li> <li>File: validTsSignatureWithRolesAndProductionPlace.asice</li> </ul> <p>TestCaseID: Soap-ValidationSimpleReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Title: Filtering out warning \"The certificate is not related to a granted status at time-stamp lowest POE time!\" in Simple Report</li> <li>Expected Result: Error \"The certificate is not related to a granted status at time-stamp lowest POE time!\" is not present in Simple Report</li> <li>File: IB-4183_3.4kaart_RSA2047_TS.asice</li> </ul> <p>TestCaseID: Soap-ValidationDetailedReportVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Warning \"The trusted certificate does not match the trust service!\" in Detailed Report</li> <li>Expected Result: Warning \"The trusted certificate does not match the trust service!\" is not filtered out and is present in Detailed Report</li> <li>File: validTsSignatureWithRolesAndProductionPlace.asice</li> </ul> <p>TestCaseID: Soap-ValidationDetailedReportVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Error \"The certificate is not related to a granted status at time-stamp lowest POE time!\" in Detailed Report</li> <li>Expected Result: Error \"The certificate is not related to a granted status at time-stamp lowest POE time!\" is displayed in Detailed Report and signature is TOTAL-PASSED</li> <li>File: IB-4183_3.4kaart_RSA2047_TS.asice</li> </ul>"},{"location":"siva3/appendix/test_cases/#soapvalidationrequestitjava","title":"SoapValidationRequestIT.java","text":"<p>Open file</p> <p>TestCaseID: Soap-ValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Empty request body</li> <li>Expected Result: Error is returned stating mismatch with required elements</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with not base64 string as document</li> <li>Expected Result: Error is returned stating encoding problem</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Verification of wrong document type as input</li> <li>Expected Result: Correct error code is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request has long filename field</li> <li>Expected Result: Report is returned with the same filename</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-7</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Totally empty request body is sent</li> <li>Expected Result: Error is given</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-8</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with more parameters than expected is sent</li> <li>Expected Result: Error is given or extra parameters are ignored?</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-9</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with more parameters than expected is sent</li> <li>Expected Result: Error is given or extra parameters are ignored?</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-10</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with special chars is sent</li> <li>Expected Result: Validation report is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-11</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with no optional SignaturePolicy field</li> <li>Expected Result: Validation report is returned using default policy</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-12</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with XML expansion</li> <li>Expected Result: Error is returned and Entity is not handled</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-13</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request XML external entity attack</li> <li>Expected Result: Error message is returned and Doctype field is not handled</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-14</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with empty document</li> <li>Expected Result: Error is returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-ValidationRequest-15</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with empty filename</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-16</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with not allowed signature policy characters</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-17</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Request with wrong signature policy</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-18</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is over allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-19</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: SignaturePolicy is under allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-20</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Filename is under allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-21</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Filename is over allowed length</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with bdoc document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Verification of filename value (filename do not match the actual file)</li> <li>Expected Result: The same filename is returned as sent in the request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (bdoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Bdoc file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-BdocValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Bdoc file, policy fiels should be case insensitive</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with ddoc document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File:</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and bdoc)</li> <li>Expected Result: Error is returned</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and pdf)</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-5</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Ddoc file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-DdocValidationRequest-6</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Mismatch in documentType and actual document (ddoc and xroad)</li> <li>Expected Result: Error is returned</li> <li>File: xroad-attachment.asice</li> </ul> <p>TestCaseID: Soap-PdfValidationRequest-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Input random base64 string as document with pdf document type</li> <li>Expected Result: Error is returned stating problem in document</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Soap-PdfValidationRequest-4</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: PDF file, not existing value in signaturePolicy</li> <li>Expected Result: Error is returned</li> <li>File: PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-ValidationRequest-PDF-ReportType-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Simple report is requested</li> <li>Expected Result: Simple report is returned</li> <li>File:PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-ValidationRequest-PDF-ReportType-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Detailed report is requested</li> <li>Expected Result: Detailed report is returned</li> <li>File:PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-ValidationRequest-PDF-ReportType-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Diagnostic report is requested</li> <li>Expected Result: Diagnostic report is returned</li> <li>File:PdfValidSingleSignature.pdf</li> </ul> <p>TestCaseID: Soap-ValidationRequest-BDOC-ReportType-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Simple report is requested</li> <li>Expected Result: Simple report is returned</li> <li>File: testECCDemo.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-BDOC-ReportType-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Detailed report is requested</li> <li>Expected Result: Simple report is returned</li> <li>File: testECCDemo.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-BDOC-ReportType-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Diagnostic report is requested</li> <li>Expected Result: Simple report is returned</li> <li>File: testECCDemo.bdoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-DDOC-ReportType-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Simple report is requested</li> <li>Expected Result: Simple report is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-DDOC-ReportType-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Detailed report is requested</li> <li>Expected Result: Simple report is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-DDOC-ReportType-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Diagnostic report is requested</li> <li>Expected Result: Simple report is returned</li> <li>File: igasugust1.3.ddoc</li> </ul> <p>TestCaseID: Soap-ValidationRequest-ASICE-ReportType-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Simple report is requested</li> <li>Expected Result: Simple report is returned</li> <li>File: Mac_AS0099904_EsimeneAmetlikSKTestElliptilistega_TS.asice</li> </ul> <p>TestCaseID: Soap-ValidationRequest-ASICE-ReportType-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Detailed report is requested</li> <li>Expected Result: Detailed report is returned</li> <li>File: Mac_AS0099904_EsimeneAmetlikSKTestElliptilistega_TS.asice</li> </ul> <p>TestCaseID: Soap-ValidationRequest-ASICE-ReportType-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Diagnostic report is requested</li> <li>Expected Result: Diagnostic report is returned</li> <li>File: Mac_AS0099904_EsimeneAmetlikSKTestElliptilistega_TS.asice</li> </ul>"},{"location":"siva3/appendix/test_cases/#soapxroadrequestheaderitjava","title":"SoapXRoadRequestHeaderIT.java","text":"<p>Open file</p> <p>TestCaseID: XroadSoap-RequestVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Soap headers are returned in response</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: XroadSoap-RequestVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Soap headers are returned in correct order</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: Valid_IDCard_MobID_signatures.bdoc</li> </ul> <p>TestCaseID: XroadSoap-RequestVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#validation-request-interface</li> <li>Title: Soap headers are returned in error response</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: not relevant</li> </ul> <p>TestCaseID: XroadSoap-GetDataFiles-RequestVerification-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Soap headers are returned in response for Get Data Files</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: susisevad1_3.ddoc</li> </ul> <p>TestCaseID: XroadSoap-GetDataFiles-RequestVerification-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Soap headers are returned in correct order for Get Data Files</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: valid_XML1_3.ddoc</li> </ul> <p>TestCaseID: XroadSoap-GetDataFiles-RequestVerification-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva3/interfaces/#data-files-request-interface</li> <li>Title: Soap headers are returned in error response for Get Data Files</li> <li>Expected Result: Same headers are in response as in request</li> <li>File: not relevant</li> </ul>"},{"location":"siva3/appendix/test_cases/#sample-application-integration-test","title":"Sample Application Integration Test","text":"<p>TestCaseID: Sample-Application-Elements-1</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Upload of correct file type</li> <li>Expected Result: Its possible to upload the file by dropping in download area or by browsing a file</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Sample-Application-Elements-2</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Upload of invalid file type</li> <li>Expected Result: File is not validated, corresponding errors are returned</li> <li>File: XML.xml</li> </ul> <p>TestCaseID: Sample-Application-Elements-3</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Upload file larger than 10MB</li> <li>Expected Result: File is not validated</li> <li>File: hellopades-lta-no-ocsp.pdf</li> </ul> <p>TestCaseID: Sample-Application-Elements-4</p> <ul> <li>TestType: Manual</li> <li>Requirement:</li> <li>Title: Page layout</li> <li>Expected Result: All elements are properly displayed and can be used with different window sizes</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Sample-Application-Validation-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/#validation-request-interface</li> <li>Title: Validate container with valid signatures</li> <li>Expected Result: Validation report is displayed correctly both for JSON and SOAP</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Sample-Application-Validation-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/#validation-request-interface</li> <li>Title: Validate container with valid signatures</li> <li>Expected Result: Validation report is displayed correctly both for JSON and SOAP</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Sample-Application-Validation-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/#validation-request-interface</li> <li>Title: Validate container with invalid signatures</li> <li>Expected Result: Validation report is displayed correctly both for JSON and SOAP</li> <li>File: IB-3960_bdoc2.1_TSA_SignatureValue_altered.bdoc</li> </ul> <p>TestCaseID: Sample-Application-Validation-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/#validation-request-interface</li> <li>Title: Validate container with not passing policy (POLv2)</li> <li>Expected Result: Validation report is displayed correctly (correct policy is returned) both for JSON and SOAP</li> <li>File: soft-cert-signature.pdf</li> </ul>"},{"location":"siva3/appendix/test_cases/#x-road-soap-system-test","title":"X-Road Soap System Test","text":"<p>TestCaseID: Xroad-Validate-Ddoc-1</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Validate valid Ddoc</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Xroad-Validate-Ddoc-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Validate invalid Ddoc</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: test-non-repu1.ddoc</li> </ul> <p>TestCaseID: Xroad-Validate-Ddoc-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-Validate-Bdoc-1</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Validate valid Bdoc</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: \u0160u\u017elikud s\u00f5id \u00fche \u00f5una \u00e4ra.bdoc</li> </ul> <p>TestCaseID: Xroad-Validate-Bdoc-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Validate invalid Bdoc</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: TM-15_revoked.4.asice</li> </ul> <p>TestCaseID: Xroad-Validate-Bdoc-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-Validate-Pdf-1</p> <ul> <li>TestType: Automated SoapUI </li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Validate valid Pdf</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: pades-baseline-lta-live-aj.pdf</li> </ul> <p>TestCaseID: Xroad-Validate-Pdf-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Validate invalid Pdf</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: pades-baseline-t-live-aj.pdf</li> </ul> <p>TestCaseID: Xroad-Validate-Pdf-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-Validate-Xroad-1</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Validate valid Xroad</li> <li>Expected Result: The document should return validation report with one valid signature</li> <li>File: xroad-batchsignature.asice</li> </ul> <p>TestCaseID: Xroad-Validate-Xroad-2</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Validate invalid Xroad</li> <li>Expected Result: The document should return validation report with no valid signature</li> <li>File: invalid-digest.asice</li> </ul> <p>TestCaseID: Xroad-Validate-Xroad-3</p> <ul> <li>TestType: Automated SoapUI</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Invalid Request</li> <li>Expected Result: Soap error should be returned</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Xroad-GetDataFiles-DDOC-1</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Get data files from valid DDOC</li> <li>Expected Result: Data files should be returned</li> <li>File: DIGIDOC-XML1.3.ddoc</li> </ul> <p>TestCaseID: Xroad-GetDataFiles-DDOC-2</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Get data files from invalid DDOC</li> <li>Expected Result: Data files should be returned even if the signatures are not valid</li> <li>File: test-non-repu1.ddoc</li> </ul> <p>TestCaseID: Xroad-GetDataFiles-DDOC-3</p> <ul> <li>TestType: Automated</li> <li>Requirement: http://open-eid.github.io/SiVa/siva/v3/interfaces/</li> <li>Title: Invalid request</li> <li>Expected Result: Error is returned as the document type is not supported</li> <li>File: test-non-repu1.ddoc  </li> </ul>"},{"location":"siva3/appendix/test_cases/#configuration-system-test","title":"Configuration System Test","text":"<p>TestCaseID: Configuration-Webapp-TSL-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: TSL update over network</li> <li>Expected Result: TSL is updated from configured path</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-TSL-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: TSL update disabled</li> <li>Expected Result: Local cashe is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-TSL-4</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: TSL trusted territories</li> <li>Expected Result: only listed countries are allowed</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-TSL-5</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: TSL loader scheduler cron</li> <li>Expected Result: TSL renewal process is started</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Keystore-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Keystore change</li> <li>Expected Result: configured keystore is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Scheduler-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Update time is configured</li> <li>Expected Result: configured time is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Xroad-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: X-Road validator service address is changed</li> <li>Expected Result: correct address is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Policy-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Configure policy for bdoc</li> <li>Expected Result: Configuration is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Policy-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Configure policy for pdf</li> <li>Expected Result: Configuration is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Monitoring-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled for webapp only</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Monitoring-2</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled for webapp and Xroad Service</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-Webapp-Monitoring-3</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled and custom links are configured</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info</li> <li>File: not relevant    </li> </ul> <p>TestCaseID: Configuration-XroadService-Monitoring-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info for Xroad Service</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-SampleApplication-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Configuration of SiVa Web Service access</li> <li>Expected Result: Correct web service is used</li> <li>File: not relevant</li> </ul> <p>TestCaseID: Configuration-SampleApplication-Monitoring-1</p> <ul> <li>TestType: Manual</li> <li>Requirement: http://open-eid.github.io/SiVa/siva2/systemintegrators_guide/</li> <li>Title: Monitoring is enabled</li> <li>Expected Result: Its possible to get \"heartbeat\" status with correct info using basic authentication</li> <li>File: not relevant</li> </ul>"},{"location":"siva3/appendix/validation_policy/","title":"SiVa Signature Validation Policy","text":""},{"location":"siva3/appendix/validation_policy/#introduction","title":"Introduction","text":"<p>This signature validation policy document specifies signature validation rules used for validating signatures in SiVa digital signature validation service (hereinafter: Service).</p>"},{"location":"siva3/appendix/validation_policy/#versioning","title":"Versioning","text":"<p>Different policy versions may be used by the service in the following conditions:</p> <ul> <li>different validation policies may be in use simultaneously, enabling the Service's user to choose the most suitable policy for a specific business context;</li> <li>validation policies are subject to change, i.e. there may be an update to a policy which causes the previous version to become no longer used (obsolete);</li> <li>for later reference, the validation report returned by the Service must indicate the specific version of validation policy that was used during validation process.</li> <li>for later reference, previous versions of validation policy documents should remain available for the Service's users.</li> </ul> <p>The following validation policy versions are supported in SiVa 2.0 and 3.0 service:</p> <ol> <li>SiVA Signature Validation Policy - Version 3 (POLv3)</li> <li>SiVA Signature Validation Policy - Version 4 (POLv4)</li> </ol> <p>The following validation policy versions are marked as obsolete in SiVa 2.0 service:</p> <ol> <li>SiVA Signature Validation Policy - Version 1 (POLv1)</li> <li>SiVA Signature Validation Policy - Version 2 (POLv2)</li> </ol>"},{"location":"siva3/appendix/validation_policy/#general-principles-of-siva-validation-policies","title":"General principles of SiVa validation policies","text":"<ol> <li>The validation policy documents describe validation rules for all digital signature formats that are supported in SiVa.</li> <li>All rules described for electronic signatures also apply for electronic seals and digital stamps if not explicitly stated otherwise.</li> <li>The set of signature validation constraints that are used by the Service are a combination of constraints defined in the Service itself and constraints that are implicitly defined in base components of the service, including:<ul> <li>Validation rules defined by the standard or specification documents of the digital signature formats supported in SiVa (described in Signature format constraints section).</li> <li>Validation rules defined by base libraries used in SiVa that implement the supported digital signature formats, i.e. the validation constraints that are imposed by the source code implementation or configuration of the base libraries (described in Base libraries' constraints section).</li> </ul> </li> </ol> <p>Note</p> <p>When no specific validation rule is set in the present document, the requirements and rules from the aforementioned implicit sources for validation requirements shall apply in their entirety. When specific requirements and rules are set in the present validation policy document, they shall prevail over the corresponding requirements set in the implicit resources.</p>"},{"location":"siva3/appendix/validation_policy/#siva-signature-validation-policy-version-3-polv3","title":"SiVA Signature Validation Policy - Version 3 (POLv3)","text":""},{"location":"siva3/appendix/validation_policy/#description","title":"Description","text":"<p>Policy for validating Electronic Signatures and Electronic Seals regardless of the legal type of the signature or seal (according to Regulation (EU) No 910/2014), i.e. the fact that the electronic signature or electronic seal is either Advanced electronic Signature (AdES), AdES supported by a Qualified Certificate (AdES/QC) or a Qualified electronic Signature (QES) does not change the total validation result of the signature. </p>"},{"location":"siva3/appendix/validation_policy/#url","title":"URL","text":"<pre><code>http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv3\n</code></pre>"},{"location":"siva3/appendix/validation_policy/#polv3-validation-constraints","title":"POLv3 validation constraints","text":"<ol> <li>The signature may be a Qualified Electronic Signature (QES), Advanced electronic Signature (AdES) or AdES supported by a Qualified Certificate (AdES/QC) taking account of the following requirements:<ul> <li>Qualified Certificate (QC) requirement<ul> <li>The signer\u2019s certificate may be a qualified or non-qualified certificate, as meant by the eIDAS regulation.</li> <li>The signer's certificate is considered acceptable by the validation process even if it is not possible to determine the certificate's QC compliance.</li> </ul> </li> <li>SSCD/QSCD (Secure/Qualified Signature Creation Device) requirement<ul> <li>Signer certificate may or may not comply with SSCD/QSCD criteria. </li> <li>The signer's certificate is considered acceptable by the validation process even if it is not possible to determine the certificate's SSCD/QSCD compliance.</li> </ul> </li> </ul> </li> <li>Constraints defined in the Common validation constraints (POLv3, POLv4) section</li> </ol>"},{"location":"siva3/appendix/validation_policy/#siva-signature-validation-policy-version-4-polv4","title":"SiVA Signature Validation Policy - Version 4 (POLv4)","text":""},{"location":"siva3/appendix/validation_policy/#description_1","title":"Description","text":"<p>Policy for validating Qualified Electronic Signatures and Qualified Electronic Seals (according to Regulation (EU) No 910/2014). I.e. signatures that have been recognized as Advanced electronic Signatures (AdES) and AdES supported by a Qualified Certificate (AdES/QC) do not produce a positive validation result.</p>"},{"location":"siva3/appendix/validation_policy/#url_1","title":"URL","text":"<pre><code>http://open-eid.github.io/SiVa/siva3/appendix/validation_policy/#POLv4\n</code></pre>"},{"location":"siva3/appendix/validation_policy/#polv4-validation-constraints","title":"POLv4 validation constraints","text":"<ol> <li>The requirements for the signature level depend on signature type.<ul> <li>Qualified Certificate (QC) requirement<ul> <li>The signer\u2019s certificate must be a qualified certificate, as meant by the eIDAS regulation.</li> <li>If Trusted Lists are used during signature validation then also the signer certificate\u2019s qualification information in the Trusted List is taken into account.</li> </ul> </li> <li>SSCD/QSCD (Secure/Qualified Signature Creation Device) requirement<ul> <li>In case of Signatures, signer certificate should comply with SSCD/QSCD criteria, otherwise warning is returned.</li> <li>In case of Seals, there is no requirement for SSCD/QSCD criteria.</li> <li>If it is not possible to determine the signature type, it must comply with SSCD/QSCD criteria.</li> <li>If Trusted Lists are used during signature validation then the also signer certificate\u2019s SSCD/QSCD qualification information in the Trusted List is taken into account. </li> </ul> </li> <li>The signer's certificate is not considered acceptable by the validation process if it is not possible to determine the certificate's QC and SSCD/QSCD compliance, with the following exception:<ul> <li>In case of DIGIDOC-XML 1.0...1.3 and the respective hashcode formats, it is assumed that the signer's certificate complies with QC and SSCD/QSCD requirements, if the certificate is issued by SK and if the nonRepudiation bit has been set in the certificate's Key Usage field. See also Certificate Profile documents of certificates issued by SK, ETSI EN 319 412-2 and ETSI EN 319 412-3.</li> </ul> </li> </ul> </li> <li>Constraints defined in the Common validation constraints (POLv3, POLv4) section</li> </ol>"},{"location":"siva3/appendix/validation_policy/#common-validation-constraints-polv3-polv4","title":"Common validation constraints (POLv3, POLv4)","text":""},{"location":"siva3/appendix/validation_policy/#general-constraints","title":"General constraints","text":"<ol> <li>The validation result returned by SiVa determines whether a signature is technically valid and depending of a container type also conforms to a set of validation constraints that are specific to Estonian legislation and local practices of digital signing. The policy may not be suitable for signatures created in other territories.</li> <li>The validation result returned by SiVa comprises validation results of all the signatures in a single signature container (in case of detached signatures) or all signatures in a signed document (in case of enveloped or enveloping signatures). I.e. in case of multiple detached/enveloped/enveloping signatures, overall validation result corresponding to the collection of signatures is not determined.</li> </ol>"},{"location":"siva3/appendix/validation_policy/#signature-format-constraints","title":"Signature format constraints","text":"<ol> <li> <p>SiVa implicitly implements constraints that are specified in the specification documents of the signature formats supported by the Service:</p> <ul> <li>BDOC 2.1 ASiC-E/XAdES signatures</li> <li>PAdES signatures</li> <li>XAdES signatures</li> <li>CAdES signatures</li> <li>DIGIDOC-XML  1.0, 1.1, 1.2, 1.3 signatures</li> <li>DIGIDOC-XML 1.0, 1.1, 1.2 and 1.3 signatures in hashcode format</li> </ul> </li> </ol>"},{"location":"siva3/appendix/validation_policy/#base-libraries-constraints","title":"Base libraries' constraints","text":"<ol> <li> <p>SiVa implicitly implements constraints that are imposed by the base software libraries that are used by the service. For more information, see the documentation and source code of the base libraries:</p> <ul> <li>DigiDoc4J - is used to validate signatures in BDOC 2.1 and DDOC format</li> <li>Open-eID DSS fork - is used to validate all other signature formats than mentioned above</li> </ul> </li> </ol>"},{"location":"siva3/appendix/validation_policy/#baseline-profile-constraints","title":"Baseline Profile constraints","text":"<ol> <li>The signature must comply with Baseline Profile of the respective signature format:<ul> <li>XAdES Baseline Profile</li> <li>PAdES Baseline Profile</li> <li>CAdES Baseline Profile</li> </ul> </li> <li>In case of Baseline LT-level signature with time-mark, the notation BASELINE_LT_TM is used.</li> <li>The following table describes supported Baseline Profile levels, according to signature formats:</li> </ol> Signature format BASELINE_B BASELINE_T BASELINE_LT BASELINE_LT_TM BASELINE_LTA BDOC NOK NOK NOK OK NOK PAdES NOK NOK OK NOK OK XAdES NOK NOK OK NOK OK CAdES NOK NOK OK NOK OK **DIGIDOC-XML 1.0...1.3 ** NOK NOK NOK OK NOK **DIGIDOC-XML 1.0...1.3 hashcode ** NOK NOK NOK OK NOK <p>Legend:</p> <ul> <li>OK - the respective Baseline Profile level is supported and acceptable.</li> <li>NOK - the respective Baseline Profile level is not supported or is considered insufficient for the signature format.</li> </ul>"},{"location":"siva3/appendix/validation_policy/#x509-validation-constraints","title":"X.509 validation constraints","text":"<ol> <li>The signer certificate\u2019s Key Usage field must have nonRepudiation bit set (also referred to as contentCommitment).</li> </ol>"},{"location":"siva3/appendix/validation_policy/#cryptographic-algorithm-constraints","title":"Cryptographic algorithm constraints","text":"<ol> <li>Hash algorithm constraints:<ul> <li>In case of BDOC format: when validating a signature where SHA-1 function has been used then a validation warning about weak digest method is returned.</li> </ul> </li> <li>Asymmetric cryptographic algorithm constraints:<ul> <li>RSA and ECC cryptographic algorithms are supported</li> <li>In case of PAdES/XAdES(also BDOC)/CAdES formats, the RSA key length must be at least 1024 bits and ECC key length at least 192 bits.</li> </ul> </li> </ol>"},{"location":"siva3/appendix/validation_policy/#trust-anchor-constraints","title":"Trust anchor constraints","text":"<ol> <li>The signature must contain the certificate of the trust anchor and all certificates necessary for the signature validator to build a certification path up to the trust anchor. This applies to the signer\u2019s certificate and the certificates of trust service providers that have issued the time-stamp token and revocation data that are incorporated in the signature.</li> <li>Trust Anchors are:<ul> <li>In case of XAdES/CAdES/PAdES formats: EU Member State Trusted Lists.</li> <li>In case of DIGIDOC-XML 1.0...1.3 and respective hashcode formats: Estonian CA certificates issued by SK, defined in local configuration file.</li> </ul> </li> </ol>"},{"location":"siva3/appendix/validation_policy/#revocation-data-constraints","title":"Revocation data constraints","text":"<ol> <li>The signature must contain evidence record to confirm that certificate was valid at the time of signing.</li> <li>The evidence record of signer certificate must be in the form of an OCSP confirmation or as a Certificate Revocation List.</li> <li>No additional revocation data other than the data that was originally incorporated in the signature shall be requested during validation time.</li> <li>Checking revocation of certificates regarded as Trust Anchors:<ul> <li>In case of DIGIDOC-XML 1.0...1.3 format: revocation of Trust Anchor certificates is not checked.</li> <li>In case of XAdES/CAdES/PAdES formats: revocation of Trust Anchor certificates is checked on the basis of the data in Trusted Lists.</li> </ul> </li> </ol>"},{"location":"siva3/appendix/validation_policy/#signer-certificates-revocation-freshness-constraints","title":"Signer certificate's revocation freshness constraints","text":"<ol> <li>In case of BDOC and DIGIDOC-XML 1.0...1.3 BASELINE_LT_TM signatures with time-mark: revocation data is always considered fresh as the revocation data is issued at the trusted signing time.</li> <li>In case of XAdES/CAdES/PAdES BASELINE_LT and BASELINE_LTA signatures with signature time-stamp: revocation data freshness is checked according to the following rules:<ul> <li>In case of Estonian signature's OCSP response, if the difference between signature's time-stamp's production time (genTime field) and signer certificate's OCSP confirmation\u2019s production time (producedAt field) is more than 24 hours, then the signature is considered invalid. If the difference is more than 15 minutes and less than 24h, then a validation warning is returned.</li> <li>In case of Certificate Revocation List the signature time-stamp's production time (genTime field) must be within validity range of the CRL (between thisUpdate and nextUpdate)</li> </ul> </li> </ol>"},{"location":"siva3/appendix/validation_policy/#trusted-signing-time-constraints","title":"Trusted signing time constraints","text":"<ol> <li>Trusted signing time, denoting the earliest time when it can be trusted (because proven by some Proof-of-Existence present in the signature) that a signature has existed, is determined as follows:<ul> <li>In case of signature with time-mark (BASELINE_LT_TM level) - the producedAt value of the earliest valid time-mark (OCSP confirmation of the signer's certificate) in the signature.</li> <li>In case of signature with time-stamp (BASELINE_T, BASELINE_LT or BASELINE_LTA level) - the genTime value of the earliest valid signature time-stamp token in the signature.</li> <li>In case of basic signature (BASELINE_B) - the trusted signing time value cannot be determined as there is no Proof-of-Existence of the signature.</li> </ul> </li> <li>In case of QES signature with (archive) time-stamp or ASiC-S with time stamp token, only qualified time-stamps are allowed (TSA/QTST services only).</li> </ol>"},{"location":"siva3/appendix/validation_policy/#bdoc-container-specific-requirements","title":"BDOC container specific requirements","text":"<p>The BDOC container must conform with BDOC 2.1 standard.</p> <ol> <li>File extension <code>.bdoc</code> is supported during signature validation.</li> <li>Only one signature shall be stored in one <code>signatures.xml</code> file.</li> <li>All signatures in the container must sign all of the data files.</li> <li>All data files in the container must be signed, i.e. all files in the container, except of <code>mimetype</code> file and the files in <code>META-INF/</code> folder, must be signed.</li> <li>Two data files with the same name and same path shall not be allowed in the container as the signed data file must be uniquely identifiable in the container. To avoid conflicts in some operating system environments, file names shall be case insensitive.</li> <li>Only relative file paths are supported, for example <code>META-INF/signatures.xml</code> and <code>document.txt</code> instead of <code>/META-INF/signatures.xml</code> and <code>/document.txt</code>.</li> <li><code>META-INF/manifest.xml</code> file shall be conformant to OASIS Open Document Format version 1.0 or 1.2.</li> </ol>"},{"location":"siva3/appendix/validation_policy/#asice-container-specific-requirements","title":"ASICE container specific requirements","text":"<p>The ASICE container must conform with ETSI EN 319 162-1 standard.</p> <ol> <li>Warning is returned when signatures in the container do not sign all of the data files.</li> <li>Manifest file must be present.</li> </ol>"},{"location":"siva3/appendix/validation_policy/#asics-container-specific-requirements","title":"ASICS container specific requirements","text":"<p>The service supports both signature and time-stamp token (TST) based ASiC-S containers. Evidence record based containers are not supported. The ASiC-S container must conform with ETSI EN 319 162-1 and ETSI EN 319 162-2 standards.</p> <ol> <li>Manifest file can not be present in case of signature-based ASiC-S containers.</li> <li>Only one data file is present in an ASiC-S container.</li> <li>One or more time-stamp tokens per container is supported:<ul> <li>Only one <code>META-INF/timestamp.tst</code> can be present.</li> <li>In case of multiple timestamps, each following time-stamp token must have a unique name (e.g., <code>timestamp001.tst</code>).</li> </ul> </li> <li>There must not be any of the following files in the ASiC-S container:<ul> <li><code>META-INF/signature.p7s</code></li> <li><code>META-INF/signatures.xml</code></li> <li><code>META-INF/evidencerecord.ers</code></li> <li><code>META-INF/evidencerecord.xml</code></li> </ul> </li> <li>Time-stamp tokens of ASiC-S containers are validated via DSS (TSL verification is performed).</li> </ol>"}]}